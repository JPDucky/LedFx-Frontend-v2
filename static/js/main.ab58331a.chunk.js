(this.webpackJsonpledfx=this.webpackJsonpledfx||[]).push([[0],{236:function(e){e.exports=JSON.parse('{"a":"2.0.0-beta37"}')},290:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},323:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var r=n(28),a=n.n(r),i=(n(290),n(5)),c=n(6),o=n(0),s=n.n(o),l=n(503),d=n(526),u=n(36),f=n(38),j=n(3),b=n(504),p=n(8),m=n.n(p),g=n(16),h=n(26),x=n(9),v=n(31),O=n.n(v),y=n(212),A=n.n(y),w=n(170),k=n(85),C=n.n(k),S=O()()?"http://localhost:8888":window.location.href.split("/#")[0]||"http://localhost:8888",D=window.localStorage.getItem("ledfx-host"),T=C.a.create({baseURL:D||S}),N=function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a,i,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:"GET",a=c.length>3?c[3]:void 0,!!window.localStorage.getItem("ledfx-newbase")){e.next=41;break}e.prev=4,i=null,e.t0=r,e.next="PUT"===e.t0?9:"DELETE"===e.t0?13:"POST"===e.t0?17:21;break;case 9:return e.next=11,T.put(t,a);case 11:return i=e.sent,e.abrupt("break",25);case 13:return e.next=15,T.delete(t,a);case 15:return i=e.sent,e.abrupt("break",25);case 17:return e.next=19,T.post(t,a);case 19:return i=e.sent,e.abrupt("break",25);case 21:return e.next=23,T.get(t);case 23:return i=e.sent,e.abrupt("break",25);case 25:if(!i.data||!i.data.payload){e.next=29;break}if(n({ui:{snackbar:{isOpen:!0,messageType:i.data.payload.type||"error",message:i.data.payload.reason||i.data.payload.message||JSON.stringify(i.data.payload)}}}),!i.data.status){e.next=29;break}return e.abrupt("return",i.data.status);case 29:if(i.payload&&n({ui:{snackbar:{isOpen:!0,messageType:i.payload.type||"error",message:i.payload.reason||i.payload.message||JSON.stringify(i.payload)}}}),200!==i.status){e.next=33;break}return n({disconnected:!1}),e.abrupt("return",i.data||i);case 33:n({ui:{snackbar:{isOpen:!0,messageType:"error",message:i.error||JSON.stringify(i)}}}),e.next=41;break;case 36:if(e.prev=36,e.t1=e.catch(4),!e.t1.message){e.next=40;break}return e.abrupt("return",n({ui:{snackbar:{isOpen:!0,messageType:"error",message:JSON.stringify(e.t1.message)}}}));case 40:n({ui:{snackbar:{isOpen:!0,messageType:"error",message:JSON.stringify(e.t1,null,2)}}});case 41:case"end":return e.stop()}}),e,null,[[4,36]])})));return function(t,n){return e.apply(this,arguments)}}(),L=A()(Object(w.persist)(Object(w.devtools)((function(e,t){return{host:O()()?"http://localhost:8888":window.location.href.split("#")[0],setHost:function(t){return window.localStorage.setItem("ledfx-host",t.title?t.title:t),e((function(e){return{host:t}}))},features:{dev:!1,cloud:!1,wled:!1,integrations:!1,spotify:!1,webaudio:!1,waves:!1,streamto:!1,effectfilter:!1,transitions:!1,frequencies:!1,go:!1},setFeatures:function(t,n){return e((function(e){return{features:Object(x.a)(Object(x.a)({},e.features),{},Object(i.a)({},t,n))}}))},showFeatures:{dev:!1,cloud:!1,wled:!1,integrations:!1,spotify:!1,webaudio:!1,waves:!1,streamto:!1,effectfilter:!1,transitions:!1,frequencies:!1,go:!1},setShowFeatures:function(t,n){return e((function(e){return{showFeatures:Object(x.a)(Object(x.a)({},e.showFeatures),{},Object(i.a)({},t,n))}}))},tours:{home:!1,devices:!1,device:!1,integrations:!1,scenes:!1,settings:!1},setTour:function(t){return e((function(e){return{tours:Object(x.a)(Object(x.a)({},e.tours),{},Object(i.a)({},t,!0))}}))},settingsExpanded:!1,setSettingsExpanded:function(t){return e((function(){return{settingsExpanded:t}}))},disconnected:!1,setDisconnected:function(t){return e((function(){return{disconnected:t}}))},viewMode:"user",setViewMode:function(t){return e((function(){return{viewMode:t}}))},pixelGraphs:[],setPixelGraphs:function(t){return e((function(e){return{pixelGraphs:Object(h.a)(t)}}))},dialogs:{nohost:{open:!1,edit:!1},addScene:{open:!1},addDevice:{open:!1,edit:{}},addVirtual:{open:!1,edit:{}},addIntegration:{open:!1,edit:{}}},setDialogOpen:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e((function(e){return{dialogs:Object(x.a)(Object(x.a)({},e.dialogs),{},{nohost:{open:t,edit:n}})}}))},setDialogOpenAddScene:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e((function(e){return{dialogs:Object(x.a)(Object(x.a)({},e.dialogs),{},{addScene:{open:t,edit:n}})}}))},setDialogOpenAddDevice:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e((function(e){return{dialogs:Object(x.a)(Object(x.a)({},e.dialogs),{},{addDevice:{open:t,edit:n}})}}))},setDialogOpenAddVirtual:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e((function(e){return{dialogs:Object(x.a)(Object(x.a)({},e.dialogs),{},{addVirtual:{open:t,edit:n}})}}))},setDialogOpenAddIntegration:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e((function(e){return{dialogs:Object(x.a)(Object(x.a)({},e.dialogs),{},{addIntegration:{open:t,edit:n}})}}))},ui:{snackbar:{isOpen:!1,type:"error",message:"NO MESSAGE"},bars:{leftBar:{open:!1}}},setLeftBarOpen:function(t){return e((function(e){return{ui:Object(x.a)(Object(x.a)({},e.ui),{},{bars:{leftBar:{open:t}}})}}))},showSnackbar:function(t){var n=t.messageType,r=t.message;e((function(e){return{ui:Object(x.a)(Object(x.a)({},e.ui),{},{snackbar:{isOpen:!0,message:r,messageType:n}})}}))},clearSnackbar:function(){e((function(e){return{ui:Object(x.a)(Object(x.a)({},e.ui),{},{snackbar:Object(x.a)(Object(x.a)({},e.ui.snackbar),{},{isOpen:!1})})}}))},isLogged:!1,setIsLogged:function(t){return e((function(){return{isLogged:t}}))},devices:{},getDevices:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/devices",e);case 2:(n=t.sent)&&n.devices&&e({devices:n.devices});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addDevice:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/devices",e,"POST",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateDevice:function(){var t=Object(g.a)(m.a.mark((function t(n,r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/devices/".concat(n),e,"PUT",r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),virtuals:{},getVirtuals:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/virtuals",e);case 2:(n=t.sent)&&(e({paused:n.paused}),n&&n.virtuals&&e({virtuals:n.virtuals}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addVirtual:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/virtuals",e,"POST",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateVirtual:function(){var t=Object(g.a)(m.a.mark((function t(n,r){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.active,t.next=3,N("/api/virtuals/".concat(n),e,"PUT",{active:a});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deleteVirtual:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/virtuals/".concat(n),e,"DELETE");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),clearVirtualEffect:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/virtuals/".concat(n,"/effects"),e,"DELETE");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),setVirtualEffect:function(){var n=Object(g.a)(m.a.mark((function n(r,a){var c,o,s,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a.type,o=a.config,s=a.active,n.next=3,N("/api/virtuals/".concat(r,"/effects"),e,"POST",{type:c,config:o,active:s});case 3:(l=n.sent)&&l.effect&&e(Object(x.a)({virtuals:t().virtuals},Object(i.a)({},r,{effect:{type:l.effect.type,name:l.effect.name,config:l.effect.config}})));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),updateVirtualEffect:function(){var n=Object(g.a)(m.a.mark((function n(r,a){var c,o,s,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a.type,o=a.config,s=a.active,n.next=3,N("/api/virtuals/".concat(r,"/effects"),e,"PUT",{type:c,config:o,active:s});case 3:(l=n.sent)&&l.status&&"success"===l.status&&l&&l.effect&&e(Object(x.a)({virtuals:t().virtuals},Object(i.a)({},r,{effect:{type:l.effect.type,name:l.effect.name,config:l.effect.config}})));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),updateVirtualSegments:function(){var n=Object(g.a)(m.a.mark((function n(r){var a,c,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.virtId,c=r.segments,n.next=3,N("/api/virtuals/".concat(a),e,"POST",{segments:Object(h.a)(c)});case 3:(o=n.sent)&&o.status&&"success"===o.status&&o&&o.effect&&e(Object(x.a)({virtuals:t().virtuals},Object(i.a)({},a,{effect:{type:o.effect.type,name:o.effect.name,config:o.effect.config}})));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),presets:{},getPresets:function(){var t=Object(g.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/effects/".concat(n,"/presets"),e);case 2:(r=t.sent)&&"success"===r.status&&e({presets:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),addPreset:function(){var t=Object(g.a)(m.a.mark((function t(n,r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/virtuals/".concat(n,"/presets"),e,"POST",{name:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),activatePreset:function(){var t=Object(g.a)(m.a.mark((function t(n,r,a,i){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/virtuals/".concat(n,"/presets"),e,"PUT",{category:r,effect_id:a,preset_id:i});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),deletePreset:function(){var t=Object(g.a)(m.a.mark((function t(n,r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/effects/".concat(n,"/presets"),e,"DELETE",{data:{preset_id:r,category:"user_presets"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),colors:{},getColors:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/colors",e);case 2:(n=t.sent)&&e({colors:n});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addColor:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/colors",e,"POST",Object(x.a)({},n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteColors:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/colors",e,"DELETE",{data:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),streamingToDevices:[],setStreamingToDevices:function(t){return e((function(){return{streamingToDevices:t}}))},scenes:{},getScenes:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/scenes",e);case 2:(n=t.sent)&&n.scenes&&e({scenes:n.scenes});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addScene:function(){var t=Object(g.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.name,a=n.scene_image,t.next=3,N("/api/scenes",e,"POST",{name:r,scene_image:a});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),activateScene:function(){var t=Object(g.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.id,t.next=3,N("/api/scenes",e,"PUT",{id:r,action:"activate"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteScene:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/scenes",e,"DELETE",{data:{id:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),integrations:{},getIntegrations:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/integrations",e);case 2:(n=t.sent)&&n.integrations&&e({integrations:n.integrations});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),addIntegration:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/integrations",e,"POST",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateIntegration:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/integrations",e,"POST",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),toggleIntegration:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/integrations",e,"PUT",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteIntegration:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/integrations",e,"DELETE",{data:{id:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),schemas:{},getSchemas:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/schema",e);case 2:(n=t.sent)&&e({schemas:n});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),config:{},getSystemConfig:function(){var t=Object(g.a)(m.a.mark((function t(){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/config",e);case 2:(n=t.sent)&&n.host?e({config:Object(x.a)(Object(x.a)({},n),(r={ledfx_presets:void 0,devices:void 0,virtuals:void 0},Object(i.a)(r,"virtuals",void 0),Object(i.a)(r,"integrations",void 0),Object(i.a)(r,"scenes",void 0),r))}):e({dialogs:{nohost:{open:!0}}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getFullConfig:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/config",e);case 2:if(!(n=t.sent)||!n.host){t.next=7;break}return t.abrupt("return",Object(x.a)(Object(x.a)({},n),{ledfx_presets:void 0}));case 7:e({dialogs:{nohost:{open:!0}}});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),setSystemConfig:function(){var t=Object(g.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.config,t.next=3,N("/api/config",e,"PUT",r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteSystemConfig:function(){var t=Object(g.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/config",e,"DELETE");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),importSystemConfig:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/config",e,"POST",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),scanForDevices:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/find_devices",e,"POST",{});case 2:(n=t.sent)&&"success"===n.status||e({dialogs:{nohost:{open:!0}}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),paused:!1,togglePause:function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/virtuals",e,"PUT",{});case 2:(n=t.sent)&&n.paused&&e({paused:n.paused});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),graphs:O()(),toggleGraphs:function(){e((function(e){return{graphs:!e.graphs}}))},shutdown:function(){var t=Object(g.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/power",e,"POST",{timeout:0,action:"shutdown"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),restart:function(){var t=Object(g.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/power",e,"POST",{timeout:0,action:"restart"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getInfo:function(){var t=Object(g.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/info",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPing:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/ping/".concat(n),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getDevice:function(){var t=Object(g.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("/api/devices/".concat(n),e);case 2:if(!(r=t.sent)||!r.data){t.next=5;break}return t.abrupt("return",{key:n,id:n,name:r.data.name,config:r.data,virtuals:r.data.virtuals,active_virtuals:r.data.active_virtuals});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),webAud:!1,setWebAud:function(t){e((function(e){return{webAud:t}}))},webAudName:"",setWebAudName:function(t){e((function(e){return{webAudName:t}}))},clientDevice:null,clientDevices:null,setClientDevice:function(t){e((function(e){return{clientDevice:t}}))},setClientDevices:function(t){e((function(e){return{clientDevices:t}}))},spotifyEmbedUrl:"https://open.spotify.com/embed/playlist/4sXMBGaUBF2EjPvrq2Z3US?",setSpotifyEmbedUrl:function(t){e((function(e){return{spotifyEmbedUrl:t}}))}}})),{partialize:function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(c.a)(e,1)[0];return!["dialogs","disconnected","ui"].includes(t)})))}})),P=L;function I(){var e=Object(f.g)().pathname;return Object(o.useLayoutEffect)((function(){window.scrollTo(0,0)}),[e]),null}var B=n(131);var E=function(){if(!!!window.localStorage.getItem("ledfx-newbase")){var e=new B.a("".concat((window.localStorage.getItem("ledfx-host")||(O()()?"http://localhost:8888":window.location.href.split("/#")[0])).replace("https://","wss://").replace("http://","ws://"),"/api/websocket"),{timeout:5e3,maxAttempts:10,onopen:function(t){document.dispatchEvent(new CustomEvent("disconnected",{detail:{isDisconnected:!1}})),e.ws=t.target},onmessage:function(e){"visualisation_update"===JSON.parse(e.data).event_type&&document.dispatchEvent(new CustomEvent("YZ",{detail:{id:JSON.parse(e.data).vis_id,pixels:JSON.parse(e.data).pixels}}))},onclose:function(e){window.localStorage.removeItem("core-init"),document.dispatchEvent(new CustomEvent("disconnected",{detail:{isDisconnected:!0}}))}});return e}}(),_=E,M=s.a.createContext(E),z=function(){var e=Object(f.g)().pathname,t=P((function(e){return e.virtuals})),n=P((function(e){return e.pixelGraphs})),r=P((function(e){return e.setPixelGraphs})),a=P((function(e){return e.graphs})),i=Object(o.useState)(!1),s=Object(c.a)(i,2),l=s[0],d=s[1];return Object(o.useLayoutEffect)((function(){e.startsWith("/Devices")||e.startsWith("/device")||r([])}),[e]),Object(o.useLayoutEffect)((function(){a||r([])}),[a]),Object(o.useEffect)((function(){if(n.length>0&&l)return n.map((function(e,n){var r=function(){var r=Object(g.a)(m.a.mark((function r(){var a,i;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i={event_filter:{vis_id:e,is_device:!!(null===(a=t[e])||void 0===a?void 0:a.is_device)},event_type:"visualisation_update",id:n,type:"subscribe_event"},E.send(JSON.stringify(++i.id&&i));case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()})),function(){n.map((function(e,t){var n=function(){var e=Object(g.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={id:t,type:"unsubscribe_event",event_type:"visualisation_update"},E.send(JSON.stringify(++n.id&&n));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}))}}),[l,n]),l||E.ws&&d(!0),null},W=n(238),R=Object(W.a)({palette:{type:"dark",primary:{main:"#2BDE6A"},secondary:{main:"#1db954"},accent:{main:"#20173c"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}}}),F=Object(W.a)({palette:{type:"dark",primary:{main:"#0dbedc"},secondary:{main:"#0dbedc"},accent:{main:"#20173c"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}}}),H=Object(W.a)({palette:{type:"dark",primary:{main:"#b00000"},secondary:{main:"#500000"},accent:{main:"#20173c"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}},typography:{fontFamily:'"Nunito", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightRegular:400}}),G=Object(W.a)({palette:{type:"dark",primary:{main:"#333"},secondary:{main:"#222"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}},typography:{fontFamily:'"Nunito", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightRegular:400}}),J=Object(W.a)({palette:{type:"dark",primary:{main:"#FFBF47"},secondary:{main:"#edad2d"},accent:{main:"#542581"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}},typography:{fontFamily:'"Nunito", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightRegular:400}}),V=Object(W.a)({palette:{type:"light",primary:{main:"#800000"},secondary:{main:"#800000"}},props:{MuiCard:{variant:"outlined"}}}),X=n(176),U=(Object(X.a)({palette:{type:"dark",primary:{main:"#2BDE6A"},secondary:{main:"#1db954"},accent:{main:"#20173c"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}}}),Object(X.a)({palette:{type:"dark",primary:{main:"#0dbedc"},secondary:{main:"#0dbedc"},accent:{main:"#20173c"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}}}),Object(X.a)({palette:{type:"dark",primary:{main:"#b00000"},secondary:{main:"#500000"},accent:{main:"#20173c"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}},typography:{fontFamily:'"Nunito", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightRegular:400}}),Object(X.a)({palette:{mode:"dark",type:"dark",primary:{main:"#333"},secondary:{main:"#222"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}},typography:{fontFamily:'"Nunito", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightRegular:400}})),Y=(Object(X.a)({palette:{type:"dark",primary:{main:"#FFBF47"},secondary:{main:"#edad2d"},accent:{main:"#542581"},background:{default:"#030303",paper:"#151515"}},props:{MuiCard:{variant:"outlined"}},typography:{fontFamily:'"Nunito", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightRegular:400}}),Object(X.a)({palette:{type:"light",primary:{main:"#800000"},secondary:{main:"#800000"}},props:{MuiCard:{variant:"outlined"}}}),n(410)),Q=240,q=function(e,t,n){var r=document.createElement("a"),a=new Blob([JSON.stringify(e,null,4)],{type:n});r.href=URL.createObjectURL(a),r.download=t,r.click()},Z=function(e,t,n){var r;return r=[e[n],e[t]],e[t]=r[0],e[n]=r[1],r},K=function(){window.localStorage.removeItem("undefined"),window.localStorage.removeItem("ledfx-host"),window.localStorage.removeItem("ledfx-hosts"),window.localStorage.removeItem("ledfx-ws"),window.localStorage.removeItem("ledfx-theme"),window.localStorage.removeItem("ledfx-frontend")},$=Object(Y.a)((function(e){return{"@global":{"*::-webkit-scrollbar":{backgroundColor:"#ffffff30",width:"8px",borderRadius:"8px"},"*::-webkit-scrollbar-track":{backgroundColor:"#00000060",borderRadius:"8px"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#555555",borderRadius:"8px"},"*::-webkit-scrollbar-button":{display:"none"}},root:{display:"flex"},drawerHeader:Object(x.a)({display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,background:"transparent",padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240,"@media (max-width: 580px)":{padding:"8px"}},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),ee=(n(316),n(317),n(40)),te=n(413),ne=n(415),re=n(416),ae=n(414),ie=n(250),ce=n(417),oe=n(418),se=n(330),le=n(419),de=n(420),ue=n.p+"static/media/blademod.04a8d38d.svg",fe=Object(Y.a)((function(e){return{"@global":{"*::-webkit-scrollbar":{backgroundColor:"#ffffff30",width:"8px",borderRadius:"8px"},"*::-webkit-scrollbar-track":{backgroundColor:"#00000060",borderRadius:"8px"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#555555",borderRadius:"8px"},"*::-webkit-scrollbar-button":{display:"none"}},drawer:{width:Q,flexShrink:0},drawerPaper:{width:Q,overflowX:"hidden",paddingTop:O()()?"30px":0},drawerHeader:Object(x.a)({display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),logo:{position:"relative",padding:"0 15px",zIndex:"4"},logoLink:{display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFFFFF"}},logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px","& img":{width:"35px",top:-2,position:"absolute",verticalAlign:"middle",border:"0"}},devbadge:{backgroundImage:"url(".concat(ue,")"),backgroundColor:O()()?"transparent":e.palette.secondary.main,border:e.palette.primary.main,color:"#fff",borderRadius:O()()?0:"15px",width:"150px",padding:"5px 25px",backgroundSize:O()()?"270px":"230px",height:"20px",backgroundRepeat:"no-repeat",textAlign:"right",backgroundPosition:O()()?"-66px 50%":"-40px 50%"},activeView:{backgroundColor:e.palette.secondary.main,boxShadow:e.shadows[12],"&:hover,&:focus,&:visited,&":{backgroundColor:e.palette.secondary.main,boxShadow:e.shadows[12]},color:"#fff"}}})),je=n(412),be=n(1),pe=function(e){var t=e.stroke,n=e.strokeWidth,r=e.strokeLinejoin,a=e.strokeLinecap;return Object(be.jsx)("svg",{viewBox:"1.2738999999999998 0.896900000000001 21.511300000000002 17.9544",children:Object(be.jsx)("path",{d:"m 15.5751 0.919 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8159 -0.0141 1.6377 0.0106 2.45 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0419 0 -2.0839 0 -3.1258 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -3.5569 3.5569 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c -0.0036 0.8041 0.0083 1.6156 -0.016 2.4153 c -1.1386 0.0401 -2.2792 0.0095 -3.4186 0.0193 c -0.2245 -0.0414 -0.1307 0.2381 -0.1493 0.3678 c 0 2.2635 0 4.527 0 6.7905 c 0.0782 0.1466 0.3085 0.0379 0.4487 0.0714 c 1.0508 0 2.1016 0 3.1524 0 c 0.1465 -0.078 0.0388 -0.3084 0.0729 -0.4484 c 0.004 -1.0408 0.008 -2.0815 0.0121 -3.1223 c 1.1575 -0.0046 2.3151 -0.0091 3.4726 -0.0136 c 0.1462 -0.0786 0.0376 -0.3085 0.0712 -0.4487 c 0 -2.2364 0 -4.4729 0 -6.7093 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -1.0419 0 -2.0839 0 -3.1258 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -10.7247 10.7247 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8249 -0.0142 1.6556 0.0106 2.4769 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0509 0 -2.1018 0 -3.1527 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z",fill:"currentColor",stroke:t,strokeWidth:n,strokeLinejoin:r,strokeLinecap:a})})},me=function(e){var t=e.stroke,n=e.strokeWidth,r=e.style;return Object(be.jsx)("path",{style:r,fill:"currentColor",stroke:t,strokeWidth:n,strokeLinejoin:"bevel",strokeMiterlimit:"22.9256",d:"M22751.73 30209.19l-4508.17 1605.87c6186.94,5970.28 15978.27,5978.16 22158.89,1.34l-4508.57 -1606.03c-3977.4,2650.87 -9163.74,2648.16 -13142.15,-1.18z"})},ge=function(e){var t=e.stroke,n=e.strokeWidth,r=e.style;return Object(be.jsx)("path",{style:r,fill:"currentColor",stroke:t,strokeWidth:n,strokeLinejoin:"bevel",strokeMiterlimit:"22.9256",d:"M22802.89 10449.6l-4523.5 -1606.47c6163.23,-5924.29 15916.39,-5917.68 22087.23,-1.33l-4523.9 1606.62c-3958.6,-2605.67 -9083.15,-2607.37 -13039.83,1.18z"})},he=function(e){var t=e.stroke,n=e.strokeWidth,r=e.style;return Object(be.jsx)("polygon",{style:r,fill:"currentColor",stroke:t,strokeWidth:n,strokeLinejoin:"bevel",strokeMiterlimit:"22.9256",points:"11616.1,8249.12 11616.1,22417.04 24322.12,22417.04 24322.12,23326 15789.82,26458.12 15789.82,24700.98 11610.12,26235.29 11610.12,32404.98 28502.47,26387.7 28502.47,14246.16 22571.24,12139.74 22571.24,16618.6 24322.12,17196.7 24322.12,18147.8 15830.96,18147.8 15830.96,14182.39 17568.29,14856.66 17568.29,10363 "})},xe=function(e){var t=e.stroke,n=e.strokeWidth,r=e.style;return Object(be.jsx)("polygon",{style:r,fill:"currentColor",stroke:t,strokeWidth:n,strokeLinejoin:"bevel",strokeMiterlimit:"22.9256",points:"47093.19,8225.33 30139.81,14246.16 30139.81,16475.31 36517.25,16475.31 42851.53,14225.75 42851.53,18170.76 30139.81,18170.76 30139.81,26387.7 47093.19,32426.72 47093.19,24108.92 42820.02,24108.92 42820.02,24487.97 42820.02,26458.31 34335.23,23420.94 34335.23,22451.01 47093.19,22451.01 "})},ve=function(e){var t=e.stroke,n=e.strokeWidth,r=(e.strokeLinejoin,e.strokeLinecap,e.style);return Object(be.jsx)("svg",{style:Object(x.a)({transform:"scale(0.025)",marginTop:"8px",transformOrigin:"top left"},r),xmlns:"http://www.w3.org/2000/svg",width:"594mm",height:"420mm",version:"1.1",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 59400 42000",children:Object(be.jsx)("g",{id:"_0",style:{transformOrigin:"center",transform:"scale(1.3"},children:Object(be.jsx)("g",{id:"YZLogo2Bottom",children:Object(be.jsx)(me,{stroke:t,strokeWidth:n})})})})},Oe=function(e){var t=e.stroke,n=e.strokeWidth,r=(e.strokeLinejoin,e.strokeLinecap,e.style);return Object(be.jsx)("svg",{style:Object(x.a)({transform:"scale(0.025)",marginTop:"8px",transformOrigin:"top left"},r),xmlns:"http://www.w3.org/2000/svg",width:"594mm",height:"420mm",version:"1.1",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 59400 42000",children:Object(be.jsx)("g",{id:"_0",style:{transformOrigin:"center",transform:"scale(1.3"},children:Object(be.jsx)("g",{id:"YZLogo2Top",children:Object(be.jsx)(ge,{stroke:t,strokeWidth:n})})})})},ye=function(e){var t=e.stroke,n=e.strokeWidth,r=(e.strokeLinejoin,e.strokeLinecap,e.style);return Object(be.jsx)("svg",{style:Object(x.a)({transform:"scale(0.03)",marginTop:"8px",transformOrigin:"top left"},r),xmlns:"http://www.w3.org/2000/svg",width:"594mm",height:"420mm",version:"1.1",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 29700 42000",children:Object(be.jsx)("g",{id:"_0",style:{transformOrigin:"center",transform:"scale(1.3"},children:Object(be.jsx)("g",{id:"YZLogo2Y",children:Object(be.jsx)(he,{stroke:t,strokeWidth:n})})})})},Ae=function(e){var t=e.stroke,n=e.strokeWidth,r=(e.strokeLinejoin,e.strokeLinecap,e.style);return Object(be.jsx)("svg",{style:Object(x.a)({transform:"scale(0.035)",marginTop:"8px",transformOrigin:"top left"},r),xmlns:"http://www.w3.org/2000/svg",width:"594mm",height:"420mm",version:"1.1",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"29700 0 59400 42000",children:Object(be.jsx)("g",{id:"_0",style:{transformOrigin:"center",transform:"scale(1.3"},children:Object(be.jsx)("g",{id:"YZLogo2Z",children:Object(be.jsx)(xe,{stroke:t,strokeWidth:n})})})})},we=function(e){var t=e.stroke,n=e.strokeWidth,r=(e.strokeLinejoin,e.strokeLinecap,e.style);return Object(be.jsx)("svg",{style:Object(x.a)({marginTop:"8px",transformOrigin:"top left"},r),xmlns:"http://www.w3.org/2000/svg",width:"594mm",height:"420mm",version:"1.1",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 59400 42000",children:Object(be.jsx)("g",{id:"_0",style:{transformOrigin:"center",transform:"scale(1.3"},children:Object(be.jsxs)("g",{id:"YZLogo2",children:[Object(be.jsx)(xe,{stroke:t,strokeWidth:n}),Object(be.jsx)(he,{stroke:t,strokeWidth:n}),Object(be.jsx)(ge,{stroke:t,strokeWidth:n}),Object(be.jsx)(me,{stroke:t,strokeWidth:n})]})})})},ke=function(e){var t,n=e.colorIndicator,r=void 0!==n&&n,a=e.name,i=void 0===a?"MusicNote":a,c=e.className,o=e.style,s=e.scene,l=void 0!==s&&s,d=e.card,u=void 0!==d&&d;return Object(be.jsx)(je.a,{className:c,color:r?"primary":"inherit",style:o,children:i.startsWith("yz:logo2y")?Object(be.jsx)(ye,{style:{transform:u?"unset":l?"scale(1)":"scale(0.012)",marginTop:"3px"}}):i.startsWith("yz:logo2z")?Object(be.jsx)(Ae,{style:{transform:u?"unset":l?"scale(1)":"scale(0.012)",marginTop:"3px"}}):i.startsWith("yz:logo2top")?Object(be.jsx)(Oe,{style:{transform:u?"unset":l?"scale(1)":"scale(0.012)",marginTop:"3px"}}):i.startsWith("yz:logo2bot")?Object(be.jsx)(ve,{style:{transform:u?"unset":l?"scale(1)":"scale(0.012)",marginTop:"3px"}}):i.startsWith("yz:logo2")?Object(be.jsx)(we,{style:{transform:u?"unset":l?"scale(1)":"scale(0.012)",marginTop:"3px"}}):i.startsWith("wled")?Object(be.jsx)(pe,{}):i.startsWith("mdi:")?Object(be.jsx)("span",{className:"mdi mdi-".concat(i.split("mdi:")[1])}):(t=i,t[0].toLowerCase()+t.slice(1,t.length).replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())})))})},Ce=function(){var e=fe(),t=Object(ee.a)(),n=Object(f.g)().pathname,r=P((function(e){return e.virtuals})),a=P((function(e){var t;return null===(t=e.ui.bars)||void 0===t?void 0:t.leftBar.open})),i=P((function(e){return e.setLeftBarOpen})),c=Object(te.a)("(max-width:768px)"),o=function(){i(!1)},s=Object(be.jsxs)("div",{className:e.logo,children:[!O()()&&Object(be.jsxs)("a",{href:"/#",className:e.logoLink,children:[Object(be.jsx)("div",{className:e.logoImage,children:Object(be.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",className:e.img})}),"LedFx"]}),Object(be.jsx)("div",{className:e.devbadge,onClick:function(){return window.localStorage.setItem("BladeMod",0)}})]});return Object(be.jsxs)(ae.a,{className:e.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:e.drawerPaper},children:[Object(be.jsxs)("div",{className:e.drawerHeader,children:[s,Object(be.jsx)(ie.a,{onClick:o,children:"ltr"===t.direction?Object(be.jsx)(ne.a,{}):Object(be.jsx)(re.a,{})})]}),Object(be.jsx)(ce.a,{}),Object(be.jsx)(oe.a,{children:Object.keys(r).map((function(a,i){var s,l;return Object(be.jsx)(u.b,{style:{textDecoration:"none"},to:"/device/".concat(r[a].id),onClick:function(){c&&o()},children:Object(be.jsxs)(se.a,{className:3===n.split("/").length&&"device"===n.split("/")[1]&&n.split("/")[2]===a?e.activeView:e.dummy,button:!0,children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(ke,{style:{position:"relative"},colorIndicator:!(3===n.split("/").length&&"device"===n.split("/")[1]&&n.split("/")[2]===a)&&Object.keys(null===(s=r[a])||void 0===s?void 0:s.effect).length>0,name:r&&r[a]&&r[a].config&&r[a].config.icon_name&&r[a].config.icon_name})}),Object(be.jsx)(de.a,{style:{color:(3!==n.split("/").length||"device"!==n.split("/")[1]||n.split("/")[2]!==a)&&Object.keys(null===(l=r[a])||void 0===l?void 0:l.effect).length>0?t.palette.primary.light:t.palette.text.primary},primary:r[a].config.name})]},r[a].config.name)},i)}))}),Object(be.jsx)(ce.a,{})]})},Se=n(422),De=n(424),Te=n(425),Ne=n(427),Le=n(61),Pe=n(507),Ie=n(428),Be=n(243),Ee=n(421),_e=n(426),Me=n(429),ze=n(431),We=n(432),Re=n(433),Fe=n(434),He=n(435),Ge=n(436),Je=n(12),Ve=n(437),Xe=n(438),Ue=n(53),Ye=n(423),Qe=[{selector:".step-device-one",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Effect Type"}),"Choose an effect here.",Object(be.jsxs)("ul",{style:{paddingLeft:"1rem"},children:[Object(be.jsx)("li",{children:"BASIC: Simple, non reactive effects"}),Object(be.jsx)("li",{children:"1.0: Audio reactive effects"}),Object(be.jsx)("li",{children:"2D: [WIP] Effects designed for a 2D LED matrix"}),Object(be.jsx)("li",{children:"BPM: Effects designed for the beat of your music"}),Object(be.jsx)("li",{children:"2.0: Experimental new audio reactive effects"})]}),Object(be.jsx)("li",{children:"Each effect has plenty of settings to play with"}),Object(be.jsx)("li",{children:"You can tune effects to your liking"})]}),style:{backgroundColor:"#303030"}},{selector:".step-device-two",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Transitions"}),Object(be.jsx)("li",{children:"You can adjust the animation between effects"}),Object(be.jsx)("li",{children:"Set to 0 for no animation"})]}),style:{backgroundColor:"#303030"}},{selector:".step-device-three",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Presets"}),"Easily save and apply the settings of an effect. LedFx has some built in presets, and you can save your own too"]}),style:{backgroundColor:"#303030"}},{selector:".step-device-four",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Frequency Range"}),Object(be.jsx)("li",{children:"Adjust the audio frequency range used for effects"}),Object(be.jsx)("li",{children:"Most 1.0 effects will work with any frequency range you specify"}),Object(be.jsx)("li",{children:"Some effects will bypass this and do their own internal analysis"})]}),style:{backgroundColor:"#303030"}},{selector:".step-device-five",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Clear Effect"}),"Clear effect and release device"]}),style:{backgroundColor:"#303030"}},{selector:".step-device-six",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Randomizer"}),"Randomly sets all effect properties"]}),style:{backgroundColor:"#303030"}},{selector:".step-device-seven",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Effect Tours"}),"Every effect has an individual tour to explain the different properties"]}),style:{backgroundColor:"#303030"}}],qe=function(e){var t=e.cally,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],s=P((function(e){return e.setTour})),l=P((function(e){return e.tours.device}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(Ee.a,{onClick:function(e){i(!0),t(e),s("device")},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(Se.a,{variant:"dot",color:"primary",invisible:l,children:Object(be.jsx)(Ye.a,{})})}),"Tour"]}),Object(be.jsx)(Ue.a,{steps:Qe,accentColor:"#800000",isOpen:a,onRequestClose:function(){return i(!1)}})]})},Ze=[{selector:".step-scenes-one",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Scenes"}),"You can save the current state of LedFx as a scene, while giving it a name and optionally an image or an icon.",Object(be.jsx)("p",{children:"Note: This includes all active effects for all devices and their effect-settings."})]}),style:{backgroundColor:"#303030"}}],Ke=function(e){var t=e.cally,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],s=P((function(e){return e.setTour})),l=P((function(e){return e.tours.devices}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(Ee.a,{onClick:function(e){i(!0),t(e),s("scenes")},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(Se.a,{variant:"dot",color:"primary",invisible:l,children:Object(be.jsx)(Ye.a,{})})}),"Tour"]}),Object(be.jsx)(Ue.a,{steps:Ze,accentColor:"#800000",isOpen:a,onRequestClose:function(){return i(!1)}})]})},$e=n.p+"static/media/transitions.53b6d6f4.gif",et=[{selector:".step-settings",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Settings Tour"}),"Explore details about each setting"]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-four",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Control Buttons"}),"No Explanation needed"]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-six",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Global Transitions"}),"Mirror Transition-Changes to all devices"]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-seven",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Scan on startup"}),"Scan for WLEDs on startup"]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-one",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Audio Device"}),"Select your audio input device here.",Object(be.jsx)("p",{children:"Note: Additional Informations incoming"})]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-two",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Frontend FPS"}),"FPS sent to the frontend to render the PixelGraphs",Object(be.jsx)("p",{children:"Note: Low-end devices might struggle with too much data. Keep it at maximum, if everything runs smooth."})]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-three",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Frontend Max Pixel Length"}),"Pixels per device sent to the frontend to render the PixelGraphs",Object(be.jsx)("p",{children:"Note: Low-end devices might struggle with too much data."})]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-five",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"WLED Integration"}),"Finetune how LedFx should handle your WLEDs"]}),style:{backgroundColor:"#303030"}},{selector:".step-settings-eight",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Transitions"}),Object(be.jsx)("p",{children:"Finetune how LedFx change from one effect to another"}),Object(be.jsx)("div",{style:{display:"flex"},children:Object(be.jsx)("img",{src:$e})})]}),style:{backgroundColor:"#303030",maxWidth:600}}],tt=function(e){var t=e.cally,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],s=P((function(e){return e.setTour})),l=P((function(e){return e.tours.settings})),d=P((function(e){return e.settingsExpanded})),u=P((function(e){return e.setSettingsExpanded})),f=P((function(e){return e.features}));return Object(o.useLayoutEffect)((function(){a&&"all"!==d&&u("all")}),[a]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(Ee.a,{onClick:function(e){i(!0),t(e),s("settings")},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(Se.a,{variant:"dot",color:"primary",invisible:l,children:Object(be.jsx)(Ye.a,{})})}),"Tour"]}),Object(be.jsx)(Ue.a,{steps:f.wled?et:et.filter((function(e){return".step-settings-five"!==e.selector})),accentColor:"#800000",isOpen:a,onRequestClose:function(){u("false"),i(!1)}})]})},nt=[{selector:".step-devices-one",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Devices"}),"Add at least one device using the red button to get specific tour."]}),style:{backgroundColor:"#303030"}},{selector:".step-devices-two-0",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Expand"}),"Click the down arrow to toggle options."]}),style:{backgroundColor:"#303030"}},{selector:".step-devices-three-0",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Delete"}),"A device can be deleted using trashcan icon."]}),style:{backgroundColor:"#303030"}},{selector:".step-devices-four-0",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Device-Settings"}),"The wrench will allow you to modify logical device settings including streaming mode , pixel count, and IP address."]}),style:{backgroundColor:"#303030"}},{selector:".step-devices-five-0",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Virtual-Settings"}),"The Cogwheel will allow you to change various virtual device settings."]}),style:{backgroundColor:"#303030"}},{selector:".step-devices-six",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Segment-Settings"}),"The slider bar icon will allow you to modify virtual device segments."]}),style:{backgroundColor:"#303030"}},{selector:".step-devices-seven",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Pixelgraph"}),"When actively streaming with an active sound source selected you will find the graph display here.",Object(be.jsx)("p",{children:"Note: Graphs are disabled by default to keep low-end devices safe. For high-end clients they can be enabled using the top-right-menu"})]}),style:{backgroundColor:"#303030"}}],rt=function(e){var t=e.cally,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],s=P((function(e){return e.setTour})),l=P((function(e){return e.tours.devices}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(Ee.a,{onClick:function(e){i(!0),t(e),s("devices")},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(Se.a,{variant:"dot",color:"primary",invisible:l,children:Object(be.jsx)(Ye.a,{})})}),"Tour"]}),Object(be.jsx)(Ue.a,{steps:nt,accentColor:"#800000",isOpen:a,onRequestClose:function(){return i(!1)}})]})},at=[{selector:".step-integrations-one",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Integrations"}),"Text for Integrations"]}),style:{backgroundColor:"#303030"}}],it=function(e){var t=e.cally,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],s=P((function(e){return e.setTour})),l=P((function(e){return e.tours.integrations}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(Ee.a,{onClick:function(e){i(!0),t(e),s("integrations")},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(Se.a,{variant:"dot",color:"primary",invisible:l,children:Object(be.jsx)(Ye.a,{})})}),"Tour"]}),Object(be.jsx)(Ue.a,{steps:at,accentColor:"#800000",isOpen:a,onRequestClose:function(){return i(!1)}})]})},ct=Object(Y.a)((function(e){return{appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Q,"px)"),marginLeft:Q,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},backButton:{position:"absolute",top:14,"@media (max-width: 599px)":{top:10}},bladeMenu:{"& .MuiPaper-root":{backgroundColor:e.palette.grey[900]}}}})),ot=Object(Je.a)(Se.a)((function(e){var t=e.theme;return{"& .MuiBadge-badge":{right:"45%",top:"115%",border:"1px solid ".concat(t.palette.background.paper),padding:"0 4px",fontSize:"x-small",height:"14px"}}})),st=function(){var e,t=ct(),n=P((function(e){var t;return e.ui.bars&&(null===(t=e.ui.bars)||void 0===t?void 0:t.leftBar.open)})),r=P((function(e){return e.setLeftBarOpen})),a=P((function(e){return e.virtuals})),s=P((function(e){return e.setDialogOpen})),l=P((function(e){return e.togglePause})),d=P((function(e){return e.toggleGraphs})),b=P((function(e){return e.paused})),p=P((function(e){return e.graphs})),m=(P((function(e){return e.config})),P((function(e){return e.isLogged}))),g=P((function(e){return e.setIsLogged})),h=P((function(e){return e.disconnected})),x=P((function(e){return e.setDisconnected})),v=Object(f.g)().pathname,y=Object(f.f)(),A=P((function(e){return e.clearSnackbar})),w=P((function(e){return e.features})),k=Object(o.useState)(!0),C=Object(c.a)(k,2),S=C[0],D=(C[1],Object(o.useState)(!1)),T=Object(c.a)(D,2),N=T[0],L=(T[1],function(){s(!0,!0),_(null)}),I=Object(o.useState)(null),B=Object(c.a)(I,2),E=B[0],_=B[1];return Object(o.useEffect)((function(){g(!!localStorage.getItem("jwt"))}),[v]),Object(o.useEffect)((function(){return document.addEventListener("disconnected",(function(e){e.detail&&(x(e.detail.isDisconnected),!1===e.detail.isDisconnected&&(window.localStorage.removeItem("undefined"),s(!1,!0),A(),"initialized"!==window.localStorage.getItem("core-init")&&window.localStorage.setItem("core-init","initialized"))),window.localStorage.getItem("ledfx-newbase")&&s(!1,!0)})),function(){}}),[]),Object(be.jsx)(De.a,{color:"secondary",position:"fixed",style:{marginTop:O()()?"30px":0},className:Object(j.a)(t.appBar,Object(i.a)({},t.appBarShift,n)),children:Object(be.jsxs)(Te.a,{style:{justifyContent:"space-between"},children:[Object(be.jsxs)("div",{children:[Object(be.jsx)(ie.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(j.a)(t.menuButton,"step-three",n&&t.hide),children:Object(be.jsx)(_e.a,{})}),(3===v.split("/").length&&"device"===v.split("/")[1]||"/Settings"===v)&&Object(be.jsx)(Ne.a,{variant:"text",color:"inherit",className:t.backButton,startIcon:Object(be.jsx)(ne.a,{}),onClick:function(){return y.goBack()},children:"Back"})]}),Object(be.jsx)(Le.a,{variant:"h6",noWrap:!0,children:"/"===v?"LedFx":3===v.split("/").length&&"device"===v.split("/")[1]?null===(e=a[v.split("/")[2]])||void 0===e?void 0:e.config.name:v.split("/").pop()}),Object(be.jsxs)("div",{style:{display:"flex"},children:[h&&Object(be.jsx)(Pe.a,{children:Object(be.jsxs)(ie.a,{"aria-label":"display more actions",edge:"end",color:"inherit",onClick:L,className:"step-two",style:{position:"absolute",right:"4rem"},children:[Object(be.jsx)(ke,{style:{position:"relative"},name:N?"mdi:lan-connect":"mdi:lan-disconnect"}),S&&Object(be.jsx)(Ie.a,{size:44,style:{color:"rgba(0,0,0,0.6)",position:"absolute",top:3,left:0,zIndex:1}})]})}),Object(be.jsx)(ie.a,{"aria-label":"display more actions",edge:"end",color:"inherit",onClick:function(e){_(e.currentTarget)},className:"step-two",style:{marginLeft:"1rem"},children:Object(be.jsx)(Me.a,{})})]}),Object(be.jsxs)(Be.a,{id:"simple-menu",anchorEl:E,keepMounted:!0,open:Boolean(E),onClose:function(){return _(null)},className:t.bladeMenu,children:[w.cloud&&m&&Object(be.jsxs)(Ee.a,{disabled:!0,divider:!0,children:[Object(be.jsx)(le.a,{style:{marginTop:-13},children:Object(be.jsx)(ot,{badgeContent:"authenticated"===localStorage.getItem("ledfx-cloud-role")?"logged in":localStorage.getItem("ledfx-cloud-role"),color:"secondary",children:Object(be.jsx)(ze.a,{})})}),Object(be.jsx)("div",{children:Object(be.jsx)("div",{children:localStorage.getItem("username")})})]}),Object(be.jsxs)(Ee.a,{onClick:L,children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(We.a,{})}),"Change Host"]}),Object(be.jsxs)(Ee.a,{onClick:function(){l()},children:[Object(be.jsx)(le.a,{children:b?Object(be.jsx)(Re.a,{}):Object(be.jsx)(Fe.a,{})}),b?"Play":"Pause"]}),Object(be.jsxs)(Ee.a,{onClick:function(){d()},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(He.a,{color:p?"inherit":"secondary"})}),p?"Disable Graphs":"Enable Graphs"]}),"device"===v.split("/")[1]?Object(be.jsx)(qe,{cally:function(){return _(null)}}):"Scenes"===v.split("/")[1]?Object(be.jsx)(Ke,{cally:function(){return _(null)}}):"Settings"===v.split("/")[1]?Object(be.jsx)(tt,{cally:function(){return _(null)}}):"Devices"===v.split("/")[1]?Object(be.jsx)(rt,{cally:function(){return _(null)}}):"Integrations"===v.split("/")[1]?Object(be.jsx)(it,{cally:function(){return _(null)}}):null,Object(be.jsxs)(Ee.a,{onClick:function(){return _(null)},component:u.b,to:"/Settings",children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(Ge.a,{})}),"Settings"]}),w.cloud&&Object(be.jsxs)(Ee.a,{onClick:function(e){return m?function(e){e.preventDefault(),localStorage.removeItem("jwt"),localStorage.removeItem("username"),localStorage.removeItem("ledfx-cloud-userid"),localStorage.removeItem("ledfx-cloud-role"),g(!1)}(e):window.location.href="https://strapi.yeonv.com/connect/github?callback=".concat(window.location.origin)},children:[Object(be.jsx)(le.a,{children:m?Object(be.jsx)(Ve.a,{}):Object(be.jsx)(Xe.a,{})}),m?"Logout":"Login with Gihub"]})]})]})})},lt=n(459),dt=n(460),ut=n(248),ft=n(461),jt=n(455),bt=n(456),pt=n(457),mt=n(439),gt=n(440),ht=n(441),xt=n(442),vt=n(520),Ot=n(446),yt=function(){var e=Object(o.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(""),i=Object(c.a)(a,2),s=i[0],l=i[1],d=Object(o.useState)(!1),u=Object(c.a)(d,2),f=u[0],j=u[1],b=P((function(e){return e.addScene})),p=P((function(e){return e.getScenes})),m=P((function(e){return e.scenes})),g=P((function(e){var t;return(null===(t=e.dialogs.addScene)||void 0===t?void 0:t.open)||!1})),h=P((function(e){return e.setDialogOpenAddScene})),x=function(){h(!1)};return Object(be.jsxs)(mt.a,{open:g,onClose:x,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(gt.a,{id:"form-dialog-title",children:"Add Scene"}),Object(be.jsxs)(ht.a,{children:["Image is optional and can be one of:",Object(be.jsxs)("ul",{style:{paddingLeft:"1rem"},children:[Object(be.jsxs)("li",{children:["iconName ",Object(be.jsx)(xt.a,{href:"https://material-ui.com/components/material-icons/",children:"Find MUI icons here"}),Object(be.jsx)(Le.a,{color:"textSecondary",variant:"subtitle1",children:Object(be.jsx)("em",{children:"eg. flare, AccessAlarms"})})]}),Object(be.jsxs)("li",{children:["mdi:icon-name ",Object(be.jsx)(xt.a,{href:"https://materialdesignicons.com",children:"Find Material Design icons here"}),Object(be.jsx)(Le.a,{color:"textSecondary",variant:"subtitle1",children:Object(be.jsx)("em",{children:"eg. mdi:balloon, mdi:led-strip-variant"})})]}),Object(be.jsxs)("li",{children:["image:custom-url",Object(be.jsx)(Le.a,{color:"textSecondary",variant:"subtitle1",style:{wordBreak:"break-all"},children:Object(be.jsx)("em",{children:"eg. image:https://i.ytimg.com/vi/4G2unzNoOnY/maxresdefault.jpg"})})]})]}),Object(be.jsx)(vt.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",value:n,onChange:function(e){return r(e.target.value)},onBlur:function(e){j(Object.keys(m).indexOf(e.target.value.toLowerCase())>-1)},error:f,helperText:f&&"Scene already existing!",required:!0,fullWidth:!0}),Object(be.jsx)(vt.a,{margin:"dense",id:"scene_image",label:"Image",type:"text",value:s,onChange:function(e){return l(e.target.value)},fullWidth:!0})]}),Object(be.jsxs)(Ot.a,{children:[Object(be.jsx)(Ne.a,{onClick:x,children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(e){b({name:n,scene_image:s}).then((function(){p()})),r(""),l(""),h(!1)},children:f?"Overwrite":"Add"})]})]})},At=n(450),wt=n(512),kt=n(449),Ct=n(447),St=n(448),Dt=n(513),Tt=Object(Y.a)((function(e){return{paper:{border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexWrap:"wrap",maxWidth:"320px",padding:e.spacing(1),backgroundColor:e.palette.background.paper},wrapper:{padding:"10px 10px 2px 10px",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",position:"relative",display:"flex",alignItems:"center",flexBasis:"23.5%",minWidth:"unset",margin:"0.5rem 0","@media (max-width: 580px)":{flexBasis:"37vw"},"& > label":{top:"-0.5rem",display:"flex",alignItems:"center",left:"1rem",padding:"0 0.3rem",position:"absolute",fontVariant:"all-small-caps",fontSize:"0.9rem",letterSpacing:"0.1rem",backgroundColor:e.palette.background.paper,boxSizing:"border-box"}}}})),Nt=function(e){var t=e.onClick,n=e.type,r=void 0===n?"switch":n,a=e.variant,i=void 0===a?"outlined":a,c=e.schema,o=e.model,s=e.required,l=void 0!==s&&s,d=e.hideDesc,u=void 0!==d&&d,f=e.model_id,j=e.style,b=void 0===j?{}:j,p=e.index,m=Tt(),g=function(e){var t=e.children;return"outlined"===i?Object(be.jsxs)("div",{className:"".concat(m.wrapper," step-effect-").concat(p),style:b,children:[Object(be.jsxs)("label",{className:"MuiFormLabel-root",children:[c.title.replaceAll("_"," ").replaceAll("Color","c"),l?"*":""]}),t]}):"text"===i?Object(be.jsx)(Ct.a,{control:t,label:c.title.replaceAll("_"," ").replaceAll("color","c")}):{children:t}};switch(r){case"switch":return Object(be.jsxs)(g,{children:[Object(be.jsx)(St.a,{defaultValue:o&&o[f]||c.default,checked:o&&o[f],onChange:function(e,n){return t(f,n)},name:c.title.replaceAll("_"," ").replaceAll("color","c"),color:"primary"}),!u&&c.description?Object(be.jsx)(be.Fragment,{children:Object(be.jsxs)(Le.a,{variant:"body2",className:"MuiFormHelperText-root",children:[c.description," "]})}):Object(be.jsx)(be.Fragment,{})]});case"checkbox":return Object(be.jsx)(g,{children:Object(be.jsx)(Dt.a,{defaultValue:c.default,checked:o&&o[f],onChange:function(e,n){return t(f,n)},name:f,color:"primary"})});case"button":return Object(be.jsx)(Ne.a,{color:"primary",variant:o[f]?"contained":"outlined",onClick:function(){return t(f,!o[f])},children:c.title.replaceAll("_"," ").replaceAll("color","c")});default:return Object(be.jsx)("div",{children:"unset"})}},Lt=Object(Y.a)((function(e){return{wrapper:{minWidth:"200px",padding:"16px 1.2rem 6px 1.2rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",position:"relative",display:"flex",alignItems:"center",height:"auto",margin:"0.5rem 0","@media (max-width: 580px)":{width:"100% !important",margin:"0.5rem 0"},"& > label":{top:"-0.5rem",display:"flex",alignItems:"center",left:"1rem",padding:"0 0.3rem",position:"absolute",fontVariant:"all-small-caps",fontSize:"0.9rem",letterSpacing:"0.1rem",backgroundColor:e.palette.background.paper,boxSizing:"border-box"}}}})),Pt=function(e){var t=e.title,n=e.children,r=e.full,a=void 0!==r&&r,i=e.style,c=void 0===i?{width:"unset"}:i,o=e.required,s=void 0!==o&&o,l=e.variant,d=void 0===l?"outlined":l,u=e.className,f=e.disabled,j=Lt();return"outlined"===d?Object(be.jsxs)("div",{className:"".concat(j.wrapper," ").concat(u),style:Object(x.a)(Object(x.a)({},c),{},{width:a?"100%":c.width}),children:[Object(be.jsxs)("label",{className:"MuiFormLabel-root".concat(f?" Mui-disabled":""),children:[t,s?"*":""]}),n]}):n},It=function(e){var t,n=e.variant,r=void 0===n?"outlined":n,a=e.disabled,i=void 0!==a&&a,c=e.schema,o=e.model,s=e.model_id,l=e.onChange,d=e.index,u=e.required,f=void 0!==u&&u,j=e.wrapperStyle,b=void 0===j?{flexBasis:"48%"}:j,p=e.selectStyle,m=void 0===p?{}:p,g=e.textStyle,h=void 0===g?{}:g,v=e.menuItemStyle,O=void 0===v?{}:v,y=e.hideDesc,A=e.children;return Object(be.jsx)(Pt,{title:c.title,className:"step-effect-".concat(d),full:!(c.enum&&c.enum.length&&Object.values(c.enum).every((function(e){return e.length<20}))),required:f,style:Object(x.a)(Object(x.a)({},b),{},{flexBasis:"Name"===c.title?"100%":"48%"}),children:"contained"===r?c.enum?Object(be.jsx)(wt.a,{variant:"filled",disabled:i,style:{flexGrow:"outlined"===r?1:"unset",selectStyle:m},disableUnderline:!0,defaultValue:c.default,value:o&&o[s]||c.enum[0],onChange:function(e){return l(s,e.target.value)},children:A||c.enum.map((function(e,t){return Object(be.jsx)(Ee.a,{value:e,children:e},"".concat(t,"-").concat(t))}))}):Object(be.jsx)(vt.a,{helperText:!y&&c.description,defaultValue:o&&o[s]||c.enum&&c.enum[0]||c.default||"",onBlur:function(e){return l(s,e.target.value)},style:h}):c.enum&&Array.isArray(c.enum)?Object(be.jsx)(wt.a,{disabled:i,style:{flexGrow:"outlined"===r?1:"unset",selectStyle:m},disableUnderline:!0,defaultValue:c.default,value:o&&o[s]||c.enum[0],onChange:function(e){return l(s,e.target.value)},children:c.enum.map((function(e,t){return Object(be.jsx)(Ee.a,{value:e,style:O,children:e},t)}))}):c.enum&&!Array.isArray(c.enum)?Object(be.jsx)(wt.a,{disabled:i,style:{flexGrow:"outlined"===r?1:"unset",selectStyle:m},disableUnderline:!0,defaultValue:c.default,value:o&&c.enum[o[s]]||c.enum[0],onChange:function(e){return l(s,parseInt(Object.keys(c.enum).find((function(t){return c.enum[t]===e.target.value}))))},children:Object.keys(c.enum).map((function(e,t){return Object(be.jsx)(Ee.a,{value:c.enum[e],children:c.enum[e]},t)}))}):Object(be.jsx)(vt.a,{type:(null===(t=c.description)||void 0===t?void 0:t.includes("password"))?"password":"unset",helperText:!y&&c.description,defaultValue:o&&o[s]||c.enum&&c.enum[0]||c.default||"",onBlur:function(e){return l(s,e.target.value)},style:h})})},Bt=n(523),Et=n(443),_t=Object(Y.a)((function(e){return{input:{marginLeft:"1rem",backgroundColor:"rgb(57, 57, 61)",paddingLeft:"0.5rem",borderRadius:"5px",paddingTop:"3px"},wrapper:{minWidth:"240px",width:"48%",padding:"16px 1.2rem 6px 1.2rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",position:"relative",display:"flex",margin:"0.5rem 0","@media (max-width: 580px)":{width:"100% !important"},"& > label":{top:"-0.5rem",display:"flex",alignItems:"center",left:"1rem",padding:"0 0.3rem",position:"absolute",fontVariant:"all-small-caps",fontSize:"0.9rem",letterSpacing:"0.1rem",backgroundColor:e.palette.background.paper,boxSizing:"border-box"},"& .sortable-handler":{touchAction:"none"}}}})),Mt=function(e){var t=e.schema,n=e.model,r=e.model_id,a=e.step,i=e.onChange,s=e.textfield,l=e.style,d=e.disabled,u=e.marks,f=e.hideDesc,j=e.disableUnderline,b=_t(),p=Object(o.useState)("number"===typeof n[r]?n[r]:"number"===typeof t.default?t.default:1),m=Object(c.a)(p,2),g=m[0],h=m[1],v=function(e,t){t!==g&&h(t)};return Object(o.useEffect)((function(){h("number"===typeof n[r]?n[r]:"number"===typeof t.default?t.default:1)}),[n,r]),t.maximum&&!s?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{style:{width:"100%"},children:[Object(be.jsx)(Bt.a,{"aria-labelledby":"input-slider",valueLabelDisplay:"auto",disabled:d,step:a||(t.maximum>1?.1:.01),min:t.minimum||0,max:t.maximum,value:"number"===typeof g?g:0,onChange:v,onChangeCommitted:function(e,t){return i(r,t)},style:Object(x.a)({color:"#aaa"},l)}),!f&&t.description?Object(be.jsx)(be.Fragment,{children:Object(be.jsxs)(Le.a,{variant:"body2",className:"MuiFormHelperText-root",children:[t.description," "]})}):Object(be.jsx)(be.Fragment,{})]}),Object(be.jsx)(Et.a,{disableUnderline:!0,disabled:d,className:b.input,value:g,margin:"dense",onChange:function(e){g!==e.target.value&&(h(""===e.target.value?"":Number(e.target.value)),e.target.value<t.minimum?h(t.minimum):e.target.value>t.maximum&&h(t.maximum),i(r,Number(e.target.value)))},onBlur:function(){g<t.minimum?h(t.minimum):g>t.maximum&&h(t.maximum)},inputProps:{step:a||(t.maximum>1?.1:.01),min:t.minimum||0,max:t.maximum,type:"number","aria-labelledby":"input-slider"}})]}):t.enum&&!s?Object(be.jsx)(Bt.a,{"aria-labelledby":"input-slider",valueLabelDisplay:"auto",disabled:d,marks:u.map((function(e,t){return{value:e,label:0===t||t===u.length-1?e:""}})),step:null,min:u[0],max:u[u.length-1],value:"number"===typeof g?g:0,onChange:v,onChangeCommitted:function(e,t){return i(r,t)},style:f?l:Object(x.a)(Object(x.a)({},l),{},{width:"100%"})}):Object(be.jsx)(vt.a,{disabled:d,InputProps:{disableUnderline:j},type:"number",value:g,onChange:function(e){g<t.minimum?h(t.minimum):g>t.maximum&&h(t.maximum),i(r,Number(e.target.value))},helperText:!f&&t.description,style:f?l:Object(x.a)(Object(x.a)({},l),{},{width:"100%"})})},zt=function(e){var t=e.variant,n=void 0===t?"outlined":t,r=e.disableUnderline,a=e.schema,i=e.model,c=e.model_id,o=e.step,s=e.onChange,l=e.marks,d=e.index,u=e.required,f=void 0!==u&&u,j=e.textfield,b=void 0!==j&&j,p=e.disabled,m=void 0!==p&&p,g=e.hideDesc,h=void 0!==g&&g,x=e.style,v=void 0===x?{}:x,O=_t();return"outlined"===n?Object(be.jsxs)("div",{className:"".concat(O.wrapper," step-effect-").concat(d),style:v,children:[Object(be.jsxs)("label",{style:{color:m?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.7)"},className:"MuiFormLabel-root",children:[a.title,f?"*":""]}),Object(be.jsx)(Mt,{schema:a,model:i,model_id:c,disabled:m,step:o,onChange:s,textfield:b,marks:l,hideDesc:h,disableUnderline:r})]}):Object(be.jsx)(Mt,{schema:a,model:i,model_id:c,onChange:s,disabled:m,textfield:b,marks:l,hideDesc:h,disableUnderline:r})},Wt=n(451),Rt=Object(Y.a)((function(e){return{bladeSchemaForm:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},FormListHeaders:{background:e.palette.secondary.main,color:"#fff"}}})),Ft=function(e){var t=e.schema,n=e.model,r=e.disableUnderline,a=e.hideToggle,i=e.onModelChange,s=void 0===i?function(e){return e}:i,l=e.type,d=Rt(),u=Object(o.useState)(!0),f=Object(c.a)(u,2),j=f[0],b=f[1],p=t&&t.properties&&Object.keys(t.properties).map((function(e){return Object(x.a)(Object(x.a)({},t.properties[e]),{},{id:e,required:t.required&&-1!==t.required.indexOf(e),permitted:!t.permitted_keys||t.permitted_keys.indexOf(e)>-1})})).sort((function(e,t){return e.required?-1:1})).sort((function(e,t){return"name"===e.id?-1:1}));return Object(be.jsxs)("div",{children:[Object(be.jsx)("div",{className:d.bladeSchemaForm,children:p&&p.map((function(e,a){var i,o,u,f,b;switch(e.type){case"boolean":return Object(be.jsx)(Nt,{hideDesc:j,index:a,model:n,model_id:e.id,required:e.required,style:{margin:"0.5rem 0",flexBasis:"48%"},schema:e,onClick:function(e,t){var n={};return n[e]=t,s(n)}},a);case"string":var p={},m=[];if(null===t||void 0===t||null===(i=t.properties)||void 0===i||null===(o=i.audio_device)||void 0===o?void 0:o.enum){for(var g,h=0,x=Object.entries(null===(v=t.properties.audio_device)||void 0===v?void 0:v.enum);h<x.length;h++){var v,O=Object(c.a)(x[h],2),y=O[0],A=O[1];p[A.split(":")[0]]||(p[A.split(":")[0]]={}),p[A.split(":")[0]][y]=A.split(":")[1]}function e(e,t,n){return n.indexOf(e)===t}m=Object.values(null===(g=t.properties.audio_device)||void 0===g?void 0:g.enum).map((function(e){return e.split(":")[0]})).filter(e)}return(null===(u=m)||void 0===u?void 0:u.length)?Object(be.jsx)(Pt,{style:{order:-1},title:"Audio Device",full:!0,children:Object(be.jsx)(wt.a,{value:n&&n.audio_device||0,fullWidth:!0,disableUnderline:!0,onChange:function(e){var t={};return t.audio_device=parseInt(e.target.value),s(t)},id:"grouped-select",className:d.FormSelect,children:null===(f=m)||void 0===f?void 0:f.map((function(e,t){return[Object(be.jsx)(kt.a,{className:d.FormListHeaders,color:"primary",children:e},t),Object.keys(p[e]).map((function(t){return Object(be.jsx)(Ee.a,{className:d.FormListItem,value:t,children:p[e][t]})}))]}))})},a):!("mqtt_hass"===l&&"name"===e.id||"mqtt_hass"===l&&"description"===e.id)&&Object(be.jsx)(It,{hideDesc:j,hide:"test",model:n,disabled:!e.permitted,style:{margin:"0.5rem 0",width:"48%"},textStyle:{width:"100%"},schema:e,required:e.required,model_id:e.id,index:a,onChange:function(e,t){var n={};return n[e]=t,s(n)}},a);case"number":return Object(be.jsx)(zt,{hideDesc:j,disabled:!e.permitted,disableUnderline:r,model_id:e.id,model:n,required:e.required,schema:e,onChange:function(e,t){var n={};return n[e]=t,s(n)}},a);case"integer":return Object(be.jsx)(zt,{hideDesc:j,disabled:!e.permitted,disableUnderline:r,step:1,model_id:e.id,model:n,required:e.required,schema:e,textfield:!1,style:{margin:"0.5rem 0",width:"48%"},onChange:function(e,t){var n={};return n[e]=t,s(n)}},a);case"int":return(null===e||void 0===e||null===(b=e.enum)||void 0===b?void 0:b.length)>10?Object(be.jsx)(zt,{hideDesc:j,disabled:!e.permitted,disableUnderline:r,marks:null===e||void 0===e?void 0:e.enum,step:null,model_id:e.id,model:n,required:e.required,schema:e,textfield:!1,style:{margin:"0.5rem 0",width:"48%"},onChange:function(e,t){var n={};return n[e]=t,s(n)}},a):Object(be.jsx)(zt,{hideDesc:j,disabled:!e.permitted,disableUnderline:r,marks:null===e||void 0===e?void 0:e.enum,step:null,model_id:e.id,model:n,required:e.required,schema:e,textfield:!1,style:{margin:"0.5rem 0",width:"48%"},onChange:function(e,t){var n={};return n[e]=t,s(n)}},a);default:return Object(be.jsxs)(be.Fragment,{children:["Unsupported type:",e.type]})}}))}),!a&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ce.a,{style:{margin:"1rem 0 0.5rem 0"}}),Object(be.jsx)(Ct.a,{value:"start",control:Object(be.jsx)(St.a,{checked:!j,onChange:function(e){return b(!j)}}),label:Object(be.jsxs)(At.a,{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:0},children:["Field-Descriptions",Object(be.jsx)(Wt.a,{style:{marginLeft:"0.5rem"}})]}),labelPlacement:"end"})]})]})},Ht=Object(Y.a)((function(e){return{wrapper:{minWidth:"200px",padding:"16px 1.2rem 6px 1.2rem",border:"1px solid #999",borderRadius:"10px",position:"relative",margin:"1rem 0",display:"flex",alignItems:"center","@media (max-width: 580px)":{width:"100%",margin:"0.5rem 0"},"& > label":{top:"-0.7rem",display:"flex",alignItems:"center",left:"1rem",padding:"0 0.3rem",position:"absolute",fontVariant:"all-small-caps",fontSize:"0.9rem",letterSpacing:"0.1rem",backgroundColor:e.palette.background.paper,boxSizing:"border-box"}}}})),Gt=function(){var e=Ht(),t=P((function(e){return e.getDevices})),n=P((function(e){return e.getVirtuals})),r=P((function(e){return e.addDevice})),a=P((function(e){return e.updateDevice})),i=P((function(e){return e.devices})),s=P((function(e){var t;return(null===(t=e.dialogs.addDevice)||void 0===t?void 0:t.open)||!1})),l=P((function(e){var t;return(null===(t=e.dialogs.addDevice)||void 0===t?void 0:t.edit)||!1})),d=i[l]||{type:"",config:{}},u=P((function(e){return e.setDialogOpenAddDevice})),f=P((function(e){var t;return null===(t=e.schemas)||void 0===t?void 0:t.devices})),j=P((function(e){return e.showSnackbar})),b=Object(o.useState)(""),p=Object(c.a)(b,2),m=p[0],g=p[1],h=Object(o.useState)({}),v=Object(c.a)(h,2),O=v[0],y=v[1],A=m?f[m].schema:{},w=function(){u(!1)},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(e),y(t)};return Object(o.useEffect)((function(){k(d.type,d.config)}),[d.type]),Object(be.jsxs)(mt.a,{open:s,onClose:w,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(gt.a,{id:"form-dialog-title",children:d.config&&0===Object.keys(d.config).length&&d.config.constructor===Object?"Add ".concat(m.toUpperCase()," Device"):"".concat(m.toUpperCase()," Config")}),Object(be.jsxs)(ht.a,{children:[Object(be.jsx)(At.a,{children:"To add a device to LedFx, please first select the type of device you wish to add then provide the necessary configuration."}),Object(be.jsxs)("div",{className:e.wrapper,children:[Object(be.jsx)("label",{children:"Device Type"}),Object(be.jsx)(wt.a,{label:"Type",disabled:!(d.config&&0===Object.keys(d.config).length&&d.config.constructor===Object),style:{flexGrow:1},disableUnderline:!0,value:m,onChange:function(e){return k(e.target.value)},children:f&&Object.keys(f).map((function(e,t){return Object(be.jsx)(Ee.a,{value:e,children:e},t)}))})]}),Object(be.jsx)(ce.a,{style:{marginBottom:"1rem"}}),O&&Object(be.jsx)(Ft,{schema:A,model:O,onModelChange:function(e){y(Object(x.a)(Object(x.a)({},O),e))},hideToggle:!m})]}),Object(be.jsxs)(Ot.a,{children:[Object(be.jsx)(Ne.a,{onClick:w,color:"primary",children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(e){var i=Object.fromEntries(Object.entries(O).filter((function(e){var t=Object(c.a)(e,2);t[0];return""!==t[1]}))),o={};for(var s in A.properties)void 0!==A.properties[s].default&&(o[s]=A.properties[s].default);A.required.every((function(e){return Object.keys(Object(x.a)(Object(x.a)({},o),i)).includes(e)}))?d.config&&0===Object.keys(d.config).length&&d.config.constructor===Object?r({type:m,config:Object(x.a)(Object(x.a)({},o),i)}).then((function(e){"failed"!==e&&(u(!1),t(),n())})):a(l,{type:m,config:Object(x.a)({},O)}).then((function(e){"failed"!==e&&(u(!1),t(),n())})):j({message:"Please fill in all required fields.",messageType:"warning"})},color:"primary",children:d.config&&0===Object.keys(d.config).length&&d.config.constructor===Object?"Add":"Save"})]})]})},Jt=function(){var e=P((function(e){return e.addVirtual})),t=P((function(e){return e.getDevices})),n=P((function(e){return e.getVirtuals})),r=P((function(e){return e.virtuals})),a=P((function(e){var t;return(null===(t=e.dialogs.addVirtual)||void 0===t?void 0:t.open)||!1})),i=P((function(e){var t;return(null===(t=e.dialogs.addVirtual)||void 0===t?void 0:t.edit)||!1})),s=r[i]||{type:"",config:{}},l=P((function(e){return e.setDialogOpenAddVirtual})),d=P((function(e){var t;return null===(t=e.schemas)||void 0===t?void 0:t.virtuals})),u=P((function(e){return e.showSnackbar})),f=Object(o.useState)({}),j=Object(c.a)(f,2),b=j[0],p=j[1],m=d&&d.schema||{},g=function(){l(!1),p({})},h=function(e){p(Object(x.a)(Object(x.a)({},b),e))};return Object(o.useEffect)((function(){h(s.config)}),[i]),Object(be.jsxs)(mt.a,{open:a,onClose:g,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(gt.a,{id:"form-dialog-title",children:s.config&&0===Object.keys(s.config).length&&s.config.constructor===Object?"Add Virtual Device":"Settings"}),Object(be.jsxs)(ht.a,{children:[Object(be.jsx)(At.a,{children:"With Virtuals, you can split devices into segments and merge several segments over several devices into one Virtual-Device."}),Object(be.jsx)(Ft,{schema:m,model:b,onModelChange:h})]}),Object(be.jsxs)(Ot.a,{children:[Object(be.jsx)(Ne.a,{onClick:g,color:"primary",children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(r){var a=Object.fromEntries(Object.entries(b).filter((function(e){var t=Object(c.a)(e,2);t[0];return""!==t[1]}))),o={};for(var d in m.properties)void 0!==m.properties[d].default&&(o[d]=m.properties[d].default);m.required.every((function(e){return Object.keys(Object(x.a)(Object(x.a)({},o),a)).includes(e)}))?s.config&&0===Object.keys(s.config).length&&s.config.constructor===Object?e({config:Object(x.a)(Object(x.a)({},o),a)}).then((function(e){console.log(e),"failed"!==e&&(l(!1),t(),n())})):e({id:i,config:Object(x.a)({},b)}).then((function(e){"failed"!==e&&(l(!1),t(),n())})):u({message:"Please fill in all required fields.",messageType:"warning"})},color:"primary",children:s.config&&0===Object.keys(s.config).length&&s.config.constructor===Object?"Add":"Save"})]})]})},Vt=Object(Y.a)((function(e){return{wrapper:{minWidth:"200px",padding:"16px 1.2rem 6px 1.2rem",border:"1px solid #999",borderRadius:"10px",position:"relative",margin:"1rem 0",display:"flex",alignItems:"center","@media (max-width: 580px)":{width:"100%",margin:"0.5rem 0"},"& > label":{top:"-0.7rem",display:"flex",alignItems:"center",left:"1rem",padding:"0 0.3rem",position:"absolute",fontVariant:"all-small-caps",fontSize:"0.9rem",letterSpacing:"0.1rem",backgroundColor:e.palette.background.paper,boxSizing:"border-box"}}}})),Xt=function(){var e=Vt(),t=P((function(e){return e.getIntegrations})),n=P((function(e){return e.addIntegration})),r=P((function(e){return e.updateIntegration})),a=P((function(e){return e.integrations})),i=P((function(e){var t;return(null===(t=e.dialogs.addIntegration)||void 0===t?void 0:t.open)||!1})),s=P((function(e){var t;return(null===(t=e.dialogs.addIntegration)||void 0===t?void 0:t.edit)||!1})),l=a[s]||{type:"",config:{}},d=P((function(e){return e.setDialogOpenAddIntegration})),u=P((function(e){var t;return null===(t=e.schemas)||void 0===t?void 0:t.integrations})),f=P((function(e){return e.showSnackbar})),j=Object(o.useState)(""),b=Object(c.a)(j,2),p=b[0],m=b[1],g=Object(o.useState)({}),h=Object(c.a)(g,2),v=h[0],O=h[1],y=p?u[p].schema:{},A=function(){d(!1)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(e),O(t)};return Object(o.useEffect)((function(){w(l.type,l.config)}),[l.type]),Object(be.jsxs)(mt.a,{open:i,onClose:A,"aria-labelledby":"form-dialog-title",children:[Object(be.jsxs)(gt.a,{id:"form-dialog-title",children:[l.config&&0===Object.keys(l.config).length&&l.config.constructor===Object?"Add":"Edit"," ",p.toUpperCase()," Integration"]}),Object(be.jsxs)(ht.a,{children:[Object(be.jsx)(At.a,{children:"To add an interation to LedFx, please first select the type of integration you wish to add then provide the necessary configuration."}),Object(be.jsxs)("div",{className:e.wrapper,children:[Object(be.jsx)("label",{children:"Integration Type"}),Object(be.jsx)(wt.a,{label:"Type",style:{flexGrow:1},disableUnderline:!0,value:p,onChange:function(e){return w(e.target.value)},children:u&&Object.keys(u).map((function(e,t){return Object(be.jsx)(Ee.a,{value:e,disabled:"mqtt_hass"!==e,children:e},t)}))})]}),Object(be.jsx)(ce.a,{style:{marginBottom:"1rem"}}),v&&Object(be.jsx)(Ft,{hideToggle:!p,type:p,schema:y,model:v,onModelChange:function(e){O(Object(x.a)(Object(x.a)({},v),e))}})]}),Object(be.jsxs)(Ot.a,{children:[Object(be.jsx)(Ne.a,{onClick:A,color:"primary",children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(e){var a=Object.fromEntries(Object.entries(v).filter((function(e){var t=Object(c.a)(e,2);t[0];return""!==t[1]}))),i={};for(var o in y.properties)void 0!==y.properties[o].default&&(i[o]=y.properties[o].default);y.required.every((function(e){return Object.keys(Object(x.a)(Object(x.a)({},i),a)).includes(e)}))?l.config&&0===Object.keys(l.config).length&&l.config.constructor===Object?n({type:p,config:Object(x.a)(Object(x.a)({},i),a)}).then((function(e){"failed"!==e&&(d(!1),t())})):r({id:s,type:p,config:Object(x.a)({},v)}).then((function(e){"failed"!==e&&(d(!1),t())})):f({message:"Please fill in all required fields.",messageType:"warning"})},color:"primary",children:l.config&&0===Object.keys(l.config).length&&l.config.constructor===Object?"Add":"Save"})]})]})},Ut=n(452),Yt=n(453);function Qt(e){var t=e.style,n=e.spotifyURL,r=e.setSpotifyURL,a=s.a.useState(!1),i=Object(c.a)(a,2),o=i[0],l=i[1],d=s.a.useState(n),u=Object(c.a)(d,2),f=u[0],j=u[1],b=function(e){l(!1)};return Object(be.jsxs)("div",{children:[Object(be.jsx)(ie.a,{onClick:function(){l(!0)},style:t,children:Object(be.jsx)(We.a,{})}),Object(be.jsxs)(mt.a,{open:o,onClose:b,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(gt.a,{id:"form-dialog-title",children:"Spotify URL"}),Object(be.jsxs)(ht.a,{children:[Object(be.jsx)(At.a,{children:"Right-click a Playlist/Track/... in spotify and select share, copy link and paste it here"}),Object(be.jsx)(vt.a,{autoFocus:!0,margin:"dense",id:"url",label:"URL",type:"text",value:f,onChange:function(e){return j(e.target.value)},fullWidth:!0})]}),Object(be.jsxs)(Ot.a,{children:[Object(be.jsx)(Ne.a,{onClick:b,color:"primary",children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(e){r(f),l(!1)},color:"primary",children:"Change"})]})]})]})}var qt=function(e){var t=e.spotifyEnabled,n=e.setSpotifyEnabled,r=e.spotifyExpanded,a=e.setSpotifyExpanded,i=P((function(e){return e.spotifyEmbedUrl})),c=P((function(e){return e.setSpotifyEmbedUrl}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ut.a,{size:"small",color:"secondary",onClick:function(){return n(!t)},style:{position:"fixed",bottom:t?r?363:143:65,right:10,zIndex:4},children:Object(be.jsx)(ke,{name:"mdi:spotify",style:{marginLeft:"50%",marginTop:"50%",transform:"translate(-43%, -43%)"}})}),t&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{style:{position:"fixed",display:"flex",bottom:r?258:38,right:36,zIndex:2},children:[Object(be.jsx)(Qt,{spotifyURL:i,setSpotifyURL:c}),Object(be.jsx)(ie.a,{onClick:function(){return a(!r)},children:Object(be.jsx)(Yt.a,{})})]}),Object(be.jsx)("iframe",{src:"".concat(i.split("?")[0].replace(".com/embed/",".com/").replace(".com/",".com/embed/"),"?theme=0"),width:"100%",height:t?r?300:80:0,style:{position:"fixed",bottom:0,left:0},frameBorder:"0",allowtransparency:"true",allow:"encrypted-media"})]})]})},Zt=n(10),Kt=n(454),$t=n(458),en=s.a.forwardRef((function(e,t){var n=e.icon,r=void 0===n?Object(be.jsx)(Kt.a,{fontSize:"small"}):n,a=e.name,i=void 0===a?"MenuItem":a,c=e.action;return Object(be.jsxs)(Ee.a,{onClick:c,ref:t,children:[Object(be.jsx)(le.a,{children:r}),Object(be.jsx)(de.a,{primary:i})]})})),tn=Object(Zt.a)({paper:{border:"1px solid rgba(255, 255, 255, 0.12)",transform:"translateY(-1rem) !important"}})((function(e){return Object(be.jsx)(Be.a,Object(x.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}},e))})),nn=function(e){var t=e.className,n=e.style,r=e.setBackdrop,a=P((function(e){return e.setDialogOpenAddScene})),i=P((function(e){return e.setDialogOpenAddDevice})),o=P((function(e){return e.setDialogOpenAddVirtual})),l=P((function(e){return e.setDialogOpenAddIntegration})),d=P((function(e){return e.features})),u=s.a.useState(null),f=Object(c.a)(u,2),j=f[0],b=f[1],p=function(){b(null),r(!1)},m=[{icon:Object(be.jsx)(jt.a,{}),name:"Add Device",action:function(){i(!0),p()}},{icon:Object(be.jsx)(je.a,{children:Object(be.jsx)("span",{className:"mdi mdi-led-strip-variant",style:{position:"relative",display:"flex"}})}),name:"Add Virtual",action:function(){o(!0),p()}},{icon:Object(be.jsx)(bt.a,{}),name:"Add Scene",action:function(){a(!0),p()}}];return d.integrations&&m.push({icon:Object(be.jsx)(pt.a,{}),name:"Add Integration",action:function(){l(!0),p()}}),Object(be.jsxs)("div",{className:t,style:Object(x.a)({zIndex:5},n),children:[Object(be.jsx)(Ut.a,{color:"primary","aria-label":"add",onClick:function(e){b(e.currentTarget),r(!0)},children:Object(be.jsx)($t.a,{})}),Object(be.jsx)(tn,{id:"customized-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:p,children:m.map((function(e){return Object(be.jsx)(en,{name:e.name,icon:e.icon,action:e.action},e.name)}))})]})},rn=Object(Y.a)((function(e){return{root:{width:"100%",position:"fixed",bottom:0,zIndex:4,boxShadow:"0px -10px 30px 25px #030303",background:e.palette.background.light,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},rootShift:{width:"calc(100% - ".concat(Q,"px)"),marginLeft:Q,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},addButton:{position:"fixed",marginLeft:0,left:"50%",transform:"translateX(-50%)",transition:e.transitions.create(["margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),"&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2)+25},"& > button.MuiFab-primary":{backgroundColor:e.palette.secondary.main},"& .MuiSpeedDialAction-staticTooltipLabel":{backgroundColor:"transparent",marginLeft:"-1rem"}},addButtonShift:{marginLeft:120,transition:e.transitions.create(["margin"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}}));function an(){var e=rn(),t=Object(f.g)().pathname,n=Object(o.useState)(t),r=Object(c.a)(n,2),a=r[0],s=r[1],l=Object(o.useState)(!1),d=Object(c.a)(l,2),b=d[0],p=d[1],m=P((function(e){var t;return e.ui.bars&&(null===(t=e.ui.bars)||void 0===t?void 0:t.leftBar.open)})),g=P((function(e){return e.features})),h=Object(o.useState)(!1),x=Object(c.a)(h,2),v=x[0],O=x[1],y=Object(o.useState)(!1),A=Object(c.a)(y,2),w=A[0],k=A[1];return Object(o.useEffect)((function(){s(t)}),[t]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(lt.a,{value:a,className:Object(j.a)(e.root,Object(i.a)({},e.rootShift,m)),showLabels:!0,style:{bottom:v?w?300:80:0},children:[Object(be.jsx)(dt.a,{component:u.b,className:"step-one",label:"Home",value:"/",to:"/",icon:Object(be.jsx)(ft.a,{})}),Object(be.jsx)(dt.a,{label:"Devices",value:"/Devices",component:u.b,to:"/Devices",icon:Object(be.jsx)(jt.a,{})}),Object(be.jsx)(dt.a,{component:u.b,to:"/Scenes",label:"Scenes",value:"/Scenes",icon:Object(be.jsx)(bt.a,{})}),g.integrations?Object(be.jsx)(dt.a,{label:"Integrations",value:"/Integrations",component:u.b,to:"/Integrations",icon:Object(be.jsx)(pt.a,{})}):Object(be.jsx)(dt.a,{label:"Settings",value:"/Settings",icon:Object(be.jsx)(Ge.a,{}),component:u.b,to:"/Settings"})]}),g.spotify&&Object(be.jsx)(qt,{spotifyEnabled:v,setSpotifyEnabled:O,spotifyExpanded:w,setSpotifyExpanded:k}),Object(be.jsx)(yt,{}),Object(be.jsx)(Gt,{}),Object(be.jsx)(Jt,{}),Object(be.jsx)(Xt,{}),Object(be.jsx)(nn,{setBackdrop:p,className:"".concat(Object(j.a)(e.addButton,Object(i.a)({},e.addButtonShift,m))," step-four"),style:{bottom:v?w?330:110:30}}),Object(be.jsx)(ut.a,{style:{zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.8)"},open:b})]})}var cn=n(517),on=n(511),sn=function(e){return Object(be.jsx)(on.a,Object(x.a)({elevation:6,variant:"filled"},e))},ln=function(){var e=P((function(e){return e.ui.snackbar})),t=e.isOpen,n=e.messageType,r=e.message,a=P((function(e){return e.clearSnackbar}));function i(){a()}return Object(be.jsx)(cn.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:2e3+60*(r||0).length,onClose:i,"aria-describedby":"client-snackbar",action:[Object(be.jsx)(ie.a,{"aria-label":"close",color:"inherit",onClick:i,children:Object(be.jsx)(je.a,{children:"close"})},"close")],children:Object(be.jsx)(sn,{severity:n,children:r})})},dn=n(463),un=n(462),fn=n(519),jn=Object(un.a)();function bn(){var e,t,n=P((function(e){var t;return(null===(t=e.dialogs.nohost)||void 0===t?void 0:t.open)||!1})),r=P((function(e){var t;return(null===(t=e.dialogs.nohost)||void 0===t?void 0:t.edit)||!1})),a=P((function(e){return e.setDialogOpen})),i=P((function(e){return e.setDisconnected})),s=P((function(e){return e.setHost})),l=window.localStorage.getItem("ledfx-host"),d=JSON.parse(window.localStorage.getItem("ledfx-hosts"))||[{title:"http://localhost:8888"}],u=Object(o.useState)([{title:"http://localhost:8888"}]),f=Object(c.a)(u,2),j=f[0],b=f[1],p=Object(o.useState)({title:"http://localhost:8888"}),m=Object(c.a)(p,2),g=m[0],v=m[1],y=Object(o.useState)(0),A=Object(c.a)(y,2),w=(A[0],A[1]),k=function(){a(!1)};null===(e=window.api)||void 0===e||e.receive("fromMain",(function(e){"download-progress"===e[0]&&w(100*e[1].percent)}));return Object(o.useEffect)((function(){l&&v(l),d&&b(d)}),[l,b]),Object(o.useEffect)((function(){l||(s(O()()?"http://localhost:8888":window.location.href.split("/#")[0]),window.localStorage.setItem("ledfx-host",O()()?"http://localhost:8888":window.location.href.split("/#")[0]),window.location.href=window.location.href)}),[]),Object(be.jsx)("div",{children:Object(be.jsxs)(mt.a,{open:n,onClose:k,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(gt.a,{id:"form-dialog-title",children:r?"LedFx-Core Host":-1===(null===(t=window.process)||void 0===t?void 0:t.argv.indexOf("integratedCore"))?"No LedFx-Core found":"LedFx-Core not ready"}),Object(be.jsxs)(ht.a,{children:[!r&&Object(be.jsx)(At.a,{children:"You can change the host if you want:"}),Object(be.jsx)(fn.a,{value:g,onChange:function(e,t){"string"===typeof t?v({title:t}):t&&t.inputValue?v({title:t.inputValue}):v(t)},filterOptions:function(e,t){var n=jn(e,t);return""!==t.inputValue&&n.push({inputValue:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),n},id:"host",options:j,getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.title},renderOption:function(e){return Object(be.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[e.title,Object(be.jsx)(dn.a,{onClick:function(t){return function(e,t){e.stopPropagation(),window.localStorage.setItem("ledfx-hosts",JSON.stringify(j.filter((function(e){return e.title!==t})))),b(j.filter((function(e){return e.title!==t})))}(t,e.title)}})]})},style:{width:300},renderInput:function(e){return Object(be.jsx)(vt.a,Object(x.a)(Object(x.a)({},e),{},{label:"IP:Port",variant:"outlined"}))},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,freeSolo:!0})]}),Object(be.jsxs)(Ot.a,{children:[Object(be.jsx)(Ne.a,{onClick:k,color:"primary",children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(){"string"!==typeof g?(s(g.title),j.some((function(e){return e.title===g.title}))?window.localStorage.setItem("ledfx-hosts",JSON.stringify(Object(h.a)(j))):window.localStorage.setItem("ledfx-hosts",JSON.stringify([].concat(Object(h.a)(j),[g])))):s(g),a(!1),i(!1)},color:"primary",children:"Set Host"})]})]})},"nohost-dialog")}var pn=n(464),mn=n(465),gn=n(466),hn=n(467),xn=n.p+"static/media/ring.1faea45b.png",vn=[{selector:".step-zero",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"LedFx Tour"}),"Welcome to LedFx! Feel free to follow this tour and we'll show you around \ud83d\ude0a"]}),style:{backgroundColor:"#303030"}},{selector:".step-one",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Navigation"}),"Go to different pages from here"]}),style:{backgroundColor:"#303030"}},{selector:".step-two",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Menu"}),"LedFx actions and settings can be found up here",Object(be.jsxs)("ul",{style:{paddingLeft:"1rem"},children:[Object(be.jsx)("li",{children:"\ud83d\udc68\u200d\ud83c\udfeb You can access a tour for other pages in this menu"}),Object(be.jsx)("li",{children:"\ud83d\udc40 'Enable Graphs' to see a preview of the device LEDs. Leave it off if your browser struggles with too many pixels!"})]})]}),style:{backgroundColor:"#303030"}},{selector:".step-three",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"Devices Quick-Access"}),"Directly jump to a device"]}),style:{backgroundColor:"#303030"}},{selector:".step-four",content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:"The Big Red Button"}),"This is where it all begins!",Object(be.jsxs)("ul",{style:{paddingLeft:"1rem"},children:[Object(be.jsx)("li",{children:"Add Device: Add a networked LED strip"}),Object(be.jsx)("li",{children:"Add Virtual: Divide or merge your devices into one virtual strip"}),Object(be.jsx)("li",{children:"Add Scene: Save the active effects of all devices"}),Object(be.jsx)("li",{children:"Add Integration: Connect LedFx to other software (upcoming...)"})]}),"I'd recommend you now close this tour and add your first devices to LedFx \ud83c\udf89"]}),style:{backgroundColor:"#303030"}}],On=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],a=P((function(e){return e.setTour}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ne.a,{variant:"outlined",className:"step-zero",onClick:function(){a("home"),r(!0)},children:"Start Tour"}),Object(be.jsx)(Ue.a,{steps:vn,accentColor:"#800000",isOpen:n,onRequestClose:function(){return r(!1)}})]})},yn=(n(323),function(e){var t=e.stroke,n=void 0===t?"#ffffff":t,r=(e.strokeWidth,e.strokeLinejoin,e.strokeLinecap,e.currentColor),a=void 0===r?"transparent":r;e.style;return Object(be.jsx)("svg",{id:"svg",className:"fxSvg",xmlns:"http://www.w3.org/2000/svg",width:"400",height:"400",viewBox:"-200, -200, 800,800",children:Object(be.jsx)("g",{id:"svgg",children:Object(be.jsx)("path",{id:"path0",className:"fxPath",d:"M12.218 90.039 C 12.544 90.576,19.991 100.596,28.767 112.305 L 44.725 133.594 121.877 133.594 L 199.030 133.594 223.686 166.476 L 248.342 199.357 207.374 253.970 C 184.842 284.007,166.406 308.936,166.406 309.369 C 166.406 309.885,177.801 310.156,199.516 310.156 L 232.626 310.156 257.134 277.377 C 270.612 259.348,281.816 244.597,282.031 244.597 C 282.246 244.597,293.450 259.348,306.929 277.377 L 331.436 310.156 364.983 310.156 C 391.615 310.156,398.408 309.955,397.938 309.180 C 397.612 308.643,378.979 283.712,356.531 253.778 L 315.717 199.353 357.080 144.208 L 398.443 89.063 364.651 89.095 L 330.859 89.127 306.648 121.517 C 293.332 139.331,282.254 153.906,282.031 153.906 C 281.808 153.906,270.731 139.331,257.414 121.517 L 233.203 89.127 122.415 89.095 C 33.983 89.069,11.746 89.260,12.218 90.039 M61.719 155.393 C 61.719 155.786,67.702 164.132,75.014 173.938 C 82.326 183.745,88.135 192.222,87.922 192.777 C 87.710 193.331,68.016 219.749,44.158 251.483 C 20.301 283.217,0.781 309.400,0.781 309.668 C 0.781 309.937,15.811 310.146,34.180 310.133 L 67.578 310.109 108.954 255.054 L 150.331 200.000 183.759 200.000 C 202.145 200.000,217.188 199.703,217.188 199.340 C 217.188 198.976,209.521 188.869,200.151 176.879 L 183.114 155.078 122.416 154.878 C 86.076 154.758,61.719 154.965,61.719 155.393 ",stroke:n,fill:a,fillRule:"evenodd"})})})}),An=n(223),wn=n.n(An),kn=n(222),Cn=n.n(kn),Sn=n(224),Dn=n.n(Sn),Tn=function(e){e.classes;return Object(be.jsxs)("div",{style:{position:"relative",bottom:0,left:0,right:0,paddingTop:"0.4rem",paddingBottom:"0.4rem",textAlign:"center",color:"#FFFFFF","& > a":{margin:"0 5px"}},children:[Object(be.jsx)(ie.a,{"aria-label":"Website",color:"inherit",href:"https://ledfx.app/",target:"_blank",title:"Website",children:Object(be.jsx)(Cn.a,{})}),Object(be.jsx)(ie.a,{"aria-label":"Github",color:"inherit",href:"https://git.ledfx.app/",target:"_blank",title:"Github",children:Object(be.jsx)(wn.a,{})}),Object(be.jsx)(ie.a,{"aria-label":"Discord",color:"inherit",href:"https://discord.gg/tFSKgTzRcj",target:"_blank",title:"Discord",children:Object(be.jsx)(Dn.a,{})})]})},Nn=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Ln(e){var t=P((function(e){return e.scanForDevices})),n=P((function(e){return e.getDevices})),r=P((function(e){return e.getVirtuals})),a=Object(o.useState)(!1),i=Object(c.a)(a,2),s=i[0],l=i[1],d=P((function(e){return e.tours.home}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("div",{className:"Content",children:Object(be.jsxs)("div",{style:{position:"relative"},children:[Object(be.jsx)("img",{src:xn,className:"App-logo",alt:"logo-circle"}),Object(be.jsx)(yn,{})]})}),Object(be.jsxs)(pn.a,{variant:"outlined",style:{maxWidth:"400px",margin:"0.5rem auto 2rem auto"},children:[Object(be.jsx)(mn.a,{title:"Welcome to LedFx"}),Object(be.jsxs)(gn.a,{children:["Complete Frontend Rewrite... from scratch",Object(be.jsxs)("ul",{children:[Object(be.jsx)("li",{children:"Modern React"}),Object(be.jsx)("li",{children:"Zustand as State-Management"}),Object(be.jsx)("li",{children:"Typescript supported"}),Object(be.jsx)("li",{children:"Mobile First"}),Object(be.jsx)("li",{children:"by Blade"})]})]}),Object(be.jsxs)(hn.a,{children:[Object(be.jsx)(Se.a,{variant:"dot",color:"primary",invisible:d,children:Object(be.jsx)(On,{className:"step-one"})}),Object(be.jsx)(Ne.a,{onClick:function(){return l(!0),void t().then(Object(g.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(1e3).then((function(){n(),r(),l(t)}));case 2:case"end":return e.stop()}}),e)})),a=1;case 2:if(!(a<=30)){e.next=7;break}return e.delegateYield(t(a),"t0",4);case 4:a++,e.next=2;break;case 7:case"end":return e.stop()}}),e)})))).then((function(){l(!1)}))},variant:"outlined",children:s?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ie.a,{variant:"determinate",value:s/30*100,size:24}),Object(be.jsx)(Pe.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(be.jsx)(Le.a,{variant:"caption",style:{fontSize:10},component:"div",color:"textSecondary",children:"".concat(Math.round(s/30*100),"%")})})]}):"WLED-scan"}),Object(be.jsx)(Ne.a,{variant:"outlined",onClick:function(){K()},children:"Clear Data"})]})]}),Object(be.jsx)(Tn,{})]})}var Pn=n(232),In=n.n(Pn),Bn=n(229),En=n.n(Bn),_n=n(231),Mn=n.n(_n),zn=n(230),Wn=n.n(zn),Rn=n(430),Fn=n(468),Hn=n(469),Gn=n(105),Jn=Object(Y.a)((function(e){return{typography:{padding:e.spacing(2)}}}));function Vn(e){var t=e.onConfirm,n=e.confirmDisabled,r=e.confirmContent,a=e.onSingleClick,i=void 0===a?function(){}:a,o=e.onDoubleClick,l=e.openOnDoubleClick,d=void 0!==l&&l,u=e.openOnLongPress,f=void 0!==u&&u,j=e.variant,b=void 0===j?"contained":j,p=e.color,m=void 0===p?"secondary":p,g=e.label,h=e.text,v=void 0===h?"Are you sure?":h,O=e.direction,y=void 0===O?"left":O,A=e.vertical,w=void 0===A?"center":A,k=e.anchorOrigin,C=e.transformOrigin,S=e.size,D=void 0===S?"small":S,T=e.icon,N=void 0===T?Object(be.jsx)(dn.a,{}):T,L=e.content,P=e.footer,I=e.className,B=e.startIcon,E=e.noIcon,_=void 0!==E&&E,M=e.style,z=void 0===M?{}:M,W=e.disabled,R=void 0!==W&&W,F=e.popoverStyle,H=e.wrapperStyle,G=e.type,J=Jn(),V=s.a.useState(null),X=Object(c.a)(V,2),U=X[0],Y=X[1],Q=function(e){Y(e.currentTarget||e.target)},q=Object(Gn.useLongPress)((function(e){return Q(e)}),{onCancel:function(e){i&&i()},treshhold:1e3,captureEvent:!0}),Z=Boolean(U),K=Z?"simple-popover":void 0;return Object(be.jsxs)("div",{style:Object(x.a)({display:"initial"},H),children:["menuItem"===G?Object(be.jsxs)(Ee.a,{className:I,onClick:function(e){e.preventDefault(),i(e),Q(e)},children:[Object(be.jsx)(le.a,{children:N}),g]}):f?Object(be.jsxs)(Ne.a,Object(x.a)(Object(x.a)({"aria-describedby":K,variant:b,color:m,size:D,className:I,style:z,startIcon:!_&&B,disabled:R},q),{},{children:[g,!B&&!_&&N]})):Object(be.jsxs)(Ne.a,{"aria-describedby":K,variant:b,color:m,onClick:function(e){e.preventDefault(),!d&&Q(e),i&&i(e)},size:D,className:I,style:z,startIcon:!_&&B,disabled:R,onDoubleClick:function(e){e.preventDefault(),d&&Q(e),o&&o(e)},children:[g,!B&&!_&&N]}),Object(be.jsxs)(Rn.a,{id:K,open:Z,anchorEl:U,onClose:function(){Y(null)},anchorOrigin:k||{vertical:w,horizontal:y},transformOrigin:C||{vertical:w,horizontal:"center"===y?"center":"right"},children:[Object(be.jsxs)("div",{style:Object(x.a)({display:"flex"},F),children:[L||Object(be.jsx)(Le.a,{className:J.typography,children:v}),Object(be.jsx)(Ne.a,{disabled:n,"aria-describedby":K,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),t(),Y(null)},children:r||Object(be.jsx)(Fn.a,{})}),Object(be.jsx)(Ne.a,{"aria-describedby":K,variant:"outlined",color:"default",onClick:function(e){e.preventDefault(),Y(null)},children:Object(be.jsx)(Hn.a,{})})]}),P]})]})}var Xn=n(328),Un=n(228),Yn=n.n(Un),Qn=n(244),qn=n(225),Zn=n.n(qn),Kn=["onClose","value","open"];function $n(e){var t=e.onClose,n=e.value,r=e.open,a=Object(Qn.a)(e,Kn),i=s.a.useState(n),o=Object(c.a)(i,2),l=o[0],d=o[1];return delete a.deviceList,Object(be.jsxs)(mt.a,Object(x.a)(Object(x.a)({disableEscapeKeyDown:!0,maxWidth:"xs","aria-labelledby":"confirmation-dialog-title",open:r},a),{},{children:[Object(be.jsx)(gt.a,{id:"confirmation-dialog-title",children:"Select a device"}),Object(be.jsx)(ht.a,{dividers:!0,children:Object(be.jsx)(Pt,{full:!0,children:Object(be.jsx)(wt.a,{disableUnderline:!0,value:l,style:{width:"100%"},onChange:function(e){d(e.target.value)},children:Object.keys(e.deviceList).map((function(t){return Object(be.jsx)(Ee.a,{value:e.deviceList[t].id,children:e.deviceList[t].config.name},e.deviceList[t].id)}))})})}),Object(be.jsxs)(Ot.a,{children:[Object(be.jsx)(Ne.a,{autoFocus:!0,onClick:function(){t()},color:"primary",children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(){t(l)},color:"primary",children:"Ok"})]})]}))}var er=Object(Y.a)((function(e){return{root:{margin:"1rem auto",backgroundColor:e.palette.background.paper},paper:{width:"80%",maxHeight:435}}}));function tr(e){var t=e.virtual,n=e.config,r=er(),a=s.a.useState(!1),i=Object(c.a)(a,2),o=i[0],l=i[1],d=P((function(e){return e.devices}))||{},u=P((function(e){return e.updateVirtualSegments})),f=P((function(e){return e.getVirtuals}));return Object(be.jsx)("div",{className:r.root,children:d&&Object.keys(d).length>0?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ne.a,{variant:"contained",color:"primary","aria-label":"Add",className:r.button,endIcon:Object(be.jsx)(Zn.a,{}),onClick:function(){l(!0)},role:"listitem",children:"ADD SEGMENT"}),Object(be.jsx)($n,{classes:{paper:r.paper},config:n,id:"ringtone-menu",keepMounted:!0,open:o,onClose:function(e){if(l(!1),e){var n=Object(x.a)({},d[Object.keys(d).find((function(t){return d[t].id===e}))]);if(n&&n.config){var r=[].concat(Object(h.a)(t.segments),[[n.id,0,n.config.pixel_count-1,!1]]).filter((function(e){return 4===e.length}));u({virtId:t.id,segments:r}).then((function(){return f()}))}}},value:"",deviceList:d})]}):Object(be.jsx)(be.Fragment,{})})}var nr=function(e){var t=e.s,n=e.handleRangeSegment,r=P((function(e){return e.getDevices})),a=P((function(e){return e.devices})),i=Object(o.useState)([t[1],t[2]]),s=Object(c.a)(i,2),l=s[0],d=s[1];if(Object(o.useEffect)((function(){r()}),[r]),!a[t[0]])return Object(be.jsx)(be.Fragment,{});var u=[t[1],t[2]],f=[{value:0,label:0},{value:a[t[0]].config.pixel_count-1,label:a[t[0]].config.pixel_count-1}];return Object(be.jsx)(Bt.a,{value:l,marks:f,min:0,max:a[t[0]].config.pixel_count-1,onChange:function(e,t){return d(t)},onChangeCommitted:function(e,t){t!==u&&n(t[0],t[1])},"aria-labelledby":"range-slider",valueLabelDisplay:"auto"})},rr=n(226),ar=n.n(rr),ir=n(89),cr=n.n(ir),or=n(227),sr=n.n(or),lr=Object(Y.a)((function(e){return{segmentsWrapper:{display:"flex",borderBottom:"1px dashed #aaa",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0"},segmentsColOrder:{display:"flex",justifyContent:"space-between",alignItems:"center"},segmentsButtonUp:{borderTopRightRadius:0,borderBottomRightRadius:0,minWidth:"50px"},segmentsButtonDown:{borderTopLeftRadius:0,borderBottomLeftRadius:0,minWidth:"50px",marginRight:"1rem"},segmentsColPixelSlider:{flex:"0 1 70%"},segmentsColActions:{display:"flex",justifyContent:"space-between",alignItems:"center"},"@media (max-width: 600px)":{segmentsColPixelSlider:{order:3,width:"calc(100% - 2rem)",margin:"2rem auto 0 auto"},segmentsWrapper:{flexDirection:"column",alignItems:"flex-start"},segmentsColActions:{position:"absolute",right:"1rem"}}}})),dr=function(e){var t=e.s,n=e.i,r=e.virtual,a=e.segments,i=P((function(e){return e.getDevices})),c=P((function(e){return e.devices})),s=c&&c[Object.keys(c).find((function(e){return e===t[0]}))].config.name,l=lr(),d=P((function(e){return e.updateVirtualSegments})),u=P((function(e){return e.getVirtuals})),f=function(e){var t="UP"===e?Z(a,n-1,n):Z(a,n,n+1);d({virtId:r.id,segments:t}).then((function(){return u()}))};return Object(o.useEffect)((function(){i()}),[i]),Object(be.jsx)("div",{style:{padding:"0 1rem"},children:Object(be.jsxs)("div",{className:l.segmentsWrapper,children:[Object(be.jsxs)("div",{className:l.segmentsColOrder,children:[Object(be.jsxs)("div",{style:{display:"flex"},children:[Object(be.jsx)("div",{children:Object(be.jsx)(Ne.a,{disabled:0===n,variant:"outlined",color:"inherit",onClick:function(){return f("UP")},size:"small",className:l.segmentsButtonUp,children:Object(be.jsx)(ar.a,{})})}),Object(be.jsx)("div",{children:Object(be.jsx)(Ne.a,{disabled:n===r.segments.length-1,variant:"outlined",color:"inherit",onClick:function(){return f("DOWN")},size:"small",className:l.segmentsButtonDown,children:Object(be.jsx)(cr.a,{})})})]}),Object(be.jsx)("div",{style:{minWidth:"120px"},children:Object(be.jsx)(Le.a,{color:"textSecondary",children:s})})]}),Object(be.jsx)("div",{className:l.segmentsColPixelSlider,children:Object(be.jsx)(nr,{s:t,handleRangeSegment:function(e,t){var i=a.map((function(r,a){return a===n?[r[0],e,t,!r[3]]:r}));d({virtId:r.id,segments:i}).then((function(){return u()}))}})}),Object(be.jsxs)("div",{className:l.segmentsColActions,children:[Object(be.jsx)("div",{children:Object(be.jsx)(Ne.a,{variant:t[3]?"contained":"outlined",color:t[3]?"primary":"default",endIcon:Object(be.jsx)(sr.a,{}),onClick:function(){var e=a.map((function(e,t){return t===n?[e[0],e[1],e[2],!e[3]]:e}));d({virtId:r.id,segments:e}).then((function(){return u()}))},style:{margin:"0 1rem 0 1.5rem"},children:"Flip"})}),Object(be.jsx)(Vn,{variant:"outlined",color:"default",onConfirm:function(){var e=a.filter((function(e,t){return t!==n}));d({virtId:r.id,segments:e}).then((function(){return u()}))},style:{padding:"5px"}})]})]})})},ur=Object(Y.a)((function(e){return{appBar:{position:"relative",marginBottom:"1rem",background:e.palette.background.default,color:e.palette.text.primary},title:{marginLeft:e.spacing(2),flex:1},dialog:{background:e.palette.background.default},segmentTitle:{display:"flex",borderBottom:"1px dashed #aaa",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0",margin:"0 1rem"},segmentButtonWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0",margin:"0 1rem"},cloudEffectCard:{cursor:"pointer",width:280,"&:hover":{borderColor:e.palette.primary.main},"&.active":{borderColor:e.palette.primary.main}}}})),fr=s.a.forwardRef((function(e,t){return Object(be.jsx)(Xn.a,Object(x.a)({direction:"up",ref:t},e))})),jr=s.a.forwardRef((function(e,t){return Object(be.jsx)(Ee.a,Object(x.a)({ref:t},e))}));function br(e){var t=e.virtual,n=e.icon,r=void 0===n?Object(be.jsx)(Ge.a,{}):n,a=e.startIcon,i=e.label,l=void 0===i?"":i,d=e.type,u=e.className,f=e.color,j=void 0===f?"default":f,b=e.variant,p=void 0===b?"contained":b,m=e.onClick,g=void 0===m?function(){}:m,h=e.innerKey,x=ur(),v=P((function(e){return e.showSnackbar})),O=P((function(e){return e.getDevices})),y=s.a.useState(!1),A=Object(c.a)(y,2),w=A[0],k=A[1],C=function(){k(!0)},S=function(){var e=function(e){var t={};return e.forEach((function(n){var r=Object(c.a)(n,3),a=r[0],i=r[1],o=r[2];t[a]?t[a].items.push([i,o]):(t[a]={},e.forEach((function(e){t[a].items=[],t[a].overlap=!1,t[a].items.push([i,o])})))})),Object.keys(t).forEach((function(e){return t[e].items.sort((function(e,t){return Object(c.a)(e,1)[0]>Object(c.a)(t,1)[0]})).forEach((function(n,r){var a=Object(c.a)(n,2),i=a[0],o=a[1];if(t[e].items[r+1]){var s=Object(c.a)(t[e].items[r+1],2),l=s[0],d=s[1];l<=o&&d>=i&&(t[e].overlap=!0)}}))})),t}(t.segments),n=Object.keys(e).find((function(t){return e[t].overlap}));n?v({message:"Overlapping in ".concat(n," detected! Please Check your config"),messageType:"warning"}):k(!1)};return Object(o.useEffect)((function(){O()}),[O]),t&&t.config?Object(be.jsxs)(be.Fragment,{children:["menuItem"===d?Object(be.jsxs)(jr,{className:u,onClick:function(e){e.preventDefault(),g(e),C()},children:[Object(be.jsx)(le.a,{children:r}),l]},h):Object(be.jsxs)(Ne.a,{variant:p,startIcon:a,color:j,onClick:function(e){g(e),C()},size:"small",className:u,children:[l,!a&&r]}),Object(be.jsxs)(mt.a,{fullScreen:!0,open:w,onClose:S,TransitionComponent:fr,children:[Object(be.jsx)(De.a,{className:x.appBar,children:Object(be.jsxs)(Te.a,{children:[Object(be.jsx)(Ne.a,{autoFocus:!0,color:"primary",variant:"contained",startIcon:Object(be.jsx)(Yn.a,{}),onClick:S,style:{marginRight:"1rem"},children:"back"}),Object(be.jsxs)(Le.a,{variant:"h6",className:x.title,children:[t.config.name," "]})]})}),Object(be.jsx)("div",{className:x.segmentTitle,children:Object(be.jsx)(Le.a,{variant:"caption",children:"Segments-Settings"})}),t.segments.length>0&&t.segments.map((function(e,n){return Object(be.jsx)(dr,{s:e,i:n,virtual:t,segments:t.segments},n)})),Object(be.jsx)("div",{className:x.segmentButtonWrapper,children:Object(be.jsx)(tr,{virtual:t})})]})]}):Object(be.jsx)(be.Fragment,{})}var pr=n(472),mr=Object(Y.a)((function(e){return{PixelWrapper:{maxWidth:"520px",display:"flex",width:"100%",borderRadius:"10px",overflow:"hidden",margin:"0.5rem 0 0 0","@media (max-width: 580px)":{margin:"0"}},Pixel:{height:"20px",borderRadius:"0",flex:1}}})),gr=function(e){var t=e.virtId,n=e.dummy,r=void 0!==n&&n,a=e.className,i=e.active,s=void 0!==i&&i,l=mr(),d=Object(o.useState)([]),u=Object(c.a)(d,2),f=u[0],j=u[1],b=P((function(e){return e.pixelGraphs})),p=P((function(e){return e.virtuals})),m=P((function(e){return e.graphs}));return Object(o.useEffect)((function(){var e=function(e){e.detail.id===t&&j(e.detail.pixels)};return document.addEventListener("YZ",e),function(){document.removeEventListener("YZ",e)}}),[p,b]),m?r?Object(be.jsx)("div",{className:"".concat(l.PixelWrapper," ").concat(a," ").concat(s?"active":""),children:Object(be.jsx)("div",{className:l.Pixel,style:{backgroundColor:"#0002"}},1)}):f&&f[0]&&f[0].length?Object(be.jsx)("div",{className:"".concat(l.PixelWrapper," ").concat(a,"  ").concat(s?"active":""),children:f[0].map((function(e,t){return Object(be.jsx)("div",{className:l.Pixel,style:{backgroundColor:s?"rgb(".concat(f[0][t],",").concat(f[1][t],",").concat(f[2][t],")"):"#0002"}},t)}))}):Object(be.jsx)("div",{className:"".concat(l.PixelWrapper," ").concat(a," ").concat(s?"active":""),children:Object(be.jsx)("div",{className:l.Pixel,style:{backgroundColor:"#0002"}},1)}):null},hr=Object(Y.a)((function(e){var t;return{virtualCardPortrait:{padding:"1rem 0.7rem 0.7rem 0.7rem",margin:"0.5rem",display:"flex",alignItems:"flex-start",flexDirection:"column",minWidth:"230px",maxWidth:"400px",width:"100%",height:"100%",position:"relative",borderRadius:10,background:e.palette.background.paper,borderColor:"transparent","&:hover":{borderColor:e.palette.text.disabled}},virtualLink:{flexGrow:0,textDecoration:"none",fontSize:"large",color:"inherit",alignSelf:"flex-start","&:hover":{color:"".concat(e.palette.primary.main," !important")}},virtualIconWrapper:{width:"50px",height:"55px",marginRight:"0.5rem"},virtualIcon:(t={marginBottom:"4px",marginRight:"0.5rem",position:"relative",fontSize:"50px"},Object(i.a)(t,"position","absolute"),Object(i.a)(t,"transformOrigin","top left"),Object(i.a)(t,"&.graphs",{transformOrigin:"center left"}),Object(i.a)(t,"transition","transform 0.3s ease-in-out"),Object(i.a)(t,"transitionDelay","0s"),Object(i.a)(t,"&.extended",{transform:"scale(1.7) translateY(-4px);",transformOrigin:"top left",transition:"transform 0.3s ease-in-out",transitionDelay:"0s"}),Object(i.a)(t,"&.extended.graphs",{transform:"scale(1.25)",transformOrigin:"center left",transition:"transform 0.3s ease-in-out",transitionDelay:"0s"}),Object(i.a)(t,"& svg",{transform:"unset",width:"100%",marginTop:"3px",height:"100%"}),t),virtualCardContainer:{display:"flex",alignItems:"center",width:"100%",height:"100%",padding:"0 0.3rem",justifyContent:"space-between",flexDirection:"row"},iconMedia:{height:140,display:"flex",alignItems:"center",margin:"0 auto",fontSize:100,"& > span:before":{position:"relative"}},editButton:{marginLeft:e.spacing(1),minWidth:"unset"},editButtonMobile:{marginLeft:e.spacing(1),minWidth:"unset",flexGrow:1},expand:{transform:"rotate(0deg)",alignSelf:"flex-start",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),display:"block"},expandOpen:{transform:"rotate(180deg)"},buttonBarMobile:{width:"100%",height:"100%",textAlign:"right"},buttonBarMobileWrapper:{height:110,display:"flex",margin:0,padding:"0.5rem 80px 0.5rem 0.5rem",background:"rgba(0,0,0,0.93)","& > div, & > button":{flexGrow:1,flexBasis:"30%"},"&.extended.graphs":{height:"auto",paddingTop:0}},pixelbar:{opacity:1,transitionDuration:0,width:"100%"},pixelbarOut:{opacity:.2,transition:"opacity",transitionDuration:1e3}}})),xr=n(470),vr=n(471),Or=function(e){var t,n,r,a,s,l,d,f,b,p,m,g,h,x,v,O,y,A,w,k,C,S,D=e.virtual,T=e.index,N=hr(),L=Object(ee.a)(),I=P((function(e){return e.getVirtuals})),B=P((function(e){return e.getDevices})),E=P((function(e){return e.virtuals})),_=P((function(e){return e.devices})),M=P((function(e){return e.deleteVirtual})),z=P((function(e){return e.setDialogOpenAddDevice})),W=P((function(e){return e.setDialogOpenAddVirtual})),R=P((function(e){return e.graphs})),F=P((function(e){return e.clearVirtualEffect})),H=P((function(e){return e.updateVirtual})),G=Object(o.useState)(!1),J=Object(c.a)(G,2),V=J[0],X=J[1],U=Object(o.useState)(E&&D&&E[D]&&E[D].effect&&Object.keys(E[D].effect).length>0||_&&(null===(t=_[Object.keys(_).find((function(e){return e===D}))])||void 0===t?void 0:t.active_virtuals.length)>0),Y=Object(c.a)(U,2),Q=Y[0],q=Y[1],Z=Object(o.useState)(!1),K=Object(c.a)(Z,2),$=K[0],te=K[1],ne="inherit";return Object(o.useEffect)((function(){var e,t;q(D&&E[D]&&Object.keys(null===(e=E[D])||void 0===e?void 0:e.effect).length>0||(null===(t=_[Object.keys(_).find((function(e){return e===D}))])||void 0===t?void 0:t.active_virtuals.length)>0)}),[E,_]),console.log("yoo",null===(n=_[Object.keys(_).find((function(e){return e===D}))])||void 0===n?void 0:n.config.ip_address),D&&E[D]?Object(be.jsxs)(pn.a,{component:u.c,to:"/device/".concat(null===(r=E[D])||void 0===r?void 0:r.id),className:"".concat(N.virtualCardPortrait," ").concat(Object.keys(null===(a=E[D])||void 0===a?void 0:a.effect).length>0?"active":""),style:{textDecoration:"none",order:(null===(s=_[Object.keys(_).find((function(e){return e===D}))])||void 0===s?void 0:s.active_virtuals.length)>0||(null===(l=E[D])||void 0===l?void 0:l.effect.name)?(null===(d=E[D])||void 0===d?void 0:d.effect.name)?"unset":50:100},children:[Object(be.jsxs)("div",{className:N.virtualCardContainer,children:[Object(be.jsx)("div",{className:"".concat(N.virtualIconWrapper),children:Object(be.jsx)(ke,{colorIndicator:!1,name:(null===(f=E[D])||void 0===f?void 0:f.config)&&(null===(b=E[D])||void 0===b?void 0:b.config.icon_name)&&(null===(p=E[D])||void 0===p?void 0:p.config.icon_name),className:"".concat(N.virtualIcon," ").concat(R?"":"graphs"," ").concat($?"extended":""),style:{zIndex:3},card:!0})}),Object(be.jsxs)("div",{style:{padding:"0 0.5rem"},children:[Object(be.jsx)(Le.a,{variant:"h6",style:{lineHeight:1,color:!R&&Object.keys(null===(m=E[D])||void 0===m?void 0:m.effect).length>0?L.palette.primary.light:"inherit"},children:D&&(null===(g=E[D])||void 0===g?void 0:g.config)&&(null===(h=E[D])||void 0===h?void 0:h.config.name)}),(null===(x=E[D])||void 0===x?void 0:x.effect.name)?Object(be.jsx)(be.Fragment,{children:Object(be.jsxs)(Le.a,{variant:"body1",color:"textSecondary",style:{height:25,display:"flex",alignItems:"center"},children:["Effect: ",null===(v=E[D])||void 0===v?void 0:v.effect.name,Object(be.jsx)(Ne.a,{size:"small",onClick:function(e){e.preventDefault(),H(E[D].id,{active:!E[D].active}).then((function(){return I()}))},style:{color:"#999",minWidth:"unset",zIndex:$?1:3},children:(null===(O=E[D])||void 0===O?void 0:O.active)?Object(be.jsx)(Fe.a,{}):Object(be.jsx)(xr.a,{})}),Object(be.jsx)(Ne.a,{size:"small",onClick:function(e){e.preventDefault(),F(D).then((function(){X(!0),setTimeout((function(){I(),B()}),1e3*E[D].config.transition_time),setTimeout((function(){X(!1)}),1e3*E[D].config.transition_time+300)}))},style:{color:"#999",minWidth:"unset",zIndex:$?1:3},children:Object(be.jsx)(vr.a,{})})]})}):(null===(y=_[Object.keys(_).find((function(e){return e===D}))])||void 0===y?void 0:y.active_virtuals.length)>0?Object(be.jsx)(Le.a,{variant:"body1",color:"textSecondary",style:{height:25},children:"Streaming..."}):Object(be.jsx)(Le.a,(A={variant:"body1",style:{color:L.palette.text.disabled}},Object(i.a)(A,"style",{height:25}),Object(i.a)(A,"children","off"),A))]}),Object(be.jsx)("div",{children:D&&(null===(w=E[D])||void 0===w?void 0:w.config)&&(null===(k=E[D])||void 0===k?void 0:k.config.preview_only)&&Object(be.jsx)(Ne.a,{variant:"text",disabled:!0,size:"small",className:N.previewButton,children:Object(be.jsx)(En.a,{})})}),Object(be.jsx)(ie.a,{className:Object(j.a)(N.expand,Object(i.a)({},N.expandOpen,$)),onClick:function(e){e.preventDefault(),te(!$)},"aria-expanded":$,"aria-label":"show more",style:{zIndex:3,color:"#999"},children:Object(be.jsx)(cr.a,{className:"step-devices-two-".concat(T)})})]}),Object(be.jsx)("div",{className:Object(j.a)(N.pixelbar,Object(i.a)({},N.pixelbarOut,V)),style:{transitionDuration:1e3*E[D].config.transition_time},children:Object(be.jsx)(gr,{active:Q,virtId:null===(C=E[D])||void 0===C?void 0:C.id,className:"step-devices-seven"})}),Object(be.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,right:0,zIndex:2},children:Object(be.jsx)(pr.a,{in:$,timeout:"auto",unmountOnExit:!0,className:N.buttonBarMobile,children:Object(be.jsxs)("div",{className:"".concat(N.buttonBarMobileWrapper," ").concat(R?"":"graphs"," ").concat($?"extended":""),onClick:function(e){return e.preventDefault()},children:[Object(be.jsx)("div",{}),Object(be.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},children:[Object(be.jsx)(Vn,{variant:"text",startIcon:Object(be.jsx)(dn.a,{}),label:"delete",color:ne,onConfirm:function(){return function(e){var t;M(null===(t=E[e])||void 0===t?void 0:t.id).then((function(){I()}))}(D)},className:"step-devices-three-".concat(T),style:{width:"100%"}}),(null===(S=E[D])||void 0===S?void 0:S.is_device)?Object(be.jsx)(Ne.a,{variant:"text",color:ne,size:"small",startIcon:Object(be.jsx)(Wn.a,{}),className:"step-devices-four-".concat(T),onClick:function(e){var t,n;e.preventDefault(),n=null===(t=E[D])||void 0===t?void 0:t.is_device,z(!0,n)},children:"Edit Device"}):Object(be.jsx)(br,{label:"Edit Virtual",variant:"text",color:ne,virtual:E[D],className:"step-devices-six",startIcon:Object(be.jsx)(Mn.a,{})}),Object(be.jsx)(Ne.a,{variant:"text",size:"small",startIcon:Object(be.jsx)(In.a,{}),color:ne,className:"step-devices-five-".concat(T),onClick:function(e){e.preventDefault(),function(e){W(!0,e)}(D)},children:"Settings"})]})]})})})]}):Object(be.jsx)(be.Fragment,{})},yr=function(e){var t=e.type;return Object(be.jsx)(pn.a,{children:Object(be.jsx)(mn.a,{avatar:Object(be.jsx)(Wt.a,{}),title:"No ".concat(t,"s yet"),subheader:"You can add your first ".concat(t," using the red button")})})};yr.defaultProps={type:"Thing"};var Ar=yr,wr=Object(Y.a)((function(e){return{cardWrapper:{padding:e.spacing(1),paddingTop:0,display:"flex",flexWrap:"wrap",margin:"-0.5rem",justifyContent:"center"},"@media (max-width: 580px)":{cardWrapper:{justifyContent:"center"}}}})),kr=function(){var e=wr(),t=P((function(e){return e.getDevices})),n=P((function(e){return e.getVirtuals})),r=P((function(e){return e.virtuals})),a=P((function(e){return e.setPixelGraphs})),i=P((function(e){return e.graphs}));return Object(o.useEffect)((function(){t(),n()}),[t,n]),Object(o.useEffect)((function(){i&&a(Object.keys(r))}),[i,a]),Object(be.jsx)("div",{className:e.cardWrapper,children:r&&Object.keys(r).length?Object.keys(r).map((function(e,t){return Object(be.jsx)(Or,{virtual:e,index:t},t)})):Object(be.jsx)(Ar,{type:"Device"})})},Cr=n(484),Sr=n(525),Dr=n(486),Tr=n(488),Nr=n(485),Lr=n(487),Pr=n(473),Ir=n(528),Br=n(522),Er=n(445),_r=Object(Y.a)((function(e){return{FormRow:{display:"flex",flexDirection:"row",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",margin:"0 0 0.5rem","@media (max-width: 580px)":{flexDirection:"column"}},FormLabel:{marginLeft:"1rem",paddingTop:"0.5rem","@media (max-width: 580px)":{display:"none"}},FormSelect:{flexGrow:1,marginLeft:"1rem",paddingTop:"0.5rem","&:before, &:after":{display:"none"},"& > .MuiSelect-select:focus":{backgroundColor:"unset"}},FormListHeaders:{pointerEvents:"none",background:e.palette.secondary.main,color:"#fff"},FormListItem:{paddingLeft:"2rem"},FormToggleWrapper:{"@media (max-width: 580px)":{order:-1}},FormToggle:{"@media (max-width: 580px)":{flexGrow:1}}}})),Mr=function(e){var t=e.effects,n=e.virtual,r=_r(),a=P((function(e){return e.setVirtualEffect})),i=P((function(e){return e.getVirtuals})),s=P((function(e){return e.features})),l=t&&Object.keys(t).map((function(e){return{name:t[e].name,id:t[e].id,category:t[e].category}})),d=l&&l.reduce((function(e,t){return e[t.category]=[].concat(Object(h.a)(e[t.category]||[]),[t]),e}),{}),u=Object(o.useState)((function(){return d&&Object.keys(d).map((function(e){return e||[]}))})),f=Object(c.a)(u,2),j=f[0],b=f[1];return Object(be.jsx)(be.Fragment,{children:Object(be.jsxs)(Er.a,{className:"".concat(r.FormRow," step-device-one"),children:[Object(be.jsx)(Br.a,{htmlFor:"grouped-select",className:r.FormLabel,children:"Effect Type"}),Object(be.jsxs)(wt.a,{value:n&&n.effect&&n.effect.type||"",onChange:function(e){return function(e){return a(n.id,{type:e.target.value}).then((function(){i()}))}(e)},id:"grouped-select",className:r.FormSelect,children:[Object(be.jsx)(Ee.a,{value:"",disabled:!0,children:Object(be.jsx)("em",{children:"None"})}),t&&d&&Object.keys(d).map((function(e){return j&&-1!==j.indexOf(e)&&[Object(be.jsx)(kt.a,{className:r.FormListHeaders,color:"primary",children:e}),d[e].map((function(e){return Object(be.jsx)(Ee.a,{className:r.FormListItem,value:e.id,children:e.name})}))]}))]}),s.effectfilter&&Object(be.jsx)(Ir.a,{value:j,onChange:function(e,t){b(t)},"aria-label":"text formatting",className:r.FormToggleWrapper,children:t&&Object.keys(d).map((function(e,t){return Object(be.jsx)(Pr.a,{className:r.FormToggle,value:e,"aria-label":e,children:e},t)}))})]})})},zr=n(333),Wr=function(e,t){Object(o.useEffect)((function(){var n=!1,r=!1,a=function(a){!n&&r&&e.current&&!e.current.contains(a.target)&&t(a)},i=function(t){r=e.current,n=e.current&&e.current.contains(t.target)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),document.addEventListener("click",a),function(){document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i),document.removeEventListener("click",a)}}),[e,t])},Rr=n(233),Fr=n(531),Hr=n(515),Gr=n(516),Jr=n(514),Vr=n(481),Xr=n(506),Ur=n(532),Yr=n(478),Qr=n(533),qr=n(509),Zr=n(534),Kr=n(98),$r=function(e){var t=e.dialogOpen,n=e.setDialogOpen,r=Object(Kr.a)(),a={PaperProps:{style:{maxHeight:224,width:250,background:r.palette.background.paper}}},i=Object(o.useState)([]),s=Object(c.a)(i,2),l=s[0],d=s[1],u=P((function(e){return e.colors})),f=P((function(e){return e.deleteColors})),j=P((function(e){return e.getColors})),b=function(){n(!1)};return Object(be.jsx)(be.Fragment,{children:Object(be.jsxs)(Ur.a,{PaperProps:{sx:{background:r.palette.background.paper,color:r.palette.text.primary}},open:t,disableEscapeKeyDown:!0,onClose:b,"aria-labelledby":"form-dialog-title",children:[Object(be.jsx)(Yr.a,{id:"form-dialog-title",children:"Delete user-defined colors/gradients"}),Object(be.jsx)(Qr.a,{children:Object(be.jsxs)(Jr.a,{sx:{m:1,width:300,"&&& fieldset, &&& fieldset:hover":{borderColor:r.palette.text.primary}},children:[Object(be.jsx)(Hr.a,{sx:{"&&&":{color:r.palette.text.primary}},id:"demo-multiple-checkbox-label",children:"Select to delete"}),Object(be.jsx)(Xr.a,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:l,onChange:function(e){var t=e.target.value;d("string"===typeof t?t.split(","):t)},input:Object(be.jsx)(Fr.a,{color:"primary",label:"To be deleted",sx:{"&&&":{color:r.palette.text.primary}}}),renderValue:function(e){return e.join(", ")},MenuProps:a,children:u.colors&&u.gradients&&[].concat(Object(h.a)(Object.keys(u.colors.user)),Object(h.a)(Object.keys(u.gradients.user))).map((function(e){return Object(be.jsxs)(Gr.a,{value:e,sx:{background:r.palette.background.paper,color:r.palette.text.primary},children:[Object(be.jsx)(qr.a,{color:"primary",checked:l.indexOf(e)>-1}),Object(be.jsx)(Vr.a,{primary:e}),Object(be.jsx)("div",{style:{width:150,height:50,background:u.colors.user[e]||u.gradients.user[e]}})]},e)}))})]})}),Object(be.jsxs)(Zr.a,{children:[Object(be.jsx)(Ne.a,{onClick:b,children:"Cancel"}),Object(be.jsx)(Ne.a,{onClick:function(){f(l).then((function(){return j()})),d([]),n(!1)},children:"Delete"})]})]})})},ea=Object(Y.a)((function(e){return{paper:{border:"1px solid",borderRadius:10,display:"flex",flexWrap:"wrap",maxWidth:"308px",overflow:"auto",padding:e.spacing(1),backgroundColor:e.palette.background.paper,"& .gradient-result":{display:"none"},"& .input_rgba":{display:"none"},"& .gradient-interaction":{order:-1,marginBottom:"1rem"},"& .colorpicker":{display:"flex",flexDirection:"column"},"& .color-picker-panel, & .popup_tabs-header, & .popup_tabs, & .colorpicker, & .colorpicker .color-picker-panel, & .popup_tabs-header .popup_tabs-header-label-active":{backgroundColor:"transparent"},"& .popup_tabs-header-label-active":{color:e.palette.text.primary},"& .popup_tabs-header-label":{color:e.palette.text.disabled,"&.popup_tabs-header-label-active":{color:e.palette.text.primary}},"& .popup_tabs-body":{paddingBottom:4}},addButton:{width:69,height:30,borderRadius:4,border:"1px solid #999",display:"flex",justifyContent:"center",alignItems:"center",fontSize:24,margin:"0 auto",cursor:"pointer","&:hover":{borderColor:"#fff"}},picker:{height:"30px",margin:"15px 10px 10px 10px",borderRadius:"10px",cursor:"pointer",border:"1px solid #fff"},wrapper:{border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",position:"relative",width:"100%",margin:"0.5rem 0","& > label":{top:"-0.5rem",display:"flex",alignItems:"center",left:"1rem",padding:"0 0.3rem",position:"absolute",fontVariant:"all-small-caps",fontSize:"0.9rem",letterSpacing:"0.1rem",backgroundColor:e.palette.background.paper,boxSizing:"border-box"}}}})),ta=function(e){var t=e.col,n=e.clr,r=e.index,a=e.virtual,s=e.gradient,l=void 0!==s&&s,d=e.wrapperStyle,u=ea(),f=Object(o.useRef)(),j=Object(o.useState)(null),b=Object(c.a)(j,2),p=b[0],m=b[1],g=Object(o.useState)(""),h=Object(c.a)(g,2),v=h[0],O=h[1],y=Object(o.useState)(!1),A=Object(c.a)(y,2),w=A[0],k=A[1],C=P((function(e){return e.updateVirtualEffect})),S=P((function(e){return e.getVirtuals})),D=P((function(e){return e.colors})),T=P((function(e){return e.getColors})),N=P((function(e){return e.addColor})),L={};D.gradients&&D.colors&&(Object.entries(D.gradients.builtin).forEach((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];L[n]=r})),Object.entries(D.gradients.user).forEach((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];L[n]=r})),Object.entries(D.colors.builtin).forEach((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];L[n]=r})),Object.entries(D.colors.user).forEach((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];L[n]=r})));var I=P((function(e){return e.virtuals})),B=a&&I[Object.keys(I).find((function(e){return e===a.id}))],E=Object(o.useCallback)((function(){m(null)}),[]);Wr(f,E);var _=Boolean(p),M=_?"simple-popper":void 0,z=function(e,n){N(Object(i.a)({},v,t)).then((function(){T()}))};return Object(o.useEffect)((function(){T()}),[]),Object(be.jsxs)("div",{className:"".concat(u.wrapper," step-effect-").concat(r," gradient-picker"),style:Object(x.a)({},d),children:[Object(be.jsx)("label",{className:"MuiFormLabel-root",children:n.replaceAll("_"," ").replaceAll("background","bg").replaceAll("name","")}),Object(be.jsx)("div",{className:u.picker,style:{background:t},"aria-describedby":M,onClick:function(e){m(p?null:e.currentTarget)}}),Object(be.jsx)(zr.a,{id:M,open:_,onClose:E,anchorEl:p,ref:f,children:Object(be.jsx)("div",{className:"".concat(u.paper," gradient-picker"),children:Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Rr.a,{colorBoardHeight:150,debounce:!0,debounceMS:300,format:"hex",gradient:l,solid:!0,onChange:function(e){return t=e,void(a&&B&&B.effect&&B.effect.type&&C(a.id,{virtId:a.id,type:B.effect.type,config:Object(i.a)({},n,t)}).then((function(){S()})));var t},popupWidth:288,showAlpha:!1,value:t,defaultColors:Object.values(L)}),Object(be.jsxs)("div",{style:{marginTop:2.5,width:"100%",display:"flex",justifyContent:"flex-end"},children:[Object(be.jsx)(Ne.a,{style:{width:69,height:30,borderRadius:4,border:"1px solid #999",display:"flex",justifyContent:"center",alignItems:"center",fontSize:24,marginRight:16,cursor:"pointer"},variant:"outlined",onClick:function(){return m(null),void k(!0)},disabled:D.length&&D.colors.length&&D.gradients.length&&!(Object.keys(D.colors.user).length>0)&&!Object.keys(D.gradients.user).length>0,children:"-"}),Object(be.jsx)(Vn,{className:u.addButton,popoverStyle:{padding:"0.5rem"},color:"default",variant:"outlined",direction:"center",content:Object(be.jsx)(vt.a,{autoFocus:!0,onClick:function(e){return e.stopPropagation()},onKeyDown:function(e,t){return"Enter"==e.key&&z()},error:D.length&&D.colors.length&&D.gradients.length&&(Object.keys(D.colors).indexOf(v)>-1||Object.values(D.colors).filter((function(e){return e===t})).length>0||Object.keys(D.gradients).indexOf(v)>-1||Object.values(D.gradients).filter((function(e){return e===t})).length>0),size:"small",variant:"outlined",id:"gradientNameInput",label:"Enter name to save as...",style:{marginRight:"1rem",flex:1},value:v,onChange:function(e){O(e.target.value)}}),confirmDisabled:0===v.length,onConfirm:function(e,t){return z()},startIcon:"",size:"medium",icon:Object(be.jsx)($t.a,{})})]})]})})}),Object(be.jsx)($r,{setDialogOpen:k,dialogOpen:w})]})},na=Object(Y.a)({bladeSchemaForm:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"}}),ra=function(e){var t=e.virtual,n=e.schema,r=e.model,a=e.virtual_id,i=e.selectedType,c=na(),o=P((function(e){return e.updateVirtualEffect})),s=P((function(e){return e.getVirtuals})),l=function(e,t){return o(e,{virtId:e,type:i,config:t}).then((function(){s()}))},d=n&&n.properties&&Object.keys(n.properties).map((function(e){return Object(x.a)(Object(x.a)({},n.properties[e]),{},{id:e})})).sort((function(e){return"number"===e.type?-1:1})).sort((function(e){return"integer"===e.type?-1:1})).sort((function(e){return"string"===e.type&&e.enum&&e.enum.length?-1:1})).sort((function(e){return"gradient_name"===e.id?-1:1})).sort((function(e){return"color"===e.type?-1:1})).sort((function(e){return"color"===e.id?-1:1}));return Object(be.jsx)("div",{className:c.bladeSchemaForm,children:d&&d.map((function(e,n){switch(e.type){case"boolean":return Object(be.jsx)(Nt,{index:n,model:r,model_id:e.id,schema:e,hideDesc:!0,onClick:function(e,t){var n={};return n[e]=t,l(a,n)}},n);case"string":return Object(be.jsx)(It,{model:r,schema:e,wrapperStyle:{width:"49%"},model_id:e.id,index:n,onChange:function(e,t){var n={};return n[e]=t,l(a,n)}},n);case"number":return Object(be.jsx)(zt,{index:n,hideDesc:!0,model_id:e.id,model:r,schema:e,onChange:function(e,t){var n={};return n[e]=t,l(a,n)}},n);case"integer":return Object(be.jsx)(zt,{step:1,index:n,hideDesc:!0,model_id:e.id,model:r,schema:e,style:{margin:"0.5rem 0"},onChange:function(e,t){var n={};return n[e]=t,l(a,n)}},n);case"color":return Object(be.jsx)(ta,{col:r[e.id],index:n,clr:e.id,selectedType:i,model:r,virtual:t,wrapperStyle:{width:"49%"},gradient:e.gradient},n);default:return Object(be.jsxs)(be.Fragment,{children:["Unsupported type:--",e.type]})}}))})},aa=function(e){var t=e.schema,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],s=P((function(e){return e.setTour})),l=(t&&t.properties&&Object.keys(t.properties).map((function(e){return Object(x.a)(Object(x.a)({},t.properties[e]),{},{id:e})})).sort((function(e){return"number"===e.type?-1:1})).sort((function(e){return"integer"===e.type?-1:1})).sort((function(e){return"string"===e.type&&e.enum&&e.enum.length?-1:1})).sort((function(e){return"color"===e.type?-1:1})).sort((function(e){return"color"===e.id?-1:1})).sort((function(e){return"gradient_name"===e.id?-1:1}))).map((function(e,t){return function(e){var t=e.title,n=void 0===t?"Title":t,r=e.text,a=void 0===r?"Text":r,i=e.number;return{selector:".step-effect-".concat(void 0===i?0:i),content:Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{children:n}),a]}),style:{backgroundColor:"#303030"}}}({title:e.title,text:e.description,number:t})}));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ne.a,{onClick:function(e){i(!0),s("effect")},variant:"outlined",style:{marginRight:".5rem"},className:"step-device-seven",children:Object(be.jsx)(Wt.a,{})}),Object(be.jsx)(Ue.a,{steps:l,accentColor:"#800000",isOpen:a,showNavigation:!1,onRequestClose:function(){return i(!1)},showNumber:!1})]})},ia=n(482),ca=n(483),oa=Object(Y.a)((function(e){return{appBar:{position:"relative",marginBottom:"1rem",background:e.palette.background.default,color:e.palette.text.primary},title:{marginLeft:e.spacing(2),flex:1},row:{display:"flex",justifyContent:"space-between",minWidth:"20px"},segmentTitle:{display:"flex",borderBottom:"1px dashed #aaa",justifyContent:"center",alignItems:"center",padding:"0.5rem 0",margin:"0 1rem"}}})),sa=n(235),la=n.n(sa),da=n(168),ua=n.n(da),fa=Object(o.forwardRef)((function(e,t){return Object(be.jsx)(Xn.a,Object(x.a)({direction:"up",ref:t},e))}));function ja(e){var t,n,r,a,i,s,l,d,u,f=e.virtual,j=oa(),b=P((function(e){return e.devices})),p=P((function(e){return e.getPing})),h=Object(o.useState)(!1),x=Object(c.a)(h,2),v=x[0],O=x[1],y=Object(o.useState)({}),A=Object(c.a)(y,2),w=A[0],k=A[1],C=Object(o.useState)({}),S=Object(c.a)(C,2),D=S[0],T=S[1],N=Object(o.useState)(!1),L=Object(c.a)(N,2),I=L[0],B=L[1],E=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b[f.id]){e.next=14;break}return I||B(!0),e.next=4,fetch("http://".concat(b[f.id].config.ip_address,"/json/info"));case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,k(n),r=p(f.id),e.next=12,r;case 12:a=e.sent,T(a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=e.name,n=e.value;return Object(be.jsxs)("div",{className:j.row,children:[Object(be.jsx)(Le.a,{className:j.title,children:t}),"object"===typeof n?n:Object(be.jsx)(Le.a,{children:n})]})};return f&&f.config&&b[f.id]&&"wled"===b[f.id].type?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ne.a,{variant:"outlined",color:"default",onClick:function(){return O(!0)},style:{marginRight:".5rem"},children:Object(be.jsx)(ia.a,{})}),Object(be.jsxs)(mt.a,{fullScreen:!0,open:v,onClose:function(){return O(!1)},TransitionComponent:fa,children:[Object(be.jsx)(De.a,{className:j.appBar,children:Object(be.jsxs)(Te.a,{children:[Object(be.jsx)(Ne.a,{color:"primary",variant:"contained",startIcon:Object(be.jsx)(ca.a,{}),onClick:function(){return O(!1)},style:{marginRight:"1rem"},children:"back"}),Object(be.jsxs)(Le.a,{variant:"h6",className:j.title,children:[f.config.name," "]})]})}),Object(be.jsxs)("div",{children:[Object(be.jsx)("div",{className:j.segmentTitle,children:Object(be.jsx)(Le.a,{variant:"caption",children:"Troubleshoot"})}),w.name?Object(be.jsxs)(Cr.a,{container:!0,spacing:4,style:{width:"calc(max(38.5vw, 480px))",paddingLeft:"0.5rem",margin:"0 auto"},children:[Object(be.jsxs)(Cr.a,{item:!0,xs:12,lg:6,children:[Object(be.jsx)(ce.a,{style:{marginBottom:"0.25rem"}}),Object(be.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:"1.5rem"},children:[Object(be.jsxs)(je.a,{style:{marginRight:"0.7rem"},children:[" ",Object(be.jsx)(pe,{})]})," ",w.name]}),Object(be.jsx)(ce.a,{style:{margin:"0.25rem 0 1rem 0"}}),Object(be.jsx)(_,{name:"AVERAGE PING",value:D.max_ping?"".concat(D.max_ping.toFixed(2)," ms"):Object(be.jsx)(Ie.a,{size:12})}),Object(be.jsx)(_,{name:"AVERAGE PING",value:D.avg_ping?"".concat(D.avg_ping.toFixed(2)," ms"):Object(be.jsx)(Ie.a,{size:12})}),Object(be.jsx)(_,{name:"MINIMUM PING",value:D.min_ping?"".concat(D.min_ping.toFixed(2)," ms"):Object(be.jsx)(Ie.a,{size:12})}),Object(be.jsx)(_,{name:"PACKETS LOST",value:"".concat(D.packetlosspercent?D.packetlosspercent.toFixed(2):0," %")}),Object(be.jsx)(ce.a,{style:{margin:"1rem 0"}}),Object(be.jsx)(_,{name:"WiFi Signal strength",value:"".concat(null===(t=w.wifi)||void 0===t?void 0:t.signal," %")}),Object(be.jsx)(_,{name:"WiFi Channel",value:null===(n=w.wifi)||void 0===n?void 0:n.channel}),Object(be.jsx)(_,{name:"MAC",value:w.mac}),Object(be.jsx)(_,{name:"Frames Per Second",value:"".concat(null===(r=w.leds)||void 0===r?void 0:r.fps," fps")})]}),Object(be.jsxs)(Cr.a,{item:!0,xs:12,lg:6,children:[Object(be.jsx)(ce.a,{style:{margin:" 0 0 0.5rem 0"}}),Object(be.jsx)(_,{name:"Version",value:w.ver}),Object(be.jsx)(_,{name:"Chip",value:w.arch}),Object(be.jsx)(_,{name:"LED Count",value:null===(a=w.leds)||void 0===a?void 0:a.count}),Object(be.jsx)(_,{name:"RGBW",value:JSON.stringify(null===(i=w.leds)||void 0===i?void 0:i.rgbw)}),Object(be.jsx)(_,{name:"Estimated Power",value:"".concat(null===(s=w.leds)||void 0===s||null===(l=s.pwr)||void 0===l?void 0:l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," mA")}),Object(be.jsx)(_,{name:"Max power",value:"".concat(null===(d=w.leds)||void 0===d||null===(u=d.maxpwr)||void 0===u?void 0:u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," mA")}),Object(be.jsx)(_,{name:"Live Mode",value:JSON.stringify(w.live)}),Object(be.jsx)(_,{name:"Live Mode Source",value:w.lip}),Object(be.jsx)(_,{name:"Live Mode Protocol",value:w.lm}),Object(be.jsx)(_,{name:"UDP Port",value:w.udpport}),Object(be.jsx)(_,{name:"Uptime",value:Object(be.jsx)(la.a,{interval:1e3,format:"hh:mm:ss",durationFromNow:!0,children:ua()().add(-1*w.uptime,"s")})})]})]}):Object(be.jsx)("div",{style:{textAlign:"center",margin:10},children:Object(be.jsx)(Ne.a,{variant:"outlined",disabled:I,onClick:E,children:"Scan "})})]})]})]}):Object(be.jsx)(be.Fragment,{})}var ba=Object(Y.a)((function(e){return{content:{display:"flex",flexDirection:"column"},actionButton:{marginTop:"0.5rem",width:"100%",borderColor:e.palette.grey[400]},card:{width:"100%",maxWidth:"540px","@media (max-width: 580px)":{maxWidth:"97vw",margin:"0 auto"},"& > .MuiCardContent-root":{paddingBottom:"0.5rem"}},pixelbar:{opacity:1,transitionDuration:0},pixelbarOut:{opacity:.2,transition:"opacity",transitionDuration:1e3}}})),pa=function(e){var t=e.virtId,n=ba(),r=Object(o.useState)(!1),a=Object(c.a)(r,2),s=a[0],l=a[1],d=P((function(e){return e.getVirtuals})),u=P((function(e){return e.getSchemas})),f=P((function(e){return e.clearVirtualEffect})),b=P((function(e){return e.setVirtualEffect})),p=P((function(e){return e.virtuals})),m=P((function(e){return e.schemas.effects})),g=P((function(e){return e.setPixelGraphs})),h=P((function(e){return e.viewMode})),x=P((function(e){return e.updateVirtual})),v=P((function(e){return e.graphs})),O=p[t],y=O&&O.effect.type;return Object(o.useEffect)((function(){d(),u(),v&&g([t])}),[v,g,d,u,y]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(pn.a,{className:n.card,children:Object(be.jsxs)(gn.a,{children:[Object(be.jsxs)("div",{style:{display:"flex",flexDirection:"column-reverse",justifyContent:"space-between"},children:[Object(be.jsx)("h1",{children:O&&O.config.name}),Object(be.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:m&&y&&Object(be.jsxs)(be.Fragment,{children:["user"!==h&&Object(be.jsx)(ja,{virtual:O}),Object(be.jsx)(aa,{schema:m[y].schema}),Object(be.jsx)(Ne.a,{onClick:function(){b(O.id,{virtId:O.id,type:y,config:"RANDOMIZE",active:!0}).then((function(){return d()}))},variant:"outlined",style:{marginRight:".5rem"},className:"step-device-six",children:Object(be.jsx)(Nr.a,{})}),Object(be.jsx)(Ne.a,{variant:"outlined",style:{marginRight:".5rem"},className:"step-device-five",onClick:function(){x(O.id,{active:!O.active}).then((function(){return d()}))},children:O.active?Object(be.jsx)(Fe.a,{}):Object(be.jsx)(xr.a,{})}),Object(be.jsx)(Ne.a,{variant:"outlined",className:"step-device-five",onClick:function(){f(t).then((function(){l(!0),setTimeout((function(){d()}),1e3*O.config.transition_time),setTimeout((function(){l(!1)}),1e3*O.config.transition_time+300)}))},children:Object(be.jsx)(vr.a,{})})]})})]}),Object(be.jsx)("div",{className:Object(j.a)(n.pixelbar,Object(i.a)({},n.pixelbarOut,s)),style:{transitionDuration:1e3*O.config.transition_time},children:Object(be.jsx)(gr,{virtId:t,active:p&&O&&m&&O.effect&&O.effect.config,dummy:!(p&&O&&m&&O.effect&&O.effect.config)})}),Object(be.jsx)("div",{style:{height:"1rem"}}),Object(be.jsx)(Mr,{virtId:t,effects:m,virtual:O})]})}),p&&O&&m&&O.effect&&O.effect.config&&Object(be.jsx)(pn.a,{style:{marginTop:"1rem"},children:Object(be.jsx)(gn.a,{style:{padding:"0 16px"},children:Object(be.jsxs)(Sr.a,{style:{paddin:0},defaultExpanded:"user"!==h,children:[Object(be.jsx)(Dr.a,{expandIcon:Object(be.jsx)(Lr.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",style:{padding:0},children:Object(be.jsx)(Le.a,{variant:"h5",children:"Effect Configuration"})}),Object(be.jsx)(Tr.a,{style:{padding:"0 0 8px 0"},children:Object(be.jsx)("div",{children:Object(be.jsx)(ra,{virtual:O,schema:m[y].schema,model:O.effect.config,virtual_id:t,selectedType:y})})})]})})})]})},ma=n(493),ga=n(489),ha=C.a.create({baseURL:"https://strapi.yeonv.com"}),xa=s.a.forwardRef((function(e,t){return Object(be.jsx)(Xn.a,Object(x.a)({direction:"up",ref:t},e))})),va=s.a.forwardRef((function(e,t){return Object(be.jsx)(Ee.a,Object(x.a)({ref:t},e))}));function Oa(e){var t=e.virtId,n=e.effectType,r=e.icon,a=void 0===r?Object(be.jsx)(Ge.a,{}):r,i=e.startIcon,s=e.label,l=void 0===s?"":s,d=e.type,u=e.className,f=e.color,j=void 0===f?"default":f,b=e.variant,p=void 0===b?"contained":b,h=e.onClick,x=void 0===h?function(){}:h,v=e.innerKey,O=ur(),y=Object(ee.a)(),A=Object(o.useState)(!1),w=Object(c.a)(A,2),k=w[0],C=w[1],S=Object(o.useState)([]),D=Object(c.a)(S,2),T=D[0],N=D[1],L=Object(o.useState)(),I=Object(c.a)(L,2),B=I[0],E=I[1],_=P((function(e){return e.setVirtualEffect})),M=P((function(e){return e.addPreset})),z=P((function(e){return e.getPresets})),W=P((function(e){return e.getVirtuals})),R=P((function(e){return e.virtuals})),F=function(){C(!0)},H=function(){C(!1)},G=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ha.get("presets",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 2:if(200===(t=e.sent).status){e.next=6;break}return alert("No Access"),e.abrupt("return");case 6:return e.next=8,t.data;case 8:n=e.sent,r={},n.forEach((function(e){r[e.effect.Name]||(r[e.effect.Name]=[]),r[e.effect.Name].push(e)})),N(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(g.a)(m.a.mark((function e(r,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(r.Name.toLowerCase()),r.effect.ledfx_id===n){e.next=6;break}return e.next=4,_(t,{type:r.effect.ledfx_id});case 4:return e.next=6,W();case 6:return e.next=8,_(t,{virtId:t,type:r.effect.ledfx_id,config:r.config,active:!0});case 8:if(!a){e.next=13;break}return e.next=11,M(t,r.Name);case 11:return e.next=13,z(r.effect.ledfx_id);case 13:return e.next=15,W();case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G();case 1:case"end":return e.stop()}}),e)}))),[]),Object(be.jsxs)(be.Fragment,{children:["menuItem"===d?Object(be.jsxs)(va,{className:u,onClick:function(e){e.preventDefault(),x(e),F()},children:[Object(be.jsx)(le.a,{children:a}),l]},v):Object(be.jsxs)(Ne.a,{variant:p,startIcon:i,color:j,onClick:function(e){x(e),G(),F()},size:"small",style:{padding:"2px 15px"},className:u,children:[l,!i&&a]}),Object(be.jsxs)(mt.a,{fullScreen:!0,open:k,onClose:H,TransitionComponent:xa,children:[Object(be.jsx)(De.a,{className:O.appBar,children:Object(be.jsxs)(Te.a,{children:[Object(be.jsx)(Ne.a,{color:"primary",variant:"contained",startIcon:Object(be.jsx)(ca.a,{}),onClick:H,children:"back"}),Object(be.jsx)(Le.a,{variant:"h6",className:O.title,children:"LedFx Cloud"})]})}),Object(be.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object.keys(T).map((function(e,n){return Object(be.jsxs)("div",{style:{order:R[t].effect.name.toLowerCase()===e.toLowerCase()?-1:1},children:[Object(be.jsx)(Le.a,{className:O.segmentTitle,variant:"caption",style:{color:R[t].effect.name.toLowerCase()===e.toLowerCase()?y.palette.primary.main:y.palette.text.primary},children:e}),Object(be.jsx)(Cr.a,{style:{padding:20},container:!0,spacing:2,children:T[e].map((function(n,r){return Object(be.jsx)(Cr.a,{item:!0,children:Object(be.jsx)(pn.a,{className:"".concat(O.cloudEffectCard," ").concat(R[t].effect.name.toLowerCase()===e.toLowerCase()&&B===n.Name.toLowerCase()?" active":""),onClick:function(){return J(n)},children:Object(be.jsx)(mn.a,{title:n.Name,subheader:Object(be.jsx)("div",{style:{color:"#999"},children:"by ".concat(n.user.username)}),action:Object(be.jsx)(ie.a,{"aria-label":"Import",onClick:function(e){e.stopPropagation(),J(n,!0)},children:Object(be.jsx)(ga.a,{})})})},r)},r)}))})]},n)}))})]})]})}var ya=n(491),Aa=n(492),wa=n(490),ka=Object(Y.a)((function(e){return{bladeMenu:{"& .MuiPaper-root":{backgroundColor:e.palette.grey[900]}}}}));function Ca(e){var t=e.delPreset,n=e.uploadPresetCloud,r=e.deletePresetCloud,a=e.label,i=void 0===a?"Button":a,s=e.buttonColor,l=e.className,d=e.onClick,u=ka(),f=Object(o.useState)(null),j=Object(c.a)(f,2),b=j[0],p=j[1],m=Boolean(b),g=P((function(e){return e.isLogged})),h=P((function(e){return e.features})),v=Object(Gn.useLongPress)((function(e){e.preventDefault(),p(e.currentTarget||e.target)}),{onCancel:function(e){0===e.button&&d()},treshhold:1e3,captureEvent:!0});return Object(be.jsxs)("div",{children:[Object(be.jsx)(Ne.a,Object(x.a)(Object(x.a)({"aria-expanded":m?"true":void 0,variant:"outlined",color:s,className:l},v),{},{onContextMenu:function(e){e.preventDefault(),p(e.currentTarget||e.target)},children:i})),Object(be.jsxs)(Be.a,{id:"basic-menu",anchorEl:b,open:Boolean(b),onClose:function(){return p(null)},getContentAnchorEl:null,className:u.bladeMenu,MenuListProps:{"aria-labelledby":"basic-button"},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(be.jsx)("div",{children:Object(be.jsx)(Vn,{type:"menuItem",variant:"outlined",direction:"left",onConfirm:t,label:"Delete Preset",anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}})}),Object(be.jsxs)(Ee.a,{onClick:function(e){n(e),p(null)},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(wa.a,{fontSize:"small"})}),Object(be.jsx)(de.a,{children:"Copy Preset"})]}),"creator"===window.localStorage.getItem("ledfx-cloud-role")&&h.cloud&&g&&Object(be.jsxs)(Ee.a,{onClick:function(e){n(e),p(null)},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(ya.a,{fontSize:"small"})}),Object(be.jsx)(de.a,{children:"Upload to Cloud"})]}),"creator"===window.localStorage.getItem("ledfx-cloud-role")&&h.cloud&&g&&Object(be.jsxs)(Ee.a,{onClick:function(e){r(e),p(null)},children:[Object(be.jsx)(le.a,{children:Object(be.jsx)(Aa.a,{fontSize:"small"})}),Object(be.jsx)(de.a,{children:"Delete from Cloud"})]})]})]})}var Sa=C.a.create({baseURL:"https://strapi.yeonv.com"}),Da=Object(Y.a)((function(e){return{content:{display:"flex",flexDirection:"column",width:"100%",padding:e.spacing(2)},presetButton:{margin:e.spacing(0),textDecoration:"none"},buttonGrid:{direction:"row"},hint:{color:e.palette.text.disabled},actions:{display:"flex",flexDirection:"row",margin:e.spacing(1)},deviceCard:{width:"100%",maxWidth:"540px","@media (max-width: 580px)":{maxWidth:"97vw",margin:"0 auto"}}}})),Ta=function(e){var t=e.virtual,n=e.effectType,r=e.presets,a=e.style,i=Da(),s=Object(o.useState)(""),l=Object(c.a)(s,2),d=l[0],u=l[1],f=Object(o.useState)(!0),j=Object(c.a)(f,2),b=j[0],p=j[1],h=P((function(e){return e.activatePreset})),x=P((function(e){return e.addPreset})),v=P((function(e){return e.getPresets})),O=P((function(e){return e.getVirtuals})),y=P((function(e){return e.deletePreset})),A=P((function(e){return e.isLogged})),w=P((function(e){return e.features})),k=function(){var e=Object(g.a)(m.a.mark((function e(r,a){var i,c,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa.get("presets?user.username=".concat(localStorage.getItem("username"),"&Name=").concat(r[a].name),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 2:return i=e.sent,e.next=5,i.data;case 5:return c=e.sent,e.next=8,Sa.get("effects?ledfx_id=".concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 8:return o=e.sent,e.next=11,o.data[0].id;case 11:s=e.sent,c.length&&c.length>0?Sa.put("presets/".concat(c[0].id),{Name:r[a].name,config:t.effect.config,effect:s,user:localStorage.getItem("ledfx-cloud-userid")},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}):Sa.post("presets",{Name:r[a].name,config:t.effect.config,effect:s,user:localStorage.getItem("ledfx-cloud-userid")},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa.get("presets?user.username=".concat(localStorage.getItem("username"),"&Name=").concat(t[n].name),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 2:return r=e.sent,e.next=5,r.data;case 5:(a=e.sent).length&&a.length>0&&Sa.delete("presets/".concat(a[0].id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e,t,n,r){return function(){h(e,t,n,r).then((function(){return O()})),u("")}},D=function(e,r){var a;return e&&!(null===(a=Object.keys(e))||void 0===a?void 0:a.length)?Object(be.jsxs)(Ne.a,{style:{margin:"0.5rem 0 0.5rem 0.5rem"},variant:"outlined",size:"small",className:i.presetButton,disabled:!0,children:["No ","default_presets"===r?"":"Custom"," Presets"]}):e&&Object.keys(e).map((function(a){return Object(be.jsx)(Cr.a,{item:!0,children:"default_presets"!==r?Object(be.jsx)(Ca,{buttonColor:JSON.stringify(t.effect.config)===JSON.stringify(e[a].config)?"primary":"default",label:e[a].name,delPreset:N(n,a),uploadPresetCloud:function(){return k(e,a)},deletePresetCloud:function(){return C(e,a)},className:i.presetButton,onClick:S(t.id,r,n,a)}):Object(be.jsx)(Ne.a,{className:i.presetButton,color:JSON.stringify(t.effect.config)===JSON.stringify(e[a].config)?"primary":"default",variant:"outlined",onClick:S(t.id,r,n,a),children:e[a].name})},a)}))},T=function(){x(t.id,d).then((function(){v(n)})),u("")},N=function(e,t){return function(){return y(e,t).then((function(){v(e)}))}};return Object(o.useEffect)((function(){O(),n&&v(n)}),[O,n]),Object(be.jsxs)(pn.a,{variant:"outlined",className:"".concat(i.deviceCard," step-device-three"),style:a,children:[Object(be.jsx)(mn.a,{style:{margin:"0"},title:"Presets",subheader:"Explore different effect configurations or create your own."}),Object(be.jsxs)(gn.a,{className:i.content,children:[Object(be.jsx)(Cr.a,{spacing:2,container:!0,className:i.buttonGrid,children:D(null===r||void 0===r?void 0:r.default_presets,"default_presets")}),Object(be.jsx)(ce.a,{style:{margin:"1rem 0"}}),Object(be.jsxs)(Cr.a,{spacing:2,container:!0,className:i.buttonGrid,children:[D(null===r||void 0===r?void 0:r.custom_presets,"custom_presets"),Object(be.jsx)(Cr.a,{item:!0,children:Object(be.jsx)(Vn,{className:i.presetButton,popoverStyle:{padding:"0.5rem"},color:"default",variant:"outlined",direction:"center",onSingleClick:function(){console.log("hi")},content:Object(be.jsx)(vt.a,{onKeyDown:function(e){return"Enter"==e.key&&T()},error:r.default_presets&&(Object.keys(r.default_presets).indexOf(d)>-1||Object.values(r.default_presets).filter((function(e){return e.name===d})).length>0),size:"small",variant:"outlined",id:"presetNameInput",label:r.default_presets&&(Object.keys(r.default_presets).indexOf(d)>-1||Object.values(r.default_presets).filter((function(e){return e.name===d})).length>0)?"Default presets are readonly":r.custom_presets&&(Object.keys(r.custom_presets).indexOf(d)>-1||Object.values(r.custom_presets).filter((function(e){return e.name===d})).length>0)?"Preset already exsisting":"Add Custom Preset",style:{marginRight:"1rem",flex:1},value:d,onChange:function(e){u(e.target.value),r.custom_presets&&(Object.keys(r.custom_presets).indexOf(e.target.value)>-1||Object.values(r.custom_presets).filter((function(t){return t.name===e.target.value})).length>0)?p(!1):p(!0)}}),footer:Object(be.jsx)("div",{style:{margin:"0 0 0.5rem 1rem"},children:Object(be.jsx)(Le.a,{variant:"body2",className:i.hint,children:"Save the current effect configuration as a new preset."})}),confirmDisabled:0===d.length||r.default_presets&&(Object.keys(r.default_presets).indexOf(d)>-1||Object.values(r.default_presets).filter((function(e){return e.name===d})).length>0)||!b,onConfirm:T,startIcon:"",size:"medium",icon:Object(be.jsx)($t.a,{})})})]})]}),Object(be.jsx)(hn.a,{children:Object(be.jsx)("div",{style:{flexDirection:"column",flex:1},children:Object(be.jsxs)("div",{style:{marginLeft:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[Object(be.jsx)(Le.a,{variant:"body2",className:i.hint,children:"Long-Press or right-click to open context-menu"}),w.cloud&&!!localStorage.getItem("jwt")&&A&&Object(be.jsx)(Oa,{virtId:t.id,effectType:n,variant:"outlined",label:"get more online",startIcon:Object(be.jsx)(ma.a,{})})]})})})]})},Na=Object(Y.a)((function(e){return{content:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",padding:e.spacing(2),paddingBottom:0},formControl:{marginRight:e.spacing(3),flex:1},card:{width:"100%",maxWidth:"540px"}}})),La=function(e){var t=e.virtual,n=e.style,r=Na(),a=P((function(e){return e.schemas.virtuals&&e.schemas.virtuals.schema.properties})),i=P((function(e){return e.addVirtual})),c=t&&t.config&&t.config.transition_mode,o=t&&t.config&&t.config.transition_time,s=function(e,t){return i({id:e,config:t})},l=[{value:null===a||void 0===a?void 0:a.transition_time.minimum,label:"".concat(null===a||void 0===a?void 0:a.transition_time.minimum,"s")},{value:null===a||void 0===a?void 0:a.transition_time.maximum,label:"".concat(null===a||void 0===a?void 0:a.transition_time.maximum,"s")}];return Object(be.jsxs)(pn.a,{variant:"outlined",className:"".concat(r.card," step-device-two"),style:n,children:[Object(be.jsx)(mn.a,{title:"Transitions",subheader:"Seamlessly blend between effects"}),Object(be.jsxs)(gn.a,{className:r.content,children:[Object(be.jsx)(Er.a,{className:r.formControl,children:Object(be.jsx)(Pt,{title:"Duration",children:Object(be.jsx)(Bt.a,{defaultValue:o||(null===a||void 0===a?void 0:a.transition_time.default),onChangeCommitted:function(e,n){return s(t.id,{transition_time:n})},"aria-labelledby":"discrete-slider",step:.1,min:null===a||void 0===a?void 0:a.transition_time.minimum,max:null===a||void 0===a?void 0:a.transition_time.maximum,marks:l,style:{color:"#aaa"},valueLabelDisplay:"auto"})})}),Object(be.jsx)(Pt,{title:"Mode",style:{flexGrow:0,flexBasis:"180px",minWidth:"180px",minHeight:"72px"},children:Object(be.jsx)(wt.a,{defaultValue:c||(null===a||void 0===a?void 0:a.transition_mode.default),onChange:function(e){s(t.id,{transition_mode:e.target.value})},children:null===a||void 0===a?void 0:a.transition_mode.enum.map((function(e,t){return Object(be.jsx)(Ee.a,{value:e,children:e},t)}))})})]})]})},Pa=n(495),Ia=n(494),Ba=function(e){return 3700*function(e){return Math.log(e)/Math.log(13)}(1+e/200)},Ea=function(e){return 200*Math.pow(13,e/3700)-200},_a=Object(Y.a)((function(e){return{content:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",padding:e.spacing(2),paddingBottom:0},formControl:{marginRight:e.spacing(3)},card:{width:"100%",maxWidth:"540px","@media (max-width: 580px)":{maxWidth:"97vw",margin:"0 auto"}}}}));function Ma(e){var t=e.children,n=e.open,r=e.value;return Object(be.jsx)(Pa.a,{open:n,enterTouchDelay:0,placement:"top",title:"".concat(Math.round(Ea(r))," Hz"),children:t})}var za=function(e){var t,n,r,a,i,s,l,d,u=e.virtual,f=e.style,j=_a(),b=P((function(e){return e.addVirtual})),p=P((function(e){return e.getVirtuals})),m=P((function(e){return e.config})),g=Object(o.useState)([Ba(u.config.frequency_min),Ba(u.config.frequency_max)]),v=Object(c.a)(g,2),O=v[0],y=v[1],A=null===(t=m.melbanks)||void 0===t?void 0:t.max_frequencies.map((function(e){return{value:e,label:"".concat(e>1e3?"".concat(e/1e3,"kHz"):"".concat(e,"Hz"))}})),w={value:null===(n=m.melbanks)||void 0===n?void 0:n.min_frequency,label:"".concat((null===(r=m.melbanks)||void 0===r?void 0:r.min_frequency)>1e3?"".concat((null===(a=m.melbanks)||void 0===a?void 0:a.min_frequency)/1e3,"kHz"):"".concat(null===(i=m.melbanks)||void 0===i?void 0:i.min_frequency,"Hz"))},k=A&&[w].concat(Object(h.a)(A)),C=null===k||void 0===k?void 0:k.map((function(e){return{value:Ba(e.value),label:e.label}}));return Object(be.jsxs)(pn.a,{variant:"outlined",className:"".concat(j.card," step-device-four"),style:f,children:[Object(be.jsx)(mn.a,{title:"Frequencies",subheader:"Adjust the audio range used for this strip"}),Object(be.jsx)(gn.a,{className:j.content,children:Object(be.jsxs)("div",{style:{width:"100%"},children:[Object(be.jsx)(Pt,{title:"Range",style:{padding:"16px 2rem 6px 2rem",marginBottom:"1rem"},children:Object(be.jsx)(Bt.a,{value:[O[0],O[1]],"aria-labelledby":"discrete-slider-custom",step:.001,valueLabelDisplay:"auto",marks:C,min:Ba(null===(s=m.melbanks)||void 0===s?void 0:s.min_frequency),max:Ba(null===(l=m.melbanks)||void 0===l?void 0:l.max_frequencies[(null===(d=m.melbanks)||void 0===d?void 0:d.max_frequencies.length)-1]),onChange:function(e,t){var n=Object(h.a)(t);C.forEach((function(e,r){Math.abs(t[0]-e.value)<100&&(n[0]=e.value),Math.abs(t[1]-e.value)<100&&(n[1]=e.value)})),y(n)},ValueLabelComponent:Ma,style:{color:"#aaa"},onChangeCommitted:function(e,t){b({id:u.id,config:Object(x.a)(Object(x.a)({},u.config),{},{frequency_min:Math.round(Ea(O[0])),frequency_max:Math.round(Ea(O[1]))})}).then((function(){return p()}))}})}),Object(be.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(be.jsx)("div",{style:{maxWidth:"120px"},children:Object(be.jsx)(vt.a,{id:"min",label:"Min",type:"number",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(be.jsx)(Ia.a,{position:"end",children:"Hz"})},inputProps:{style:{textAlign:"right"},min:20,max:2e4},value:Math.round(Ea(O[0]))<5?O[0]:Math.round(Ea(O[0])),variant:"outlined",onChange:function(e,t){y([Ba(e.target.value),O[1]])}})}),Object(be.jsx)("div",{style:{maxWidth:"120px"},children:Object(be.jsx)(vt.a,{id:"max",label:"Max",type:"number",value:Math.round(Ea(O[1]))>20001?O[1]:Math.round(Ea(O[1])),onChange:function(e,t){y([O[0],Ba(e.target.value)])},inputProps:{min:20,max:2e4},InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(be.jsx)(Ia.a,{position:"end",children:"Hz"})},variant:"outlined"})})]})]})})]})},Wa=n(521),Ra=n(524),Fa=n(496),Ha={PaperProps:{style:{maxHeight:224,width:250}}},Ga=Object(Y.a)((function(e){return{content:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",padding:e.spacing(2),paddingBottom:0},card:{width:"100%",maxWidth:"540px",marginBottom:"1rem"}}})),Ja=function(e){var t=e.virtual,n=e.virtuals,r=e.style,a=Ga(),i=P((function(e){return e.streamingToDevices})),s=P((function(e){return e.setStreamingToDevices})),l=o.useState(-1===i.indexOf(t.id)?[t.id]:i),d=Object(c.a)(l,2),u=d[0],f=d[1],j=P((function(e){return e.setVirtualEffect})),b=P((function(e){return e.getVirtuals})),p=function(){u.map((function(e){var r,a,i,c,o;return i=e,c=null===(r=n[t.id])||void 0===r?void 0:r.effect.config,o=null===(a=n[t.id])||void 0===a?void 0:a.effect.type,j(i,{virtId:i,type:o,config:c,active:!0}).then((function(){return b()}))}))};return Object(be.jsxs)(pn.a,{variant:"outlined",className:"".concat(a.card," step-device-two"),style:r,children:[Object(be.jsx)(mn.a,{title:"Copy To",subheader:"Copy current effect configurations other Devices",style:{paddingBottom:11}}),Object(be.jsxs)(gn.a,{className:a.content,children:[Object(be.jsxs)(Er.a,{style:{margin:10,width:"100%"},children:[Object(be.jsx)(Br.a,{id:"demo-multiple-chip-label",style:{margin:"-7px 0 0 14px"},children:"Select device(s) to copy to"}),Object(be.jsx)(wt.a,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:u,onChange:function(e,t){return console.log(e,t.props.value)||function(e){var t=u.indexOf(e),n=Object(h.a)(u);-1===t?n.push(e):n.splice(t,1),f(n),s(n)}(t.props.value)},input:Object(be.jsx)(Wa.a,{id:"select-multiple-chip",label:"Select device(s) to copy to"}),renderValue:function(e){return Object(be.jsx)(Fa.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(be.jsx)(Ra.a,{label:e},e)}))})},MenuProps:Ha,children:Object.keys(n).map((function(e){return Object(be.jsx)(Ee.a,{value:e,children:e},e)}))})]}),Object(be.jsx)(Ne.a,{variant:"outlined",onClick:function(){return p()},style:{alignSelf:"flex-start",margin:"10px 0"},children:"Copy"})]})]})},Va=Object(Y.a)((function(e){return{virtualWrapper:{justifyContent:"center"},girdItem:{flexShrink:0,flexGrow:1,maxWidth:"540px",width:"100%"}}})),Xa=function(e){var t=e.match.params.virtId,n=Va(),r=P((function(e){return e.getVirtuals})),a=P((function(e){return e.getPresets})),i=P((function(e){return e.getSchemas})),c=P((function(e){return e.features})),s=P((function(e){return e.virtuals})),l=P((function(e){return e.presets})),d=s[t],f=d&&d.effect.type;return Object(o.useEffect)((function(){r(),i(),f&&a(f)}),[r,i,a,f]),Object(be.jsx)(Cr.a,{container:!0,direction:"row",spacing:2,className:n.virtualWrapper,children:d&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Cr.a,{item:!0,className:n.girdItem,children:Object(be.jsx)(pa,{virtId:t})}),Object(be.jsxs)(Cr.a,{item:!0,className:n.girdItem,children:[f&&l&&Object(be.jsx)(Ta,{virtual:d,presets:l,effectType:f,style:{marginBottom:"1rem"}}),!(c.streamto||c.transitions||c.frequencies)&&Object(be.jsxs)(Le.a,{variant:"body2",color:"textSecondary",align:"right",children:[" activate more advanced features with ",Object(be.jsx)(u.b,{style:{color:"inherit"},to:"/Settings?ui",children:" Expert-Mode"})]}),c.streamto&&Object(be.jsx)(Ja,{virtuals:s,virtual:d}),c.transitions&&Object(be.jsx)(La,{virtual:d,style:{marginTop:"1rem"}}),c.frequencies&&Object(be.jsx)(za,{virtual:d,style:{marginTop:"1rem"}})]})]})})},Ua=n(497),Ya=n(498),Qa=Object(Y.a)({root:{width:"min(95vw, 345px)"},"@media (max-width: 580px)":{root:{width:"95vw"},sceneTitle:{fontSize:"1rem"}},media:{height:140},iconMedia:{height:140,display:"flex",alignItems:"center",margin:"0 auto",fontSize:100,"& > span:before":{position:"relative"}}}),qa=function(){var e=Qa(),t=P((function(e){return e.getScenes})),n=P((function(e){return e.scenes})),r=P((function(e){return e.activateScene})),a=P((function(e){return e.deleteScene})),i=Object(o.useState)(!1),s=Object(c.a)(i,2),l=s[0],d=s[1],u=Object(o.useState)(),f=Object(c.a)(u,2),j=f[0],b=f[1],p=P((function(e){return e.setDialogOpenAddScene})),m=function(){d(!1)},g=function(){return j?Object(be.jsxs)(mt.a,{open:l,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs",children:[Object(be.jsxs)(gt.a,{id:"alert-dialog-title",children:["Scene: ",n[j].name||j]}),Object(be.jsx)(ht.a,{children:Object(be.jsxs)(At.a,{id:"alert-dialog-description",children:[Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontVariant:"all-small-caps"},children:[Object(be.jsx)("span",{children:"Device"}),Object(be.jsx)("span",{children:"Effect"})]}),Object(be.jsx)(ce.a,{}),Object.keys(n[j].virtuals).filter((function(e){return!!n[j].virtuals[e].type})).map((function(e,t){return Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontVariant:"all-small-caps"},children:[Object(be.jsx)("span",{children:e}),Object(be.jsx)("span",{children:n[j].virtuals[e].type})]},t)}))]})}),Object(be.jsx)(Ot.a,{children:Object(be.jsx)(Ne.a,{onClick:m,color:"primary",autoFocus:!0,children:"Close"})})]}):Object(be.jsx)(be.Fragment,{})};return Object(o.useEffect)((function(){t()}),[t]),Object(be.jsx)(Cr.a,{container:!0,spacing:2,justifyContent:"center",children:n&&Object.keys(n).length?Object.keys(n).map((function(i,c){return Object(be.jsxs)(Cr.a,{item:!0,children:[Object(be.jsxs)(pn.a,{className:e.root,children:[Object(be.jsx)(Ya.a,{style:{background:"#090909"},onClick:function(){return r({id:i}),void p(!1)},children:(o=n[i].scene_image||"Wallpaper",o&&o.startsWith("image:")?Object(be.jsx)(Ua.a,{className:e.media,image:o.split("image:")[1],title:"Contemplative Reptile"}):Object(be.jsx)(ke,{scene:!0,className:e.iconMedia,name:o}))}),Object(be.jsxs)(hn.a,{style:{justifyContent:"space-between",aligntItems:"center",width:"100%"},children:[Object(be.jsx)(Le.a,{gutterBottom:!0,className:e.sceneTitle,variant:"h5",component:"h2",children:n[i].name||i}),Object(be.jsxs)("div",{children:[Object(be.jsx)(Vn,{onConfirm:function(){return a(i).then((function(){t()})),void p(!1)},variant:"outlined",color:"inherit"}),Object(be.jsx)(Ne.a,{onClick:function(){return function(e){b(e),d(!0)}(i)},variant:"outlined",color:"inherit",size:"small",style:{marginLeft:"0.5rem"},children:Object(be.jsx)(Wt.a,{})})]})]})]}),Object(be.jsx)(g,{})]},c);var o})):Object(be.jsx)(Ar,{type:"Scene"})})},Za=function(e){var t=e.className,n=P((function(e){return e.setSystemConfig})),r=P((function(e){return e.getSystemConfig})),a=P((function(e){var t,n;return null===e||void 0===e||null===(t=e.schemas)||void 0===t||null===(n=t.audio)||void 0===n?void 0:n.schema})),i=P((function(e){var t;return null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.audio}));return Object(o.useEffect)((function(){r()}),[]),Object(be.jsx)("div",{className:t,children:a&&Object(be.jsx)(Ft,{disableUnderline:!0,hideToggle:!0,schema:a,model:i,onModelChange:function(e){n({config:{audio:e}}).then((function(){return r()}))}})})},Ka=Object(Y.a)({content:{display:"flex",flexDirection:"column"},rowContainer:{border:"1px solid",borderRadius:"4px"},rowB:{display:"flex",flexDirection:"row"},row:{display:"flex",flexDirection:"row",padding:"10px 5px","&:not(:last-child)":{borderBottom:"1px solid"}},formControl:{width:"100%",marginRight:"1rem"},check:{"& .MuiSvgIcon-root":{width:"2rem",height:"2rem"}}}),$a=function(e){var t=e.className,n=Ka(),r=P((function(e){return e.setSystemConfig})),a=P((function(e){return e.getSystemConfig})),c=P((function(e){return e.config})),s=function(e,t){r({config:{wled_preferences:Object(i.a)({},e,{user_enabled:t})}}).then((function(){return a()}))},l=function(e,t){r({config:{wled_preferences:Object(i.a)({},e,{setting:t})}}).then((function(){return a()}))};return Object(o.useEffect)((function(){a()}),[a]),c.wled_preferences?Object(be.jsxs)(pn.a,{style:{marginBottom:"2rem"},className:t,children:[Object(be.jsx)(mn.a,{title:"WLED Integration",subheader:"Configure WLED-Settings",action:Object(be.jsx)(je.a,{style:{margin:"1rem",fontSize:"2.5rem"},children:Object(be.jsx)(pe,{})})}),Object(be.jsxs)(gn.a,{className:n.content,children:[Object(be.jsxs)(Er.a,{children:[Object(be.jsx)(Br.a,{id:"wled-scan-selector",children:"Scan for WLED on startup"}),Object(be.jsxs)(wt.a,{labelId:"wled-scan-selector",id:"wled-scan-select",value:c.scan_on_startup,onChange:function(e){return t="scan_on_startup",n=e.target.value,void r({config:Object(i.a)({},t,n)}).then((function(){return a()}));var t,n},children:[Object(be.jsx)(Ee.a,{value:!0,children:"Yes"}),Object(be.jsx)(Ee.a,{value:!1,children:"No"})]})]}),Object(be.jsxs)(Sr.a,{style:{marginTop:"2rem"},children:[Object(be.jsx)(Dr.a,{expandIcon:Object(be.jsx)(cr.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(be.jsx)(Le.a,{className:n.heading,children:"WLED Sync-Settings"})}),Object(be.jsxs)(Tr.a,{className:n.content,children:[Object(be.jsxs)("p",{style:{margin:"0 0 2rem 0"},children:["LedFx can configure WLED's sync settings to recommended values.",Object(be.jsx)("br",{}),Object(be.jsx)("br",{}),"WARNING: ",Object(be.jsx)("br",{}),"If you are using your strips with other controllers, changes to these settings might impact their functionality!",Object(be.jsx)("br",{}),Object(be.jsx)("br",{}),"LedFx will only change settings that you select with the checkbox"]}),Object(be.jsxs)("div",{className:n.rowContainer,children:[Object(be.jsxs)("div",{className:n.row,children:[Object(be.jsx)(Dt.a,{checked:c.wled_preferences.wled_preferred_mode.user_enabled,className:n.check,onChange:function(){return s("wled_preferred_mode",!c.wled_preferences.wled_preferred_mode.user_enabled)},inputProps:{"aria-label":"primary checkbox"}}),Object(be.jsxs)(Er.a,{className:n.formControl,children:[Object(be.jsx)(Br.a,{id:"wled-mode-selector",children:"Preferred WLED mode"}),Object(be.jsxs)(wt.a,{labelId:"wled-mode-selector",id:"wled-mode-select",value:c.wled_preferences.wled_preferred_mode.setting,onChange:function(e){return l("wled_preferred_mode",e.target.value)},disabled:!c.wled_preferences.wled_preferred_mode.user_enabled,children:[Object(be.jsx)(Ee.a,{value:"unset",children:"Unset"}),Object(be.jsx)(Ee.a,{value:"E131",children:"E131"}),Object(be.jsx)(Ee.a,{value:"DDP",children:"DDP"}),Object(be.jsx)(Ee.a,{value:"UDP",children:"UDP"})]})]})]}),Object(be.jsxs)("div",{className:n.row,children:[Object(be.jsx)(Dt.a,{checked:c.wled_preferences.realtime_gamma_enabled.user_enabled,className:n.check,onChange:function(){return s("realtime_gamma_enabled",!c.wled_preferences.realtime_gamma_enabled.user_enabled)},inputProps:{"aria-label":"primary checkbox"}}),Object(be.jsxs)(Er.a,{className:n.formControl,children:[Object(be.jsx)(Br.a,{id:"wled-gamma",children:"Realtime Gamma"}),Object(be.jsxs)(wt.a,{labelId:"wled-gamma",id:"wled-gamma-select",value:c.wled_preferences.realtime_gamma_enabled.setting,onChange:function(e){return l("realtime_gamma_enabled",e.target.value)},disabled:!c.wled_preferences.realtime_gamma_enabled.user_enabled,children:[Object(be.jsx)(Ee.a,{value:!0,children:"Enable"}),Object(be.jsx)(Ee.a,{value:!1,children:"Disable"})]})]})]}),Object(be.jsxs)("div",{className:n.row,children:[Object(be.jsx)(Dt.a,{checked:c.wled_preferences.force_max_brightness.user_enabled,className:n.check,onChange:function(){return s("force_max_brightness",!c.wled_preferences.force_max_brightness.user_enabled)},inputProps:{"aria-label":"primary checkbox"}}),Object(be.jsxs)(Er.a,{className:n.formControl,children:[Object(be.jsx)(Br.a,{id:"wled-brightness",children:"Force MaxBrightness"}),Object(be.jsxs)(wt.a,{labelId:"wled-brightness",id:"wled-brightness-select",value:c.wled_preferences.force_max_brightness.setting,onChange:function(e){return l("force_max_brightness",e.target.value)},disabled:!c.wled_preferences.force_max_brightness.user_enabled,children:[Object(be.jsx)(Ee.a,{value:!0,children:"Enable"}),Object(be.jsx)(Ee.a,{value:!1,children:"Disable"})]})]})]}),Object(be.jsxs)("div",{className:n.row,children:[Object(be.jsx)(Dt.a,{checked:c.wled_preferences.realtime_dmx_mode.user_enabled,className:n.check,onChange:function(){return s("realtime_dmx_mode",!c.wled_preferences.realtime_dmx_mode.user_enabled)},inputProps:{"aria-label":"primary checkbox"}}),Object(be.jsxs)(Er.a,{className:n.formControl,children:[Object(be.jsx)(Br.a,{id:"wled-dmx",children:"DMX mode"}),Object(be.jsxs)(wt.a,{labelId:"wled-dmx",id:"wled-dmx-select",value:c.wled_preferences.realtime_dmx_mode.setting,onChange:function(e){return l("realtime_dmx_mode",e.target.value)},disabled:!c.wled_preferences.realtime_dmx_mode.user_enabled,children:[Object(be.jsx)(Ee.a,{value:"MultiRGB",children:"Disabled"}),Object(be.jsx)(Ee.a,{value:"MultiRGB",children:"Single RGB"}),Object(be.jsx)(Ee.a,{value:"MultiRGB",children:"Single DRGB"}),Object(be.jsx)(Ee.a,{value:"MultiRGB",children:"Multi RGB"}),Object(be.jsx)(Ee.a,{value:"MultiRGB",children:"Dimmer + Multi RGB"}),Object(be.jsx)(Ee.a,{value:"MultiRGB",children:"Multi RGBW"})]})]})]}),Object(be.jsxs)("div",{className:n.row,children:[Object(be.jsx)(Dt.a,{checked:c.wled_preferences.start_universe_setting.user_enabled,className:n.check,onChange:function(){return s("start_universe_setting",!c.wled_preferences.start_universe_setting.user_enabled)},inputProps:{"aria-label":"primary checkbox"}}),Object(be.jsx)(vt.a,{type:"number",label:"Start universe",id:"wled-universe-select",value:c.wled_preferences.start_universe_setting.setting,onChange:function(e){return l("start_universe_setting",e.target.value)},disabled:!c.wled_preferences.start_universe_setting.user_enabled,className:n.formControl})]}),Object(be.jsxs)("div",{className:n.row,children:[Object(be.jsx)(Dt.a,{checked:c.wled_preferences.dmx_address_start.user_enabled,className:n.check,onChange:function(){return s("dmx_address_start",!c.wled_preferences.dmx_address_start.user_enabled)},inputProps:{"aria-label":"primary checkbox"}}),Object(be.jsx)(vt.a,{type:"number",label:"DMX start address",id:"wled-dmx-start-select",value:c.wled_preferences.dmx_address_start.setting,onChange:function(e){return l("dmx_address_start",e.target.value)},disabled:!c.wled_preferences.dmx_address_start.user_enabled,className:n.formControl})]}),Object(be.jsxs)("div",{className:n.row,children:[Object(be.jsx)(Dt.a,{checked:c.wled_preferences.inactivity_timeout.user_enabled,className:n.check,onChange:function(){return s("inactivity_timeout",!c.wled_preferences.inactivity_timeout.user_enabled)},inputProps:{"aria-label":"primary checkbox"}}),Object(be.jsx)(vt.a,{type:"number",label:"Inactivity Timeout",id:"wled-inactivity-select",value:c.wled_preferences.inactivity_timeout.setting,onChange:function(e){return l("inactivity_timeout",e.target.value)},disabled:!c.wled_preferences.inactivity_timeout.user_enabled,className:n.formControl})]})]})]})]})]})]}):Object(be.jsx)(be.Fragment,{})},ei=function(){var e=Object(g.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:navigator.mediaDevices.enumerateDevices().then((function(e){null===t||e.indexOf(-1===t)})),video:!1});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ti=function(e){var t,n=e.style,r=P((function(e){return e.webAud})),a=P((function(e){return e.setWebAud})),i=Object(o.useState)(!1),s=Object(c.a)(i,2),l=s[0],d=s[1],u=P((function(e){return e.webAudName})),f=P((function(e){return e.setWebAudName})),j=r&&new(window.AudioContext||window.webkitAudioContext),b=Object(o.useState)(null),p=Object(c.a)(b,2),h=p[0],x=p[1],v=P((function(e){return e.getSchemas})),O=P((function(e){return e.clientDevice})),y=P((function(e){return e.setClientDevices})),A=Boolean(h),w=A?"simple-popover":void 0;return Object(o.useEffect)((function(){r&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&ei(O).then((function(e){if(t=e,j&&"closed"!==j.state){var n=j.createMediaStreamSource(e),a=j.createScriptProcessor(1024,1,1);if(n.connect(a),a.connect(j.destination),l&&r){var i=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,n={data:{sampleRate:null===a||void 0===a||null===(t=a.context)||void 0===t?void 0:t.sampleRate,bufferSize:null===a||void 0===a?void 0:a.bufferSize},client:u,id:0,type:"audio_stream_config"},_.ws.send(JSON.stringify(++n.id&&n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i()}a.onaudioprocess=function(e){if(l&&r){var t=function(){var t=Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0,n={data:e.inputBuffer.getChannelData(0),client:u,id:0,type:"audio_stream_data"},_.ws.send(JSON.stringify(++n.id&&n));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}}}))}),[j]),l||_&&_.ws&&1===_.ws.readyState&&d(!0),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Ut.a,{"aria-describedby":w,size:"large",color:r?"inherit":"secondary",onClick:function(e){if(r){j&&(t.getTracks().forEach((function(e){return e.stop()})),j.close());var n=function(){var e=Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t={client:u,id:0,type:"audio_stream_stop"},_.ws.send(JSON.stringify(++t.id&&t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n().then((function(){return v()})),a(!1),y(null),window.location.reload(!0)}else x(e.currentTarget)},"data-webaud":r,style:n,children:r?Object(be.jsx)(ke,{name:"mdi:stop",colorIndicator:r,style:{position:"relative"}}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ke,{name:"mdi:wifi",colorIndicator:r,style:{position:"relative",transform:"scale(0.8) translate(20%,-30%)"}}),Object(be.jsx)(ke,{name:"mdi:microphone",colorIndicator:r,style:{position:"absolute",transform:"scale(0.7) translate(-20%,50%)"}})]})}),Object(be.jsx)(Rn.a,{id:w,open:A,anchorEl:h,onClose:function(){x(null)},anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"},children:Object(be.jsxs)("div",{style:{display:"flex",margin:20},children:[Object(be.jsx)(vt.a,{id:"client-name",label:"Client Name",value:u,onChange:function(e){return f(e.target.value)},variant:"outlined"}),Object(be.jsx)(Ne.a,{"aria-describedby":w,variant:"contained",color:"primary",onClick:function(){if(!r&&l){navigator.mediaDevices.enumerateDevices().then((function(e){y(e)})).catch((function(e){console.log(e.name+": "+e.message)}));var e=function(){var e=Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={data:{},client:u,id:1,type:"audio_stream_start"},_.ws.send(JSON.stringify(++t.id&&t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),setTimeout((function(){v()}),1e3)}x(null),a(!0)},children:Object(be.jsx)(Fn.a,{})}),Object(be.jsx)(Ne.a,{"aria-describedby":w,variant:"contained",color:"default",onClick:function(){x(null)},children:Object(be.jsx)(Hn.a,{})})]})})]})},ni=Object(Y.a)((function(e){return{select:{"& div.MuiSelect-select":{padding:"6px 0"}}}})),ri=function(e){var t=e.style,n=ni(),r=P((function(e){return e.clientDevice})),a=P((function(e){return e.clientDevices})),i=P((function(e){return e.setClientDevice})),c=P((function(e){return e.webAudName}));return a&&Object(be.jsx)(Pt,{style:Object(x.a)({order:0},t),full:!0,title:"".concat(c,": Audio Device"),className:n.select,children:Object(be.jsx)(wt.a,{variant:"standard",disableUnderline:!0,value:r||a[0].deviceId,style:{width:"100%"},onChange:function(e){i(e.target.value)},children:a.filter((function(e){return"audioinput"===e.kind})).map((function(e,t){return Object(be.jsx)(Ee.a,{value:e.deviceId,children:e.label},t)}))})})},ai=n(242),ii=Object(Y.a)((function(e){return{content:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexDirection:"row","&>div":{display:"flex",flexWrap:"wrap",justifyContent:"space-between"}},settingsRow:{order:"unset",width:"100%",justifyContent:"space-between",display:"flex",alignItems:"center",height:40,"&>label":{marginRight:"1rem"},"&.slider>label":{width:150}},actionButton:{marginTop:"0.5rem",flexBasis:"49%",width:"100%",borderColor:"#444"},card:{maxWidth:"540px",margin:"0 auto"},"@media (max-width: 580px)":{card:{maxWidth:"97vw",margin:"0 auto"}},audioCard:{"& > div > div:not(:last-child)":{"@media (max-width: 580px)":{width:"48% !important",minWidth:"unset"}}}}})),ci=Object(ai.a)(Bt.a)((function(e){var t=e.theme;return{color:(t.palette.mode,"#eeeeee"),height:2,padding:"15px 0","& .MuiSlider-thumb":{height:20,width:20,backgroundColor:"#fff",marginTop:"-10px",boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)","&:focus, &:hover, &.Mui-active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)"}}},"& .MuiSlider-valueLabel":{fontSize:12,fontWeight:"normal",top:-6,backgroundColor:"unset",color:t.palette.text.primary,"&:before":{display:"none"},"& *":{background:"transparent",color:"dark"===t.palette.mode?"#fff":"#000"}},"& .MuiSlider-track":{border:"none"},"& .MuiSlider-rail":{opacity:.5,backgroundColor:"#bfbfbf"},"& .MuiSlider-mark":{backgroundColor:"#bfbfbf",height:8,width:1,"&.MuiSlider-markActive":{opacity:1,backgroundColor:"currentColor"}}}})),oi=Object(ai.a)((function(e){return Object(be.jsx)(St.a,Object(x.a)({focusVisibleClassName:".Mui-focusVisible",disableRipple:!0},e))}))((function(e){var t=e.theme;return{width:50,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(24px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:t.palette.primary,opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:"light"===t.palette.mode?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:13,backgroundColor:"light"===t.palette.mode?"#E9E9EA":"#39393D",opacity:1,transition:t.transitions.create(["background-color"],{duration:500})}}})),si=function(e){var t=ii();return Object(be.jsx)(Ne.a,Object(x.a)({size:"small",variant:"outlined",className:t.actionButton},e))},li=function(){var e=ii(),t=_t(),n=P((function(e){return e.config})),r=P((function(e){return e.getSystemConfig})),a=P((function(e){return e.setSystemConfig})),s=P((function(e){return e.viewMode})),l=P((function(e){return e.setViewMode})),d=P((function(e){return e.graphs})),u=P((function(e){return e.toggleGraphs})),f=P((function(e){return e.setFeatures})),j=P((function(e){return e.showFeatures})),b=P((function(e){return e.setShowFeatures})),p=P((function(e){return e.features})),m=Object(o.useState)(30),g=Object(c.a)(m,2),h=g[0],v=g[1],O=Object(o.useState)(50),y=Object(c.a)(O,2),A=y[0],w=y[1],k=Object(o.useState)(!1),C=Object(c.a)(k,2),S=(C[0],C[1]),D=Object(Gn.useLongPress)((function(e){return"expert"===s&&f("dev",!0)}),{treshhold:1e3,captureEvent:!0}),T=function(e,t){a({config:Object(i.a)({},e,t)}).then((function(){return r()}))};return Object(o.useEffect)((function(){"number"===typeof n.visualisation_fps&&v(n.visualisation_fps),"number"===typeof n.visualisation_maxlen&&w(n.visualisation_maxlen)}),[n]),Object(o.useEffect)((function(){r()}),[]),Object(be.jsxs)("div",{style:{width:"100%"},children:[n.visualisation_fps&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"".concat(e.settingsRow," slider step-settings-two"),children:[Object(be.jsx)("label",{children:"Frontend FPS"}),Object(be.jsx)("div",{style:{flexGrow:1},children:Object(be.jsx)(ci,{value:h,step:1,min:1,max:60,size:"medium",onChangeCommitted:function(e,t){return T("visualisation_fps",t)},onChange:function(e,t){v(t)}})}),Object(be.jsx)(Et.a,{disableUnderline:!0,className:t.input,style:{width:50},value:h,margin:"dense",onFocus:function(){return S(!0)},onChange:function(e,t){v(t)},onBlur:function(e,t){T("visualisation_fps",t)},inputProps:{min:1,max:60,type:"number","aria-labelledby":"input-slider"}})]}),Object(be.jsxs)("div",{className:"".concat(e.settingsRow," slider step-settings-three "),children:[Object(be.jsx)("label",{children:"Frontend Pixels"}),Object(be.jsx)("div",{style:{flexGrow:1},children:Object(be.jsx)(ci,{value:A,step:1,valueLabelDisplay:"auto",min:1,max:300,onChangeCommitted:function(e,t){return T("visualisation_maxlen",t)},onChange:function(e,t){w(t)}})}),Object(be.jsx)(Et.a,{disableUnderline:!0,className:t.input,value:A,style:{width:50},margin:"dense",onChange:function(e,t){w(t)},onBlur:function(e,t){return T("visualisation_maxlen",t)},inputProps:{min:1,max:300,type:"number","aria-labelledby":"input-slider"}})]})]}),Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"Show Graphs (eats performance)"}),Object(be.jsx)(oi,{checked:d,onChange:function(e){return u()}})]}),Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",Object(x.a)(Object(x.a)({},D),{},{children:"Expert Mode"})),Object(be.jsx)(oi,{checked:"user"!==s,onChange:function(e){return l("user"===s?"expert":"user")}})]}),j.cloud&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"LedFx Cloud"}),Object(be.jsx)(oi,{checked:p.cloud,onChange:function(e){return f("cloud",!p.cloud)}})]}),j.wled&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"WLED Integration"}),Object(be.jsx)(oi,{checked:p.wled,onChange:function(e){return f("wled",!p.wled)}})]}),j.integrations&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"Integrations"}),Object(be.jsx)(oi,{checked:p.integrations,onChange:function(e){return f("integrations",!p.integrations)}})]}),j.webaudio&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"WebAudio"}),Object(be.jsx)(oi,{checked:p.webaudio,onChange:function(e){return f("webaudio",!p.webaudio)}})]}),j.go&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"New Base (Go)"}),Object(be.jsx)(oi,{checked:p.go,onChange:function(e){return f("go",!p.go)}})]}),"user"!==s&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"Copy To"}),Object(be.jsx)(oi,{checked:p.streamto,onChange:function(e){return f("streamto",!p.streamto)}})]}),j.effectfilter&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"Effect Filter"}),Object(be.jsx)(oi,{checked:p.effectfilter,onChange:function(e){return f("effectfilter",!p.effectfilter)}})]}),"user"!==s&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-eight "),children:[Object(be.jsx)("label",{children:"Transitions"}),Object(be.jsx)(oi,{checked:p.transitions,onChange:function(e){return f("transitions",!p.transitions)}})]}),"user"!==s&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"Frequencies"}),Object(be.jsx)(oi,{checked:p.frequencies,onChange:function(e){return f("frequencies",!p.frequencies)}})]}),"user"!==s&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"Spotify Embedded Player"}),Object(be.jsx)(oi,{checked:p.spotify,onChange:function(e){return f("spotify",!p.spotify)}})]}),"user"!==s&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"BG Waves (eats performance)"}),Object(be.jsx)(oi,{checked:p.waves,onChange:function(e){return f("waves",!p.waves)}})]}),j.dev&&Object(be.jsxs)("div",{className:"".concat(e.settingsRow," step-settings-x "),children:[Object(be.jsx)("label",{children:"Dev Mode"}),Object(be.jsx)(Et.a,{disableUnderline:!0,style:{marginLeft:"1rem",backgroundColor:"rgb(57, 57, 61)",paddingLeft:"0.5rem",borderRadius:"5px",paddingTop:"3px",width:50},margin:"dense",onBlur:function(e){"clear"===e.target.value&&(l("user"),b("streamto",!1),b("dev",!1),b("go",!1),b("waves",!1),b("effectfilter",!1),b("cloud",!1),b("wled",!1),b("integrations",!1),b("spotify",!1),b("webaudio",!1),f("streamto",!1),f("waves",!1),f("go",!1),f("cloud",!1),f("effectfilter",!1),f("wled",!1),f("dev",!1),f("integrations",!1),f("spotify",!1),f("webaudio",!1),window.localStorage.removeItem("ledfx-theme"),window.localStorage.setItem("BladeMod",0),window.location.reload()),"BladeIsYeon"===e.target.value&&(l("expert"),b("dev",!0),b("go",!0),b("streamto",!0),b("cloud",!0),b("effectfilter",!0),b("waves",!0),b("wled",!0),b("integrations",!0),b("spotify",!0),b("webaudio",!0),f("streamto",!0),f("go",!0),f("waves",!0),f("cloud",!0),f("wled",!0),f("integrations",!0),f("effectfilter",!0),f("spotify",!0),f("webaudio",!0),window.localStorage.setItem("ledfx-theme","DarkRed"),window.location.reload()),"BladeCloud"===e.target.value&&b("cloud",!0),"BladeWled"===e.target.value&&b("wled",!0),"BladeIntegrations"===e.target.value&&b("integrations",!0),"BladeSpotify"===e.target.value&&b("spotify",!0),"BladeWebaudio"===e.target.value&&b("webaudio",!0),"BladeWaves"===e.target.value&&b("waves",!0),"BladeStreamTo"===e.target.value&&b("streamto",!0),"BladeEffectFilter"===e.target.value&&b("effectfilter",!0),"BladeGo"===e.target.value&&b("go",!0),e.target.value.startsWith("theme:")&&(window.localStorage.setItem("ledfx-theme",e.target.value.replace("theme:","")),window.location.reload())}})]})]})},di=n(499),ui=n(500),fi=n(236);function ji(e){var t=e.className,n=e.children,r=e.startIcon,a=(e.title,P((function(e){return e.config}))),i=P((function(e){return e.getInfo})),s={branch:"main",tags:[],commit:{shortHash:"fcd4427",hash:"fcd442758eb0845b2a7f1fd1fcefea3d7337ba49",date:"2021-12-29T02:56:16+01:00",message:"Merge pull request #6 from Mattallmighty/main\n\nUpdate TroubleshootButton.jsx"}},l=Object(o.useState)(!1),d=Object(c.a)(l,2),u=d[0],f=d[1],j=Object(o.useState)(""),b=Object(c.a)(j,2),p=b[0],h=b[1],x=Object(o.useState)(""),v=Object(c.a)(x,2),O=v[0],y=v[1],A=function(){f(!1)};return Object(o.useEffect)(Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:(t=e.sent)&&t.git_build_commit&&(h(t.git_build_commit),y(t.version));case 4:case"end":return e.stop()}}),e)}))),[]),Object(be.jsxs)("div",{children:[Object(be.jsx)(Ne.a,{size:"small",startIcon:r,variant:"outlined",className:t,onClick:function(){f(!0)},children:n}),Object(be.jsxs)(mt.a,{open:u,onClose:A,"aria-labelledby":"about-dialog-title","aria-describedby":"about-dialog-description",PaperProps:{style:{margin:"0 auto"}},children:[Object(be.jsx)(gt.a,{id:"about-dialog-title",children:"About LedFx"}),Object(be.jsx)(ht.a,{children:Object(be.jsxs)("div",{style:{minWidth:250},children:[Object(be.jsxs)(pn.a,{style:{marginBottom:"1rem"},children:[Object(be.jsx)(mn.a,{title:"Backend"}),Object(be.jsxs)(gn.a,{style:{paddingTop:0},children:[Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["version: ",Object(be.jsx)("span",{children:O})," "]}),Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["commit: ",Object(be.jsx)(xt.a,{href:"https://github.com/LedFx/LedFx/commit/".concat(p),target:"_blank",children:p.substring(0,6)})]}),Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["config_version: ",Object(be.jsx)("span",{children:a.configuration_version})," "]})]})]}),Object(be.jsxs)(pn.a,{children:[Object(be.jsx)(mn.a,{title:"Frontend"}),Object(be.jsxs)(gn.a,{style:{paddingTop:0},children:[Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["version: ",Object(be.jsx)("span",{children:fi.a})]}),Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["commit: ",Object(be.jsx)(xt.a,{href:"https://github.com/YeonV/LedFx-Frontend-v2/commit/".concat(s.commit.hash),target:"_blank",children:s.commit.shortHash})]}),Object(be.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["config_version: ",Object(be.jsx)("span",{children:localStorage.getItem("ledfx-frontend")})]})]})]})]})}),Object(be.jsx)(Ot.a,{children:Object(be.jsx)(Ne.a,{onClick:A,autoFocus:!0,children:"OK"})})]})]})}var bi=function(){var e,t,n,r,a=ii(),c=P((function(e){return e.getFullConfig})),o=P((function(e){return e.deleteSystemConfig})),s=P((function(e){return e.importSystemConfig})),l=P((function(e){return e.shutdown})),d=P((function(e){return e.restart})),u=P((function(e){return e.disconnected})),f=P((function(e){return e.config})),j=P((function(e){return e.getSystemConfig})),b=P((function(e){return e.setSystemConfig})),p=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c().then((function(e){return q(e,"config.json","application/json")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(),o().then((function(){return window.location=window.location.href}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(g.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FileReader).readAsText(t.target.files[0],"UTF-8"),n.onload=function(e){s(e.target.result).then((function(){return window.location=window.location.href}))};case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){b({config:Object(i.a)({},e,t)}).then((function(){return j()}))};return Object(be.jsxs)("div",{children:[Object(be.jsxs)("div",{className:"step-settings-four",style:{display:"flex",justifyContent:"space-between"},children:[Object(be.jsxs)("div",{style:{flex:"0 0 49%"},children:[Object(be.jsx)(si,{startIcon:Object(be.jsx)(ya.a,{}),onClick:function(){return p()},children:"Export Config"}),Object(be.jsx)(Vn,{startIcon:Object(be.jsx)(dn.a,{}),label:"Reset Config",variant:"outlined",color:"inherit",className:a.actionButton,onConfirm:function(){return h()},direction:"center",vertical:"top",wrapperStyle:{marginTop:"0.5rem",flexBasis:"49%"}}),Object(be.jsx)("input",{hidden:!0,accept:"application/json",id:"contained-button-file",type:"file",onChange:function(e){return x(e)}}),Object(be.jsx)("label",{htmlFor:"contained-button-file",style:{width:"100%",flexBasis:"49%"},children:Object(be.jsx)(si,{component:"span",startIcon:Object(be.jsx)(ga.a,{}),children:"Import Config"})}),O()()&&-1!==(null===(e=window.process)||void 0===e?void 0:e.argv.indexOf("integratedCore"))&&Object(be.jsx)(si,{startIcon:Object(be.jsx)(ya.a,{}),onClick:function(){return window.api.send("toMain","open-config")},children:"Config Location"})]}),Object(be.jsxs)("div",{style:{flex:"0 0 49%"},children:[Object(be.jsx)(ji,{startIcon:Object(be.jsx)(Wt.a,{}),className:a.actionButton,children:"About"}),Object(be.jsx)(si,{disabled:u,startIcon:Object(be.jsx)(di.a,{}),onClick:d,children:O()()&&-1!==(null===(t=window.process)||void 0===t?void 0:t.argv.indexOf("integratedCore"))?"Restart Core":"Restart"}),Object(be.jsx)(si,{disabled:u,startIcon:Object(be.jsx)(ui.a,{}),onClick:l,children:O()()&&-1!==(null===(n=window.process)||void 0===n?void 0:n.argv.indexOf("integratedCore"))?"Shutdown Core":"Shutdown"}),O()()&&-1!==(null===(r=window.process)||void 0===r?void 0:r.argv.indexOf("integratedCore"))&&Object(be.jsx)(si,{startIcon:Object(be.jsx)(ui.a,{}),onClick:function(){window.api.send("toMain","start-core")},children:"Start Core"})]})]}),Object(be.jsx)(ce.a,{style:{margin:"20px 0 10px"}}),Object(be.jsxs)("div",{className:"".concat(a.settingsRow," step-settings-six "),style:{flexBasis:"100%"},children:[Object(be.jsx)("label",{children:"Global Transitions"}),Object(be.jsx)(oi,{checked:f.global_transitions,onChange:function(e){return v("global_transitions",!f.global_transitions)}})]}),Object(be.jsxs)("div",{className:"".concat(a.settingsRow," step-settings-seven "),style:{flexBasis:"100%"},children:[Object(be.jsx)("label",{children:"Scan on startup"}),Object(be.jsx)(oi,{checked:f.scan_on_startup,onChange:function(e){return v("scan_on_startup",!f.scan_on_startup)}})]})]})},pi=function(){var e=ii(),t=P((function(e){return e.features})),n=P((function(e){return e.settingsExpanded})),r=P((function(e){return e.setSettingsExpanded})),a=Object(f.g)(),i=function(e,t,n){r(!!n&&e)};return Object(o.useEffect)((function(){a.search.indexOf("ui")>-1&&r("panel2")}),[a]),Object(be.jsx)(be.Fragment,{children:Object(be.jsxs)("div",{className:e.card,children:[Object(be.jsxs)(Sr.a,{expanded:"all"===n||"panel3"===n,onChange:function(e,t){return i("panel3",0,t)},children:[Object(be.jsx)(Dr.a,{expandIcon:Object(be.jsx)(Lr.a,{}),"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(be.jsx)(Le.a,{children:"General"})}),Object(be.jsx)(Tr.a,{children:Object(be.jsx)(bi,{})})]}),Object(be.jsxs)(Sr.a,{expanded:"all"===n||"panel1"===n,onChange:function(e,t){return i("panel1",0,t)},children:[Object(be.jsx)(Dr.a,{expandIcon:Object(be.jsx)(Lr.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(be.jsx)(Le.a,{children:"Audio Settings"})}),Object(be.jsx)(Tr.a,{children:Object(be.jsxs)("div",{children:[t.webaudio&&Object(be.jsx)(ti,{style:{position:"absolute",right:"3.5rem",top:"0.3rem"}}),Object(be.jsx)(ri,{}),Object(be.jsx)(Za,{className:"".concat(e.audioCard," step-settings-one")})]})})]}),Object(be.jsxs)(Sr.a,{expanded:"all"===n||"panel2"===n,onChange:function(e,t){return i("panel2",0,t)},children:[Object(be.jsx)(Dr.a,{expandIcon:Object(be.jsx)(Lr.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(be.jsx)(Le.a,{children:"UI Settings"})}),Object(be.jsx)(Tr.a,{children:Object(be.jsx)(li,{})})]}),t.wled&&Object(be.jsxs)(Sr.a,{expanded:"all"===n||"panel4"===n,onChange:function(e,t){return i("panel4",0,t)},children:[Object(be.jsx)(Dr.a,{expandIcon:Object(be.jsx)(Lr.a,{}),"aria-controls":"panel4a-content",id:"panel4a-header",children:Object(be.jsx)(Le.a,{children:"WLED Settings"})}),Object(be.jsx)(Tr.a,{children:Object(be.jsx)("div",{children:Object(be.jsx)($a,{className:"".concat(e.card," step-settings-five")})})})]})]})})},mi=n(175),gi=n.n(mi),hi=n(237),xi=n.n(hi),vi=Object(Y.a)((function(e){return{integrationCardPortrait:{padding:"1rem",margin:"0.5rem",display:"flex",alignItems:"flex-start",flexDirection:"column",width:"290px",justifyContent:"space-between","@media (max-width: 580px)":{maxWidth:"97vw",margin:"0 auto",height:"unset"}},integrationLink:{flexGrow:0,padding:"0 0.5rem",textDecoration:"none",fontSize:"large",color:"inherit","&:hover":{color:e.palette.primary.main}},integrationIcon:{margingBottom:"4px",marginRight:"0.5rem",position:"relative",fontSize:"50px"},integrationCardContainer:{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",height:"100%",justifyContent:"space-between","@media (max-width: 580px)":{flexDirection:"row"}},iconMedia:{height:140,display:"flex",alignItems:"center",margin:"0 auto",fontSize:100,"& > span:before":{position:"relative"}},editButton:{minWidth:32,marginLeft:e.spacing(1),"@media (max-width: 580px)":{minWidth:"unset"}},editButtonMobile:{minWidth:32,marginLeft:e.spacing(1),"@media (max-width: 580px)":{minWidth:"unset",flexGrow:1}},expand:{display:"none",transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),"@media (max-width: 580px)":{display:"block"}},expandOpen:{transform:"rotate(180deg)"},buttonBar:{"@media (max-width: 580px)":{display:"none"}},buttonBarMobile:{width:"100%",textAlign:"right"},buttonBarMobileWrapper:{display:"flex",margin:"0 -1rem -1rem -1rem",padding:"0.5rem 0.5rem 1.5rem 0.5rem",background:"rgba(0,0,0,0.4)","& > div, & > button":{flexGrow:1,flexBasis:"30%"},"& > div > button":{width:"100%"}}}})),Oi=function(e){var t,n=e.integration,r=vi(),a=P((function(e){return e.getIntegrations})),s=P((function(e){return e.integrations})),l=P((function(e){return e.deleteIntegration})),d=P((function(e){return e.toggleIntegration})),u=P((function(e){return e.setDialogOpenAddIntegration})),f=Object(o.useState)(!1),b=Object(c.a)(f,2),p=b[0],m=b[1],g="outlined",h="inherit",x=function(e){l(s[e].id).then((function(){a()}))},v=function(e){u(!0,e)};return(null===(t=s[n])||void 0===t?void 0:t.config)?Object(be.jsxs)(pn.a,{className:r.integrationCardPortrait,children:[Object(be.jsx)(mn.a,{title:s[n].config.name,subheader:s[n].config.description,action:Object(be.jsx)(St.a,{"aria-label":"status",checked:s[n].active,onClick:function(){return function(e){d({id:e.id}).then((function(){return a()}))}(s[n])}})}),Object(be.jsxs)(hn.a,{style:{alignSelf:"flex-end"},children:[Object(be.jsxs)("div",{className:r.integrationCardContainer,children:[Object(be.jsx)(ie.a,{className:Object(j.a)(r.expand,Object(i.a)({},r.expandOpen,p)),onClick:function(){m(!p)},"aria-expanded":p,"aria-label":"show more",children:Object(be.jsx)(cr.a,{})}),Object(be.jsxs)("div",{className:r.buttonBar,children:[Object(be.jsx)(Vn,{variant:g,color:h,onConfirm:function(){return x(n)},className:r.editButton}),Object(be.jsx)(Ne.a,{variant:g,size:"small",color:h,className:r.editButton,onClick:function(){return v(n)},children:Object(be.jsx)(gi.a,{})}),Object(be.jsx)(Ne.a,{variant:g,size:"small",color:h,className:r.editButton,onClick:function(){return console.log("coming soon...")},disabled:!0,children:Object(be.jsx)(xi.a,{})})]})]}),Object(be.jsx)(pr.a,{in:p,timeout:"auto",unmountOnExit:!0,className:r.buttonBarMobile,children:Object(be.jsxs)("div",{className:r.buttonBarMobileWrapper,children:[Object(be.jsx)(Vn,{variant:g,color:h,onConfirm:function(){return x(n)},className:r.editButton}),Object(be.jsx)(Ne.a,{variant:g,size:"small",color:h,className:r.editButtonMobile,onClick:function(){return v(n)},children:Object(be.jsx)(gi.a,{})})]})})]})]}):Object(be.jsx)(be.Fragment,{})},yi=Object(Y.a)((function(e){return{cardWrapper:{display:"flex",flexWrap:"wrap",margin:"-0.5rem",justifyContent:"center"},"@media (max-width: 580px)":{cardWrapper:{justifyContent:"center"}}}})),Ai=function(){var e=yi(),t=P((function(e){return e.getIntegrations})),n=P((function(e){return e.integrations}));return Object(o.useEffect)((function(){t()}),[t]),Object(be.jsx)("div",{className:e.cardWrapper,children:n&&Object.keys(n).length?Object.keys(n).map((function(e,t){return Object(be.jsx)(Oi,{integration:e},t)})):Object(be.jsx)(Ar,{type:"Integration"})})},wi=C.a.create({baseURL:"https://strapi.yeonv.com"}),ki=function(e){var t=Object(o.useState)("Loading..."),n=Object(c.a)(t,2),r=n[0],a=n[1],i=Object(f.g)(),s=Object(f.h)(),l=Object(f.f)();return Object(o.useEffect)((function(){fetch("".concat("https://strapi.yeonv.com","/auth/").concat(s.providerName,"/callback").concat(i.search)).then((function(e){if(200!==e.status)throw new Error("Couldn't login to Strapi. Status: ".concat(e.status));return e})).then((function(e){return e.json()})).then(function(){var e=Object(g.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("jwt",t.jwt),localStorage.setItem("username",t.user.username),e.next=4,wi.get("users/me",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 4:return n=e.sent,e.next=7,n.data;case 7:r=e.sent,localStorage.setItem("ledfx-cloud-userid",r.id),localStorage.setItem("ledfx-cloud-role",r.role.type),a("You have been successfully logged in as ".concat(localStorage.getItem("username"),". You will be redirected in a few seconds...")),setTimeout((function(){return l.push("/devices")}),2e3);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),a("An error occurred, please see the developer console.")}))}),[l,i.search,s.providerName]),Object(be.jsx)("p",{children:r})},Ci=function(e){var t=e.backgroundColor,n=void 0===t?"#030303":t,r=e.startColor,a=void 0===r?"#1db954":r,i=e.stopColor,c=void 0===i?"#030303":i,o=e.width,s=void 0===o?3e3:o,l=e.height,d=void 0===l?1615:l,u=e.duration,f=void 0===u?"20s":u;return Object(be.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:n,display:"block",zIndex:-1,position:"absolute",opacity:.7},width:s,height:d,preserveAspectRatio:"xMidYMid",viewBox:"0 0 ".concat(s," ").concat(d),children:Object(be.jsxs)("g",{transform:"translate(".concat(s/2,",").concat(d/2,") scale(1,-1) translate(-").concat(s/2,",-").concat(d/2,")"),children:[Object(be.jsxs)("linearGradient",{id:"wavelines",x1:"0",x2:"1",y1:"0",y2:"0",children:[Object(be.jsx)("stop",{stopColor:a,offset:"0"}),Object(be.jsx)("stop",{stopColor:c,offset:"1"})]}),Object(be.jsx)("path",{d:"",fill:"url(#wavelines)",opacity:"0.4",children:Object(be.jsx)("animate",{attributeName:"d",dur:f,repeatCount:"indefinite",keyTimes:"0;0.333;0.667;1",calcmod:"spline",keySplines:"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1",begin:"0s",values:"M0 0L 0 678.0663040506684Q 187.5 656.5089408387066  375 608.5301242592661T 750 472.46808333584056T 1125 602.0034795011228T 1500 551.8543395030395T 1875 615.9310318468375T 2250 340.25046463956204T 2625 294.06798157613395T ".concat(s," 401.3047391284752L ").concat(s," 0 Z;M0 0L 0 572.6625989140381Q 187.5 701.4967983856853  375 671.2972435339148T 750 661.5434706869476T 1125 425.93060082427337T 1500 431.41686787116885T 1875 559.6981694955109T 2250 536.4073317324428T 2625 506.3114606793714T ").concat(s," 419.58513139636244L ").concat(s," 0 Z;M0 0L 0 574.910558358432Q 187.5 548.8529002422536  375 512.3628275962079T 750 553.1600983780664T 1125 678.0408232070325T 1500 448.78082561775216T 1875 467.6119670243678T 2250 291.57321777209694T 2625 257.7529144487023T ").concat(s," 315.5832363486409L ").concat(s," 0 Z;M0 0L 0 678.0663040506684Q 187.5 656.5089408387066  375 608.5301242592661T 750 472.46808333584056T 1125 602.0034795011228T 1500 551.8543395030395T 1875 615.9310318468375T 2250 340.25046463956204T 2625 294.06798157613395T ").concat(s," 401.3047391284752L ").concat(s," 0 Z")})}),Object(be.jsx)("path",{d:"",fill:"url(#wavelines)",opacity:"0.4",children:Object(be.jsx)("animate",{attributeName:"d",dur:f,repeatCount:"indefinite",keyTimes:"0;0.333;0.667;1",calcmod:"spline",keySplines:"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1",begin:"-0.9523809523809523s",values:"M0 0L 0 547.5244921398938Q 187.5 542.6468405913107  375 512.6120422300088T 750 520.2748817945838T 1125 555.2971449031277T 1500 630.6957411367166T 1875 465.2397849009425T 2250 478.84203101514623T 2625 302.1900440534702T ".concat(s," 412.41476684835135L ").concat(s," 0 Z;M0 0L 0 805.5936624178236Q 187.5 582.8232930253387  375 560.2902059922465T 750 485.7097979161337T 1125 661.8628081473761T 1500 474.04725899939945T 1875 367.803077574558T 2250 573.7139634112334T 2625 497.1964047810817T ").concat(s," 289.98579209100916L ").concat(s," 0 Z;M0 0L 0 548.0275168368934Q 187.5 721.0313853600588  375 686.0064478828835T 750 466.6920610327345T 1125 631.238948189653T 1500 499.3600268344053T 1875 591.1213825899338T 2250 557.7283182397808T 2625 279.0836606779762T ").concat(s," 442.889396137286L ").concat(s," 0 Z;M0 0L 0 547.5244921398938Q 187.5 542.6468405913107  375 512.6120422300088T 750 520.2748817945838T 1125 555.2971449031277T 1500 630.6957411367166T 1875 465.2397849009425T 2250 478.84203101514623T 2625 302.1900440534702T ").concat(s," 412.41476684835135L ").concat(s," 0 Z")})}),Object(be.jsx)("path",{d:"",fill:"url(#wavelines)",opacity:"0.4",children:Object(be.jsx)("animate",{attributeName:"d",dur:f,repeatCount:"indefinite",keyTimes:"0;0.333;0.667;1",calcmod:"spline",keySplines:"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1",begin:"-1.9047619047619047s",values:"M0 0L 0 664.1850177088907Q 187.5 524.4869189119225  375 493.50264991054144T 750 675.5030439398979T 1125 415.18875184359223T 1500 387.8134890426991T 1875 561.612987481888T 2250 505.5323230960811T 2625 352.10692730241755T ".concat(s," 429.03049801156743L ").concat(s," 0 Z;M0 0L 0 601.7221802394107Q 187.5 671.0756443726915  375 633.4979631935103T 750 661.9084009763321T 1125 694.7808979231746T 1500 501.284817854725T 1875 518.7712277074359T 2250 565.9994157146581T 2625 366.2649022434898T ").concat(s," 362.18281732977454L ").concat(s," 0 Z;M0 0L 0 716.0327322450205Q 187.5 595.569372140571  375 556.2884151120093T 750 593.0098401621457T 1125 636.6851868849533T 1500 561.6988481068686T 1875 423.0195647384943T 2250 593.4482787188608T 2625 376.9390246013457T ").concat(s," 260.84029335622205L ").concat(s," 0 Z;M0 0L 0 664.1850177088907Q 187.5 524.4869189119225  375 493.50264991054144T 750 675.5030439398979T 1125 415.18875184359223T 1500 387.8134890426991T 1875 561.612987481888T 2250 505.5323230960811T 2625 352.10692730241755T ").concat(s," 429.03049801156743L ").concat(s," 0 Z")})}),Object(be.jsx)("path",{d:"",fill:"url(#wavelines)",opacity:"0.4",children:Object(be.jsx)("animate",{attributeName:"d",dur:f,repeatCount:"indefinite",keyTimes:"0;0.333;0.667;1",calcmod:"spline",keySplines:"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1",begin:"-2.8571428571428568s",values:"M0 0L 0 656.269958368834Q 187.5 636.6645478258729  375 597.9229569087314T 750 589.4752189469515T 1125 511.97632187462557T 1500 448.85828240648596T 1875 439.74420403128204T 2250 332.18235817526073T 2625 491.62559874719113T ".concat(s," 498.35811701250026L ").concat(s," 0 Z;M0 0L 0 755.7196436626413Q 187.5 672.9434402576483  375 625.3798731561786T 750 645.1424913755076T 1125 588.0932301693053T 1500 394.3784031810203T 1875 536.236350379975T 2250 487.73073362414334T 2625 565.7275729268961T ").concat(s," 481.6642711668175L ").concat(s," 0 Z;M0 0L 0 720.0409718720259Q 187.5 622.5092851617056  375 583.3273727288689T 750 729.3040626143495T 1125 702.6997687548346T 1500 393.8860309651117T 1875 592.4938333249283T 2250 443.7141604175665T 2625 341.08389200517377T ").concat(s," 516.6595504856689L ").concat(s," 0 Z;M0 0L 0 656.269958368834Q 187.5 636.6645478258729  375 597.9229569087314T 750 589.4752189469515T 1125 511.97632187462557T 1500 448.85828240648596T 1875 439.74420403128204T 2250 332.18235817526073T 2625 491.62559874719113T ").concat(s," 498.35811701250026L ").concat(s," 0 Z")})}),Object(be.jsx)("path",{d:"",fill:"url(#wavelines)",opacity:"0.4",children:Object(be.jsx)("animate",{attributeName:"d",dur:f,repeatCount:"indefinite",keyTimes:"0;0.333;0.667;1",calcmod:"spline",keySplines:"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1",begin:"-3.8095238095238093s",values:"M0 0L 0 792.9497830085429Q 187.5 574.7539539243503  375 536.0447741597799T 750 654.6933169872852T 1125 408.0289783671818T 1500 361.4965092910596T 1875 502.87598124339047T 2250 360.0980786483504T 2625 542.8135866665518T ".concat(s," 258.493090209655L ").concat(s," 0 Z;M0 0L 0 570.8691052665881Q 187.5 726.3521516590787  375 696.3921638815109T 750 503.4034390717407T 1125 559.2601543660331T 1500 606.5954032095979T 1875 462.452296894607T 2250 323.7482918776023T 2625 440.37662921797676T ").concat(s," 484.63478356425105L ").concat(s," 0 Z;M0 0L 0 628.67470185446Q 187.5 734.8167005707063  375 696.4723941063324T 750 717.0603234624101T 1125 487.6614680972984T 1500 424.86932559846224T 1875 444.7439859835379T 2250 502.4029739631909T 2625 293.3416583052858T ").concat(s," 206.87528478034812L ").concat(s," 0 Z;M0 0L 0 792.9497830085429Q 187.5 574.7539539243503  375 536.0447741597799T 750 654.6933169872852T 1125 408.0289783671818T 1500 361.4965092910596T 1875 502.87598124339047T 2250 360.0980786483504T 2625 542.8135866665518T ").concat(s," 258.493090209655L ").concat(s," 0 Z")})})]})})};function Si(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Di=n(240),Ti=n(121),Ni=n(501),Li=n(505),Pi=n(502),Ii=function(e){var t=e.open,n=e.setOpen,r=Object(ee.a)(),a=P((function(e){return e.virtuals})),i=P((function(e){return e.scenes})),o=P((function(e){return e.activateScene})),s=P((function(e){return e.setFeatures})),l=P((function(e){return e.setShowFeatures})),d=P((function(e){return e.features})),u=P((function(e){return e.setViewMode})),f=Object(Ni.a)({stringify:function(e){return Object.keys(e).indexOf("is_device")>-1?"device ".concat(e.config.name):"scene ".concat(e.name)}}),j=function(){n(!1)};return Object(be.jsx)(mt.a,{PaperProps:{style:{alignSelf:"flex-start",marginTop:"75px"}},open:t,onClose:j,"aria-labelledby":"form-dialog-title",children:Object(be.jsx)("div",{style:{width:500,height:80,padding:10,overflow:"hidden"},children:Object(be.jsx)(Li.a,{autoFocus:!0,autoComplete:!0,openOnFocus:!0,id:"smartbar-autocomplete",sx:{width:480,height:50},options:[].concat(Object(h.a)(Object.values(a)),Object(h.a)(Object.values(i))),autoHighlight:!0,popupIcon:null,filterOptions:f,getOptionLabel:function(e){return Object.keys(e).indexOf("is_device")>-1?e.config.name:e.name},onChange:function(e,t,n,r){t&&"object"===typeof t&&(Object.keys(t).indexOf("is_device")>-1?window.location.href="".concat(window.location.origin,"/#/device/").concat(t.id):o({id:Object.entries(i).filter((function(e){var n=Object(c.a)(e,2);n[0];return n[1].name===t.name}))[0][0]})),j()},onInputChange:function(e,t){"HackedByBlade!"===t&&(alert("DevMode activated!"),s("dev",!0)),d.dev&&("clear"===t&&(u("user"),l("dev",!1),l("go",!1),l("streamto",!1),l("waves",!1),l("effectfilter",!1),l("cloud",!1),l("wled",!1),l("integrations",!1),l("spotify",!1),l("webaudio",!1),s("streamto",!1),s("go",!1),s("waves",!1),s("cloud",!1),s("effectfilter",!1),s("wled",!1),s("dev",!1),s("integrations",!1),s("spotify",!1),s("webaudio",!1),window.localStorage.removeItem("ledfx-theme"),window.localStorage.setItem("BladeMod",0),window.location.reload()),"BladeCloud"===t&&l("cloud",!0),"BladeWled"===t&&l("wled",!0),"BladeIntegrations"===t&&l("integrations",!0),"BladeSpotify"===t&&l("spotify",!0),"BladeWebaudio"===t&&l("webaudio",!0),"BladeWaves"===t&&l("waves",!0),"BladeStreamTo"===t&&l("streamto",!0),"BladeEffectFilter"===t&&l("effectfilter",!0),"BladeGo"===t&&l("go",!0),t.startsWith("theme:")&&["DarkRed","DarkOrange","Light","DarkGreen","DarkBlue","DarkGrey"].indexOf(t.replace("theme:",""))>-1&&(window.localStorage.setItem("ledfx-theme",t.replace("theme:","")),window.location.reload())),"BladeIsYeon"===t&&(u("expert"),l("dev",!0),l("go",!0),l("streamto",!0),l("cloud",!0),l("effectfilter",!0),l("waves",!0),l("wled",!0),l("integrations",!0),l("spotify",!0),l("webaudio",!0),s("streamto",!0),s("go",!0),s("waves",!0),s("cloud",!0),s("wled",!0),s("integrations",!0),s("effectfilter",!0),s("spotify",!0),s("webaudio",!0),window.localStorage.setItem("ledfx-theme","DarkRed"),window.location.reload())},renderOption:function(e,t){var n;return Object(be.jsxs)(Pi.a,Object(x.a)(Object(x.a)({component:"li"},e),{},{sx:{color:r.palette.text.secondary,width:"100%",padding:"5px 50px","&&&":{justifyContent:"space-between"}},children:[Object(be.jsxs)(Le.a,{variant:"body1",children:[" ",(null===(n=t.config)||void 0===n?void 0:n.name)||t.name," "]}),Object(be.jsxs)("div",{children:[Object(be.jsx)(Le.a,{style:{opacity:.6},variant:"caption",children:Object.keys(t).indexOf("is_device")>-1?"jump to ":"activate "}),Object(be.jsx)(Le.a,{style:{opacity:.6,border:"1px solid",borderRadius:5,padding:"2px 5px"},variant:"caption",children:Object.keys(t).indexOf("is_device")>-1?"Device":"Scene"})]})]}))},PaperComponent:function(e){var t=e.children;return Object(be.jsx)(Ti.a,{style:{width:500,marginLeft:-10,background:r.palette.background.paper},children:t})},renderInput:function(e){return Object(be.jsx)(vt.a,Object(x.a)(Object(x.a)({},e),{},{autoFocus:!0,variant:"outlined",color:"primary",label:"Jump to device / Activate scene",inputProps:Object(x.a)(Object(x.a)({},e.inputProps),{},{autoComplete:"off"})}))}})})})};var Bi=function(){if(!!window.localStorage.getItem("ledfx-newbase")){var e=new B.a("".concat((window.localStorage.getItem("ledfx-host")||(O()()?"http://localhost:8080":window.location.href.split("/#")[0])).replace("https://","wss://").replace("http://","ws://"),"/ws"),{timeout:5e3,maxAttempts:10,onopen:function(t){console.log("NEW BASE Connected!",t),e.ws=t.target},onmessage:function(e){console.log("NEW BASE MSG!",e),JSON.parse(e.data).type&&document.dispatchEvent(new CustomEvent("YZNEW",{detail:JSON.parse(e.data)}))},onclose:function(e){console.log("NEW BASE Closed!",e)}});return e}}(),Ei=Bi,_i=s.a.createContext(Bi),Mi=function(){var e=Object(f.g)().pathname,t=Object(o.useState)(!1),n=Object(c.a)(t,2),r=n[0],a=n[1];return Object(o.useLayoutEffect)((function(){r||Bi.ws&&a(!0)}),[e]),Object(o.useEffect)((function(){if(r){var e=function(){var e=Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={message:"frontend connected",id:1,type:"success"},Bi.send(JSON.stringify(++t.id&&t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){var e=function(){var e=Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={id:2,type:"unsubscribe_event",event_type:"visualisation_update"},Bi.send(JSON.stringify(++t.id&&t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}}),[r]),Object(o.useEffect)((function(){r||Bi.ws&&a(!0)}),[r,Bi]),null};function zi(){var e,t=$(),n=P((function(e){return e.ui.bars&&e.ui.bars.leftBar.open})),r=P((function(e){return e.getVirtuals})),a=P((function(e){return e.getSystemConfig})),s=P((function(e){return e.getSchemas})),p=P((function(e){return e.shutdown})),m=P((function(e){return e.features})),g=P((function(e){return e.showSnackbar})),h=Object(o.useState)(!1),x=Object(c.a)(h,2),v=x[0],y=x[1];Object(Di.a)("ctrl+alt+y",(function(){return y(!v)}));var A=function(){var e=Object(o.useState)(Si()),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){function e(){r(Si())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),w=A.height,k=A.width,C=!!window.localStorage.getItem("ledfx-newbase"),S=window.localStorage.getItem("ledfx-theme")?window.localStorage.getItem("ledfx-theme"):window.localStorage.getItem("hassTokens")?"DarkBlue":"https://my.ledfx.app"===window.location.origin?"DarkGreen":O()()?"DarkOrange":"DarkRed",D={Dark:H,DarkRed:H,DarkOrange:J,Light:V,DarkGreen:R,DarkBlue:F,DarkGrey:G};return Object(o.useEffect)((function(){r(),a(),s()}),[r,a,s]),Object(o.useEffect)((function(){m.go?(window.localStorage.setItem("ledfx-newbase",1),C=!0):(window.localStorage.removeItem("ledfx-newbase"),C=!1)}),[m]),Object(o.useEffect)((function(){window.localStorage.getItem("ledfx-frontend")>=4||(K(),window.localStorage.setItem("ledfx-frontend",4)),console.info("%c Ledfx %c\n       \xa9 by Blade  ","padding: 10px 40px; color: #ffffff; border-radius: 5px 5px 0 0; background-image:url(https://my.ledfx.app/favicon/favicon-32x32.png); background-color: #800000; background-repeat: no-repeat; background-position: 10% 50%;","background: #fff; color: #800000; border-radius: 0 0 5px 5px;padding: 5px 0;")}),[]),null===(e=window.api)||void 0===e||e.receive("fromMain",(function(e){"shutdown"===e&&p(),"clear-frontend"===e&&K()})),Object(o.useEffect)((function(){var e=function(e){g({message:e.detail.message,messageType:e.detail.type})};return document.addEventListener("YZNEW",e),function(){document.removeEventListener("YZNEW",e)}}),[]),Object(be.jsx)(d.a,{theme:U,children:Object(be.jsx)(l.a,{theme:D[S||"DarkRed"],children:Object(be.jsx)(_i.Provider,{value:Ei,children:Object(be.jsx)(M.Provider,{value:_,children:Object(be.jsxs)("div",{className:t.root,style:{paddingTop:O()()?"30px":0},children:[Object(be.jsx)(b.a,{}),Object(be.jsxs)(u.a,{basename:"/LedFx-Frontend-v2",children:[Object(be.jsx)(I,{}),!C&&Object(be.jsx)(z,{}),C&&Object(be.jsx)(Mi,{}),Object(be.jsx)(ln,{}),Object(be.jsx)(st,{}),Object(be.jsx)(Ce,{}),Object(be.jsxs)("main",{className:Object(j.a)(t.content,Object(i.a)({},t.contentShift,n)),children:[Object(be.jsx)("div",{className:t.drawerHeader}),Object(be.jsxs)(f.c,{children:[Object(be.jsx)(f.a,{exact:!0,path:"/connect/:providerName/redirect",component:ki}),Object(be.jsx)(f.a,{exact:!0,path:"/",component:Ln}),Object(be.jsx)(f.a,{path:"/devices",component:kr}),Object(be.jsx)(f.a,{path:"/device/:virtId",component:Xa}),Object(be.jsx)(f.a,{path:"/scenes",component:qa}),Object(be.jsx)(f.a,{path:"/integrations",component:Ai}),Object(be.jsx)(f.a,{path:"/settings",component:pi})]}),Object(be.jsx)(bn,{}),Object(be.jsx)(Ii,{open:v,setOpen:y})]}),Object(be.jsx)(an,{})]}),m.waves&&Object(be.jsx)(Ci,{startColor:D[S||"DarkRed"].palette.primary.main,stopColor:D[S||"DarkRed"].palette.accent.main||"#ffdc0f",width:k-8,height:w})]})})})})})}var Wi=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,535)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},Ri=n(146),Fi=n(147),Hi=n(241),Gi=n(239),Ji=function(e){Object(Hi.a)(n,e);var t=Object(Gi.a)(n);function n(e){var r;return Object(Ri.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(Fi.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(be.jsxs)("div",{style:{maxWidth:360,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",margin:"0 auto",paddingTop:"3rem"},children:[Object(be.jsx)("h1",{children:"Something went wrong"}),Object(be.jsxs)("p",{children:["Deleting the browser's frontend-data might help,",Object(be.jsx)("br",{}),"if there is old config data left."]}),Object(be.jsx)("p",{children:" Refresh page after cleaing data... "}),Object(be.jsx)("button",{style:{height:40,borderRadius:10,border:"1px solid #999",color:"#fff",backgroundColor:"#600000",cursor:"pointer"},onClick:function(){window.localStorage.removeItem("undefined"),window.localStorage.removeItem("ledfx-host"),window.localStorage.removeItem("ledfx-hosts"),window.localStorage.removeItem("ledfx-frontend"),window.localStorage.removeItem("ledfx-cloud-role"),window.localStorage.removeItem("ledfx-cloud-userid"),window.localStorage.removeItem("ledfx-theme"),window.localStorage.removeItem("jwt"),window.localStorage.removeItem("username"),window.localStorage.removeItem("BladeMod"),window.location.reload()},children:"Clear Browser-Data"}),Object(be.jsx)("br",{})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(s.a.Component);a.a.render(Object(be.jsx)(Ji,{children:Object(be.jsx)(zi,{})}),document.getElementById("root")),Wi()}},[[326,1,2]]]);
//# sourceMappingURL=main.ab58331a.chunk.js.map